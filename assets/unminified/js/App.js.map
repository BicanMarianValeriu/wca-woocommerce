{"version":3,"file":"js/App.js","mappings":"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AczF,IAAd,GAAqBL,GAArB,CAAyB,CAACO,CAAD,EAAIC,CAAJ,KAAU;IAAK,GAAG,EAAEA,CAAV;IAAa,uBAAuB,EAAE;MAAEgG,MAAM,EAAEF;IAAV;EAAtC,EAAnC,CADb,EAEE,CAACnK,OAAD,IAAYE,OAAO,CAAC2D,GAAR,CAAayG,MAAD,IAAY,kEAAC,2DAAD;IACpCA,MADoC;IAEpC3K,QAFoC;IAGpCgJ,UAHoC;IAIpCoB,YAJoC;IAKpCnB,aALoC;IAMpC9J;EANoC,EAAxB,CAFd,CADD,EAYEoL,UAAU,GAAG,CAAb,IAAkB,kEAAC,2DAAD,iFAAqB/J,IAArB;IAA2BH,OAA3B;IAAoCH,SAApC;IAA+CC;EAA/C,GAZpB,CADD;AAgBA,CAnCD;;;;;;;;;;;;;;ACXA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAzEA;;;;;;;;;;;;;;ACAA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAv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","sources":["webpack://wca-woocommerce/./src/js/frontend/reviews/App.js","webpack://wca-woocommerce/./src/js/frontend/reviews/filters/ResultsNote.js","webpack://wca-woocommerce/./src/js/frontend/reviews/filters/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/functions.js","webpack://wca-woocommerce/./src/js/frontend/reviews/hooks.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/comments/AddComment.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/preloaders/ReviewPreloader.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/preloaders/ReviewPreloaderMobile.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/Pagination.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/ReviewItem.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Action.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Comment.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Like.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Replies.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/RatingInput.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/StarRating.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/AddReview.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingBars.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingData.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingStats.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/index.js"],"sourcesContent":["import Summary from './summary';\nimport Filters from './filters';\nimport Listing from './listing';\nimport { useApiFetch } from './hooks';\nimport { scrollToElement } from './functions';\n\nconst { element: { useState, useEffect, lazy, Suspense } } = wp;\n\nconst LeaveAReview = lazy(() => import(/* webpackChunkName: 'ReviewForm' */ './form'));\n\nconst App = (options) => {\n\tconst {\n\t\theadline = false,\n\t\tcontainer = '#reviews',\n\t\tproduct: { ID: product_id, total },\n\t\tquery,\n\t\trequestUrl,\n\t} = options;\n\n\t// State\n\tconst [scroll, setScroll] = useState(false);\n\tconst [rating, setRating] = useState(false);\n\tconst [userData, setUserData] = useState(false);\n\tconst [queryArgs, setQueryArgs] = useState({ product_id, ...query, action: 'query' });\n\n\t// Load requested comments by filters\n\tconst { loading, data: reviews, meta } = useApiFetch({ queryArgs });\n\n\t// Set User\n\tuseEffect(() => {\n\t\tif (userData) return;\n\n\t\t(async () => {\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append('action', 'user');\n\n\t\t\ttry {\n\t\t\t\tconst r = await fetch(requestUrl, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: formData,\n\t\t\t\t});\n\n\t\t\t\tconst { token, status } = await r.json();\n\n\t\t\t\tif (status) {\n\t\t\t\t\tconst [reviewer, reviewer_email] = atob(token).split(':');\n\t\t\t\t\tsetUserData({ reviewer, reviewer_email });\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t})();\n\t}, [userData]);\n\n\t// Scroll to Comments if rating\n\tuseEffect(() => {\n\t\tif (scroll) {\n\t\t\tconst scrollEl = document.querySelector(container);\n\t\t\tscrollToElement(scrollEl);\n\t\t}\n\t\tsetScroll(true);\n\t}, [rating, scroll]);\n\n\tconst defaultProps = { options, rating, setRating, queryArgs, setQueryArgs, userData };\n\tconst filtersProps = { options, loading, meta, queryArgs, setQueryArgs };\n\tconst listingProps = { ...filtersProps, reviews, userData };\n\n\treturn (\n\t\t<>\n\t\t\t{headline && <>\n\t\t\t\t<h2 className=\"woocommerce-Reviews__headline\">{headline}</h2>\n\t\t\t\t<div className=\"border-bottom my-3\" />\n\t\t\t</>}\n\t\t\t{typeof rating === 'number' && <Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t<LeaveAReview {...defaultProps} />\n\t\t\t</Suspense>}\n\t\t\t{typeof rating === 'boolean' && <Summary {...{ ...defaultProps, meta }} />}\n\t\t\t{total > 0 && <>\n\t\t\t\t<Filters {...filtersProps} />\n\t\t\t\t<Listing {...listingProps} />\n\t\t\t</>}\n\t\t</>\n\t);\n};\n\nexport { App };","const {\n\ti18n: { __, _n, sprintf }\n} = wp;\n\nexport default ({ totalResults = false, onReset }) => {\n\treturn (totalResults !== false &&\n\t\t<>\n\t\t\t<div className=\"has-accent-background-color rounded p-3 my-3\">\n\t\t\t\t<span>{sprintf(\n\t\t\t\t\t_n('We found %s result for your filters.', 'We found %s results for your filters.', totalResults, 'wca-woocommerce'),\n\t\t\t\t\ttotalResults\n\t\t\t\t)}</span>\n\t\t\t\t<span>&nbsp;</span>\n\t\t\t\t<a href=\"javascript:void(0);\" onClick={onReset}>{__('Remove filters', 'wca-woocommerce')}</a>\n\t\t\t</div>\n\t\t</>\n\t);\n};","import { useForm } from 'react-hook-form';\nimport ResultsNote from './ResultsNote';\n\nconst {\n\ti18n: { __, _n, sprintf }\n} = wp;\n\nexport default ({ queryArgs, setQueryArgs, loading, meta: { totalResults }, options }) => {\n\tconst {\n\t\tproduct: {\n\t\t\tID: product_id,\n\t\t\tcounts,\n\t\t},\n\t\tverified,\n\t} = options;\n\n\tlet amount = {\n\t\t5: 0,\n\t\t4: 0,\n\t\t3: 0,\n\t\t2: 0,\n\t\t1: 0,\n\t};\n\n\tamount = { ...amount, ...counts };\n\n\tconst getLabel = (v) => sprintf(_n('%s star reviews', '%s stars reviews', v, 'wca-woocommerce'), v);\n\n\tconst { handleSubmit, register } = useForm({ mode: 'onSubmit' });\n\n\tconst onSubmit = (values) => {\n\t\tconst result = {};\n\n\t\tfor (const [k, v] of Object.entries(values)) {\n\t\t\tif (v !== '' && v !== false) result[k] = v;\n\t\t}\n\n\t\tsetQueryArgs({ product_id, ...result });\n\t};\n\n\tconst onChange = () => setTimeout(handleSubmit(onSubmit), 20);\n\n\tconst onReset = () => {\n\t\tdocument.forms['wca-woo-filters'].reset();\n\n\t\treturn onChange();\n\t};\n\n\tconst style = {};\n\n\tif (loading) {\n\t\tstyle.pointerEvents = 'none';\n\t\tstyle.opacity = .65;\n\t}\n\n\tconst includedIn = (x) => ['rating', 'verified', 'search'].includes(x);\n\tconst hasFilters = Object.keys(queryArgs).map(includedIn).filter(Boolean).pop();\n\n\treturn (\n\t\t<form className=\"woocommerce-Reviews__filters\" onSubmit={handleSubmit(onSubmit)} name=\"wca-woo-filters\" style={style}>\n\t\t\t<div className=\"border-bottom my-3\" />\n\t\t\t<div className=\"wp-block-columns is-not-stacked-on-mobile align-items-center g-3\">\n\t\t\t\t<div className=\"wp-block-column col-12 col-sm col-lg-3 input-group input-group-sm\">\n\t\t\t\t\t<label class=\"input-group-text\" for=\"orderby\">{__('Sort:', 'wca-woocommerce')}</label>\n\t\t\t\t\t<select className=\"form-select\" id=\"orderby\" name=\"orderby\" onChange={onChange} ref={register}>\n\t\t\t\t\t\t<option value=\"\">{__('Recent', 'woocommerce')}</option>\n\t\t\t\t\t\t<option value=\"rating\">{__('Rating', 'wca-woocommerce')}</option>\n\t\t\t\t\t\t<option value=\"likes\">{__('Popularity', 'wca-woocommerce')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wp-block-column col-12 col-sm col-lg-3 input-group input-group-sm\">\n\t\t\t\t\t<label class=\"input-group-text\" for=\"stars\">{__('Filter:', 'wca-woocommerce')}</label>\n\t\t\t\t\t<select className=\"form-select\" id=\"stars\" name=\"rating\" onChange={onChange} ref={register}>\n\t\t\t\t\t\t<option value=\"\">{__('All reviews', 'wca-woocommerce')}</option>\n\t\t\t\t\t\t{Array(5).fill().reverse().map((_, i) => {\n\t\t\t\t\t\t\tconst value = 5 - i;\n\t\t\t\t\t\t\treturn (<option {...{ disabled: amount[value] === 0, value }}>{getLabel(value)}</option>);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t{verified && <div className=\"wp-block-column col-auto input-group input-group-sm\">\n\t\t\t\t\t<input className=\"js-filter-purchase\" type=\"checkbox\" name=\"verified\" id=\"verified\" onChange={onChange} ref={register} />\n\t\t\t\t\t<label className=\"wp-element-button has-accent-background-color\" for=\"verified\">\n\t\t\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--verified me-lg-3\" />\n\t\t\t\t\t\t<span className=\"d-none d-lg-inline-block\">{__('Verified owner', 'wca-woocommerce')}</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>}\n\t\t\t\t<div className=\"wp-block-column col-auto col-sm-12 col-lg flex-grow-1 input-group input-group-sm\">\n\t\t\t\t\t<input {...{\n\t\t\t\t\t\ttype: 'search',\n\t\t\t\t\t\tname: 'search',\n\t\t\t\t\t\tclassName: 'form-control',\n\t\t\t\t\t\tplaceholder: __('Search in reviews', 'wca-woocommerce'),\n\t\t\t\t\t\tref: register,\n\t\t\t\t\t\tonBlur({ target: { value } }) {\n\t\t\t\t\t\t\tif (value === '' && queryArgs.search !== undefined) {\n\t\t\t\t\t\t\t\tdelete queryArgs.search;\n\t\t\t\t\t\t\t\tsetQueryArgs({ ...queryArgs });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}} />\n\t\t\t\t\t<button {...{\n\t\t\t\t\t\tclassName: 'wp-element-button has-accent-background-color',\n\t\t\t\t\t\tstyle: { lineHeight: 1 },\n\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<span className=\"screen-reader-text\">{__('Search', 'wca-woocommerce')}</span>\n\t\t\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--search\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"border-bottom my-3\" />\n\t\t\t{!loading && hasFilters ? <ResultsNote totalResults={totalResults} onReset={onReset} /> : null}\n\t\t</form>\n\t);\n};","const formatDate = (date) => {\n\tconst event = new Date(date);\n\tconst options = { year: 'numeric', month: 'long', day: 'numeric' };\n\treturn event.toLocaleDateString(undefined, options);\n};\n\nconst getCookie = (cname) => {\n\tconst name = cname + \"=\";\n\tconst ca = document.cookie.split(';');\n\n\tfor (let i = 0; i < ca.length; i++) {\n\t\tlet c = ca[i];\n\t\twhile (c.charAt(0) == ' ') c = c.substring(1);\n\t\tif (c.indexOf(name) == 0) return c.substring(name.length, c.length);\n\t}\n\n\treturn \"\";\n};\n\nconst scrollToElement = (element) => {\n\tif (element) {\n\t\tconst headerEl = document.querySelector('.wp-site-header.sticky-top');\n\t\tconst elementPosition = window.scrollY + element.getBoundingClientRect().top - 10;\n\t\tconst scrollPosition = elementPosition - (headerEl ? headerEl.clientHeight : 0);\n\t\twindow.scrollTo({ top: scrollPosition, behavior: 'smooth' });\n\t}\n};\n\nexport { formatDate, getCookie, scrollToElement };","const { element: { useEffect, useState, useRef, useReducer } } = wp;\nconst { requestUrl, product: { total } } = wpBlockWooReviews;\n\n// Actions\nconst ACTIONS = {\n\tMAKE_REQUEST: 'make-request',\n\tSET_META: 'set-meta',\n\tGET_REVIEWS: 'get-reviews',\n\tGET_COMMENTS: 'get-comments',\n\tERROR: 'error'\n};\n\n// Reducer\nfunction reducer(state, action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase ACTIONS.MAKE_REQUEST:\n\t\t\treturn { ...state, loading: true, data: [], meta: {} };\n\n\t\tcase ACTIONS.SET_META:\n\t\t\tconst { meta } = payload;\n\n\t\t\treturn { ...state, meta };\n\n\t\tcase ACTIONS.GET_REVIEWS:\n\t\tcase ACTIONS.GET_COMMENTS:\n\t\t\tconst { data } = payload;\n\n\t\t\treturn { ...state, loading: false, data };\n\n\t\tcase ACTIONS.ERROR:\n\t\t\tconst { error } = payload;\n\n\t\t\treturn { ...state, loading: false, data: [], error };\n\n\t\tdefault: return state;\n\t}\n}\n\n/**\n * Function that fetches data using apiFetch, and updates the status.\n *\n * @param {string} path Query path.\n */\nfunction useApiFetch({\n\tpath = requestUrl,\n\tqueryArgs = {},\n\taction = 'GET_REVIEWS'\n}, hasReviews = total) {\n\tconst [state, dispatch] = useReducer(reducer, {\n\t\tdata: [],\n\t\tmeta: {},\n\t\tloading: false,\n\t\terror: false,\n\t});\n\n\tconst formData = new FormData();\n\tformData.append('action', 'query');\n\tObject.keys(queryArgs).map(k => formData.append(k, queryArgs[k]));\n\n\tuseEffect(() => {\n\t\tif (hasReviews === 0) return;\n\n\t\tdispatch({ type: ACTIONS.MAKE_REQUEST });\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tparse: true,\n\t\t}).then(r => r.json()).then(({ meta, data }) => {\n\n\t\t\tdispatch({ type: ACTIONS.SET_META, payload: { meta } });\n\n\t\t\tdispatch({ type: ACTIONS[action], payload: { data } });\n\n\t\t}).catch((error) => {\n\n\t\t\tdispatch({ type: ACTIONS.ERROR, payload: { error } });\n\n\t\t}).finally(() => {\n\n\t\t});\n\t}, [queryArgs, total]);\n\n\treturn state;\n}\n\n/**\n * Function that listens for hover.\n */\nfunction useHover() {\n\tconst [value, setValue] = useState(false);\n\n\tconst ref = useRef(null);\n\n\tconst handleMouseOver = (e) => setValue(e.target);\n\tconst handleMouseOut = () => setValue(false);\n\n\tuseEffect(() => {\n\t\tconst node = ref.current;\n\t\tif (node) {\n\t\t\t// Add event listeners for mouse events\n\t\t\tnode.addEventListener('mouseover', handleMouseOver);\n\t\t\tnode.addEventListener('mouseout', handleMouseOut);\n\n\t\t\t// Add event listeners for touch events\n\t\t\tnode.addEventListener('touchstart', handleMouseOver);\n\t\t\tnode.addEventListener('touchend', handleMouseOut);\n\n\t\t\treturn () => {\n\t\t\t\t// Remove event listeners for mouse events\n\t\t\t\tnode.removeEventListener('mouseover', handleMouseOver);\n\t\t\t\tnode.removeEventListener('mouseout', handleMouseOut);\n\n\t\t\t\t// Remove event listeners for touch events\n\t\t\t\tnode.removeEventListener('touchstart', handleMouseOver);\n\t\t\t\tnode.removeEventListener('touchend', handleMouseOut);\n\t\t\t};\n\t\t}\n\t}, [ref.current]);\n\n\treturn [ref, value];\n}\n\nexport { useHover, useApiFetch };","import { useForm } from 'react-hook-form';\n\nconst {\n\ti18n: { __ },\n\thooks: { doAction },\n\telement: { useState }\n} = wp;\n\nexport default ({ addComment, setAddComment, productId, requestUrl }) => {\n\tconst { handleSubmit, register, errors = false } = useForm();\n\tconst [loading, setLoading] = useState(false);\n\tconst [message, setMessage] = useState(false);\n\n\tconst onSubmit = async (values) => {\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst formData = new FormData();\n\t\tformData.append('action', 'comment');\n\t\tformData.append('product_id', productId);\n\t\tformData.append('parent', addComment);\n\n\t\tObject.keys(values).map(k => formData.append(k, values[k]));\n\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst r = await fetch(requestUrl, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: formData,\n\t\t\t});\n\n\t\t\tconst { message } = await r.json();\n\t\t\t\n\t\t\treturn setMessage(message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t\tsetTimeout(() => setAddComment(false), 5000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{message ?\n\t\t\t\t<div className=\"has-accent-background-color rounded p-3 my-3\"><p className=\"mt-0\">{message}</p></div>\n\t\t\t\t:\n\t\t\t\t<form className=\"woocommerce-Reviews__comment\" onSubmit={handleSubmit(onSubmit)} name=\"wca-woo-comment\">\n\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newComment.top', register, errors, productId)}\n\t\t\t\t\t<div className=\"position-relative my-3\">\n\t\t\t\t\t\t<textarea className=\"form-control\" id=\"comment\" name=\"comment\" rows=\"7\" required=\"\" ref={register({\n\t\t\t\t\t\t\trequired: __('This cannot be empty!', 'wca-woocommerce'),\n\t\t\t\t\t\t\tminLength: 20\n\t\t\t\t\t\t})} placeholder={__('Your comment', 'wca-woocommerce')}></textarea>\n\t\t\t\t\t\t{errors.comment && <em class=\"invalid-feedback d-block\">{\n\t\t\t\t\t\t\terrors.comment.type === 'minLength' ? __('Comment is too short.', 'wca-woocommerce') : errors.comment.message\n\t\t\t\t\t\t}</em>}\n\t\t\t\t\t</div>\n\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newComment.bottom', register, errors, productId)}\n\t\t\t\t\t<button {...{\n\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\tclassName: 'wp-element-button has-primary-background-color py-1',\n\t\t\t\t\t\tdisabled: loading === true || errors.comment === false || errors.comment\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<span>{loading ? __('Submitting...', 'wca-woocommerce') : __('Add Comment', 'wca-woocommerce')}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t}\n\t\t</>\n\t);\n};","import ReviewItem from './reviews/ReviewItem';\nimport Pagination from './reviews/Pagination';\nimport Preloader from './preloaders/ReviewPreloader';\nimport PreloaderMobile from './preloaders/ReviewPreloaderMobile';\nimport { scrollToElement } from '../functions';\n\nconst {\n\turl: { isValidFragment },\n\telement: { useEffect, useState },\n} = wp;\n\nexport default ({ loading, reviews = [], meta, queryArgs, setQueryArgs, userData, options }) => {\n\t// App Options\n\tconst { query: { number } } = options;\n\n\tconst { hash } = window.location;\n\tconst rId = isValidFragment(hash) && hash.split('-').pop();\n\tconst [addComment, setAddComment] = useState(false);\n\n\tconst onAddComment = (id) => (addComment !== id) ? setAddComment(id) : setAddComment(false);\n\n\tuseEffect(() => {\n\t\tif (loading) return;\n\t\tconst scrollEl = document.getElementById(`review-${rId}`);\n\t\tscrollToElement(scrollEl);\n\t}, [loading, rId]);\n\n\tconst { totalPages } = meta;\n\tconst preloader = window.innerWidth > 767 ? Preloader : PreloaderMobile;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"woocommerce-Reviews__listing is-layout-flow\">\n\t\t\t\t{loading && Array(number).fill().map((_, i) => <div key={i} dangerouslySetInnerHTML={{ __html: preloader }} />)}\n\t\t\t\t{!loading && reviews.map((review) => <ReviewItem {...{\n\t\t\t\t\treview,\n\t\t\t\t\tuserData,\n\t\t\t\t\taddComment,\n\t\t\t\t\tonAddComment,\n\t\t\t\t\tsetAddComment,\n\t\t\t\t\toptions\n\t\t\t\t}} />)}\n\t\t\t</div>\n\t\t\t{totalPages > 1 && <Pagination {...{ ...meta, loading, queryArgs, setQueryArgs }} />}\n\t\t</>\n\t);\n};","export default `<svg\n\trole=\"img\"\n\twidth=\"1024\"\n\theight=\"150\"\n\taria-labelledby=\"loading-aria\"\n\tviewBox=\"0 0 1024 150\"\n\tpreserveAspectRatio=\"none\"\n\tstyle=\"width:100%;height:auto;\"\n>\n\t<title id=\"loading-aria\">Loading...</title>\n\t<rect\n\t\tx=\"0\"\n\t\ty=\"0\"\n\t\twidth=\"100%\"\n\t\theight=\"100%\"\n\t\tclip-path=\"url(#clip-path)\"\n\t\tstyle='fill: url(\"#fill\");'\n\t></rect>\n\t<defs>\n\t\t<clipPath id=\"clip-path\">\n\t\t\t<circle cx=\"35\" cy=\"40\" r=\"35\"></circle>\n\t\t\t<rect x=\"0\" y=\"100\" rx=\"3\" ry=\"3\" width=\"150\" height=\"8\"></rect>\n\t\t\t<rect x=\"0\" y=\"115\" rx=\"3\" ry=\"3\" width=\"75\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"15\" rx=\"3\" ry=\"3\" width=\"400\" height=\"10\"></rect>\n\t\t\t<rect x=\"265\" y=\"35\" rx=\"3\" ry=\"3\" width=\"75\" height=\"8\"></rect>\n\t\t\t<rect x=\"355\" y=\"35\" rx=\"3\" ry=\"3\" width=\"130\" height=\"8\"></rect>\n\t\t\t<rect x=\"265\" y=\"65\" rx=\"3\" ry=\"3\" width=\"750\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"80\" rx=\"3\" ry=\"3\" width=\"680\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"95\" rx=\"3\" ry=\"3\" width=\"630\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"110\" rx=\"3\" ry=\"3\" width=\"130\" height=\"6\"></rect>\n\t\t</clipPath>\n\t\t<linearGradient id=\"fill\">\n\t\t\t<stop\n\t\t\t\toffset=\"0.599964\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-2; -2; 1\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"1.59996\"\n\t\t\t\tstop-color=\"#ecebeb\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-1; -1; 2\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"2.59996\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"0; 0; 3\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t</linearGradient>\n\t</defs>\n</svg>`;","export default `<svg\n\trole=\"img\"\n\twidth=\"1024\"\n\theight=\"460\"\n\taria-labelledby=\"loading-aria\"\n\tviewBox=\"0 0 1024 450\"\n\tpreserveAspectRatio=\"none\"\n\tstyle=\"width:100%;height:auto;\"\n>\n\t<title id=\"loading-aria\">Loading...</title>\n\t<rect\n\t\tx=\"0\"\n\t\ty=\"0\"\n\t\twidth=\"100%\"\n\t\theight=\"100%\"\n\t\tclip-path=\"url(#clip-path)\"\n\t\tstyle='fill: url(\"#fill\");'\n\t></rect>\n\t<defs>\n\t\t<clipPath id=\"clip-path\">\n\t\t\t<circle cx=\"100\" cy=\"110\" r=\"100\"></circle>\n\t\t\t<rect x=\"265\" y=\"50\" rx=\"3\" ry=\"3\" width=\"380\" height=\"25\"></rect>\n\t\t\t<rect x=\"265\" y=\"100\" rx=\"3\" ry=\"3\" width=\"150\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"500\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"270\" rx=\"3\" ry=\"3\" width=\"220\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"320\" rx=\"3\" ry=\"3\" width=\"980\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"350\" rx=\"3\" ry=\"3\" width=\"880\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"400\" rx=\"3\" ry=\"3\" width=\"400\" height=\"20\"></rect>\n\t\t</clipPath>\n\t\t<linearGradient id=\"fill\">\n\t\t\t<stop\n\t\t\t\toffset=\"0.599964\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-2; -2; 1\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"1.59996\"\n\t\t\t\tstop-color=\"#ecebeb\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-1; -1; 2\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"2.59996\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"0; 0; 3\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t</linearGradient>\n\t</defs>\n</svg>`;","import { scrollToElement } from './../../functions';\n\nconst {\n\ti18n: { __ },\n\telement: { useEffect, useState },\n} = wp;\n\nexport default ({ loading, queryArgs, setQueryArgs, totalPages: total }) => {\n\tconst { page = 1 } = queryArgs;\n\tconst [scroll, setScroll] = useState(false);\n\tconst setPage = (p) => setQueryArgs({ ...queryArgs, page: Math.min(Math.max(p, 1), total) });\n\n\tuseEffect(() => {\n\t\tif (scroll) {\n\t\t\tconst scrollEl = document.forms['wca-woo-filters'];\n\t\t\tscrollToElement(scrollEl);\n\t\t}\n\t\tsetScroll(true);\n\t}, [page]);\n\n\tconst ReaderText = ({ text }) => <span class=\"screen-reader-text\">{text}</span>;\n\n\tconst renderAdjacent = (prev = false) => {\n\t\tconst goToPage = prev ? page - 1 : page + 1;\n\t\tconst isPrevDisabled = [prev === true && page === 1 ? 'disabled' : ''];\n\t\tconst isNextDisabled = [prev === false && page === parseFloat(total) ? 'disabled' : ''];\n\t\tconst classNames = [\n\t\t\t'woocommerce-Reviews__pagination-item',\n\t\t\t'woocommerce-Reviews__pagination-item--' + (prev ? 'prev' : 'next'),\n\t\t\t...isPrevDisabled,\n\t\t\t...isNextDisabled\n\t\t].filter(Boolean);\n\n\t\tconst isDisabled = prev === true && page === 1 || prev === false && page === parseFloat(total);\n\n\t\tconst props = {\n\t\t\tclassName: 'woocommerce-Reviews__pagination-link',\n\t\t\thref: !isDisabled ? 'javascript:void(0);' : null,\n\t\t\tonClick: !isDisabled ? () => setPage(goToPage) : null,\n\t\t}\n\n\t\tconst Inner = () => <span aria-hidden=\"true\" dangerouslySetInnerHTML={{ __html: prev ? '&laquo;' : '&raquo;' }}></span>;\n\n\t\treturn (\n\t\t\t<li className={classNames.join(' ')}>{\n\t\t\t\tisDisabled ?\n\t\t\t\t\t<span {...props}><Inner /> <ReaderText text={__('Next page', 'wca-woocommerce')} /></span>\n\t\t\t\t\t:\n\t\t\t\t\t<a {...props}><Inner /> <ReaderText text={__('Previous page', 'wca-woocommerce')} /></a>\n\t\t\t}</li>\n\t\t);\n\t};\n\n\tconst generateDots = () => <li className=\"woocommerce-Reviews__pagination-item woocommerce-Reviews__pagination-item--dots\">\n\t\t<span className=\"woocommerce-Reviews__pagination-link\">...<ReaderText text={__('dots', 'wca-woocommerce')} /></span>\n\t</li>;\n\n\tconst generateLink = (p) => {\n\t\tconst isCurrent = parseFloat(p) === page;\n\n\t\tconst classNames = [\n\t\t\t'woocommerce-Reviews__pagination-link',\n\t\t\t...[isCurrent ? 'has-primary-background-color' : ''],\n\t\t].filter(Boolean);\n\n\t\tconst props = {\n\t\t\tclassName: classNames.join(' '),\n\t\t\thref: !isCurrent ? 'javascript:void(0);' : null,\n\t\t\tonClick: !isCurrent ? () => setPage(p) : null,\n\t\t\t'aria-current': isCurrent ? 'page' : null\n\t\t};\n\n\t\treturn (\n\t\t\t<li className={[\n\t\t\t\t'woocommerce-Reviews__pagination-item',\n\t\t\t\t...[isCurrent ? 'woocommerce-Reviews__pagination-item--current' : '']\n\t\t\t].filter(Boolean).join(' ')}>{\n\t\t\t\t\tisCurrent ?\n\t\t\t\t\t\t<span {...props}><ReaderText text={__('Page', 'wca-woocommerce')} /> {p}</span>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<a {...props}><ReaderText text={__('Page', 'wca-woocommerce')} /> {p}</a>\n\t\t\t\t}</li>\n\t\t);\n\t};\n\n\tconst generateLinks = () => {\n\t\tlet d = 2, range = [];\n\n\t\tfor (let i = Math.max(2, page - d); i <= Math.min(total - 1, page + d); i++) range.push(generateLink(i));\n\t\tif (page + d < total - 1) range.push(generateDots());\n\t\tif (page - d > 2) range.unshift(generateDots());\n\t\trange.unshift(generateLink(1));\n\t\trange.push(generateLink(total));\n\n\t\treturn range;\n\t};\n\n\tconst style = {};\n\n\tif (loading) {\n\t\tstyle.pointerEvents = 'none';\n\t\tstyle.opacity = .65;\n\t}\n\n\treturn (\n\t\t<nav className=\"woocommerce-Reviews__pagination has-text-align-center has-text-align-md-right\" aria-label={__('Reviews pagination', 'wca-woocommerce')}>\n\t\t\t<ul className=\"woocommerce-Reviews__pagination-list mt-3\" style={style}>\n\t\t\t\t{renderAdjacent(true)}\n\t\t\t\t{generateLinks()}\n\t\t\t\t{renderAdjacent()}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};","import { Like, Comment, Replies } from './actions';\nimport StarRating from '../../shared/StarRating';\nimport { formatDate } from './../../functions';\n\nconst {\n\ti18n: { __, sprintf },\n\thooks: { applyFilters },\n\telement: { useState },\n} = wp;\n\nexport default ({ review, options, userData = false, addComment, setAddComment, onAddComment }) => {\n\tconst {\n\t\tid: reviewId,\n\t\tcontent,\n\t\ttitle = '',\n\t\tdate,\n\t\trating,\n\t\treplies,\n\t\tverified,\n\t\tauthor: {\n\t\t\tname: authorName,\n\t\t\tavatar: authorAvatar = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89B8AAskB44g04okAAAAASUVORK5CYII=',\n\t\t},\n\t} = review;\n\n\tconst defaultProps = { review, options, userData };\n\tconst [comments, setComments] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\n\tconst reviewActions = applyFilters('wecodeart.woocommerce.reviews.actions', [\n\t\t{\n\t\t\tkey: <Like.key />,\n\t\t\tComponent: <Like.Component {...defaultProps} />\n\t\t},\n\t\t{\n\t\t\tkey: <Replies.key />,\n\t\t\tComponent: <Replies.Component {...{ ...defaultProps, loading, setLoading, comments, setComments }} />,\n\t\t\tAfter: <Replies.After {...{ ...defaultProps, addComment, setAddComment, loading, comments: loading ? Array(replies.length).fill() : comments }} />\n\t\t},\n\t\t{\n\t\t\tkey: <Comment.key />,\n\t\t\tComponent: <Comment.Component {...{ ...defaultProps, onAddComment }} />,\n\t\t\tAfter: <Comment.After {...{ ...defaultProps, addComment, setAddComment }} />\n\t\t}\n\t], review, options, userData);\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__item border-bottom\" id={`review-${reviewId}`} key={reviewId}>\n\t\t\t<div className=\"grid py-3\">\n\t\t\t\t<div className=\"span-12 span-md-4 span-lg-3\">\n\t\t\t\t\t<div className=\"wp-block-columns is-not-stacked-on-mobile align-items-center g-3\">\n\t\t\t\t\t\t<div className=\"wp-block-column col-auto col-md-12\">\n\t\t\t\t\t\t\t<img {...{\n\t\t\t\t\t\t\t\tclassName: 'has-accent-border-color rounded-circle shadow mt-1',\n\t\t\t\t\t\t\t\tsrc: authorAvatar,\n\t\t\t\t\t\t\t\twidth: 65,\n\t\t\t\t\t\t\t\talt: sprintf(__(\"%s's Avatar\", 'wca-woocommerce'), authorAvatar)\n\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"wp-block-column col-auto col-md-12\">\n\t\t\t\t\t\t\t<p className=\"my-0\"><strong>{authorName}</strong></p>\n\t\t\t\t\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color my-0\">{formatDate(date)}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-md-8 span-lg-9 is-layout-flow\">\n\t\t\t\t\t<div className=\"woocommerce-Reviews__item-meta has-small-font-size\">\n\t\t\t\t\t\t{title && <h5 className=\"woocommerce-Reviews__item-title fw-700 mb-1\">{title}</h5>}\n\t\t\t\t\t\t<StarRating rating={rating} className=\"has-small-font-size\" />\n\t\t\t\t\t\t{verified && <span className=\"woocommerce-Reviews__item-verified d-inline-block align-middle ms-3\">\n\t\t\t\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--verified me-1\" />\n\t\t\t\t\t\t\t<span className=\"has-cyan-bluish-gray-color\">{__('Verified Purchase', 'wca-woocommerce')}</span>\n\t\t\t\t\t\t</span>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"woocommerce-Reviews__item-content\" dangerouslySetInnerHTML={{ __html: content }} />\n\t\t\t\t\t{reviewActions.length > 0 && <>\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__item-actions wp-block-button is-style-link\">{\n\t\t\t\t\t\t\treviewActions.map(({ Component = null }) => Component)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{reviewActions.reverse().map(({ After = null }) => After)}\n\t\t\t\t\t</>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};","export default ({ icon = false, label = 'Label', children, ...rest }) => {\n\trest = { className: 'wp-element-button wp-block-button__link has-black-color has-small-font-size fw-400 me-2', ...rest };\n\t\n\treturn (\n\t\t<button {...rest}>\n\t\t\t{icon && <span className={`woocommerce-Reviews__icon woocommerce-Reviews__icon--${icon} me-1`} />}\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</button>\n\t);\n};","import Action from './Action';\r\nimport AddComment from '../../comments/AddComment';\r\n\r\nconst {\r\n    i18n: { __ },\r\n} = wp;\r\n\r\nconst Component = ({ review, options, userData, onAddComment }) => {\r\n    const { id: reviewId } = review;\r\n    const { product: { allow } } = options;\r\n\r\n    if (allow && userData) {\r\n        const onClick = () => onAddComment(reviewId);\r\n\r\n        return (<Action {...{ label: __('Add Comment', 'wca-woocommerce'), icon: 'comment', onClick }} />);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nconst After = ({ review, options, addComment, setAddComment  }) => {\r\n    const { id: reviewId } = review;\r\n    const { product: { ID: productId }, requestUrl } = options;\r\n\r\n    if (addComment === reviewId) {\r\n        return (<AddComment {...{ addComment, setAddComment, productId, requestUrl }} />);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nexport default {\r\n    key: 'comment',\r\n    Component,\r\n    After\r\n};","import Action from './Action';\r\nimport { getCookie } from '../../../functions';\r\n\r\nconst { element: { useState } } = wp;\r\n\r\nconst Component = ({ review, options }) => {\r\n    const { id: reviewId, likes: hasLikes } = review;\r\n    const { requestUrl } = options;\r\n\r\n    const allLikedReviews = getCookie('wca_wooReviews_liked') || [];\r\n    const isReviewLiked = allLikedReviews.includes(reviewId);\r\n    const [likes, setLikes] = useState(hasLikes);\r\n    const [liking, setLiking] = useState(false);\r\n\r\n    const onClick = async () => {\r\n        if (liking) return;\r\n\r\n        setLiking(true);\r\n\r\n        const formData = new FormData();\r\n        formData.append('action', 'like');\r\n        formData.append('review_id', reviewId);\r\n\r\n        try {\r\n            const r = await fetch(requestUrl, {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            const { likes } = await r.json();\r\n\r\n            setLikes(likes);\r\n        } finally {\r\n            setLiking(false);\r\n        }\r\n    };\r\n\r\n    return (<Action {...{ label: `(${likes})`, icon: `like${isReviewLiked ? ' active' : ''}`, disabled: liking === true, onClick }} />);\r\n};\r\n\r\nexport default {\r\n    key: 'like',\r\n    Component,\r\n};","import Action from './Action';\r\nimport { scrollToElement } from '../../../functions';\r\n\r\nconst {\r\n    i18n: { __ },\r\n    element: { useState, useEffect, lazy, Suspense },\r\n} = wp;\r\n\r\nconst CommentsList = lazy(() => import(/* webpackChunkName: 'CommentList' */ './../../comments/CommentsList'));\r\n\r\nconst Component = ({ review, options, comments, setComments, loading, setLoading }) => {\r\n    const { replies, id: reviewId } = review;\r\n    const { requestUrl } = options;\r\n\r\n    const [scroll, setScroll] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (scroll) {\r\n            const containerEl = document.querySelector(`#review-${reviewId}`);\r\n            scrollToElement(containerEl);\r\n        }\r\n        setScroll(true);\r\n    }, [comments]);\r\n\r\n    if (replies.length) {\r\n        const onClick = async (e) => {\r\n            if (loading) {\r\n                return;\r\n            }\r\n\r\n            if (comments.length) {\r\n                const container = e.currentTarget.closest('div').nextSibling;\r\n                if (container && container.classList.contains('woocommerce-Reviews__listing--comments')) {\r\n                    container.classList.toggle('d-none');\r\n                } else {\r\n                    container.nextSibling.classList.toggle('d-none');\r\n                }\r\n                return;\r\n            }\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'query');\r\n            formData.append('include', replies);\r\n\r\n            setLoading(true);\r\n\r\n            try {\r\n                const r = await fetch(requestUrl, {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n\r\n                const { data } = await r.json();\r\n\r\n                return setComments(data);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        return (<Action {...{ label: `${__('View Comments', 'wca-woocommerce')} (${replies.length})`, icon: 'comments', onClick }} />);\r\n    }\r\n};\r\n\r\nconst After = ({ loading, comments }) => {\r\n    if(comments.length ) {\r\n        return (\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <CommentsList {...{ comments, loading }} />\r\n            </Suspense>\r\n        );\r\n    }\r\n};\r\n\r\nexport default {\r\n    key: 'comments',\r\n    Component,\r\n    After\r\n};","export { default as Like } from './Like';\r\nexport { default as Comment } from './Comment';\r\nexport { default as Replies } from './Replies';","import { useHover } from '../hooks';\n\nconst {\n\ti18n: { __ },\n\thooks: { applyFilters },\n\telement: { useEffect, useState },\n} = wp;\n\nconst RATING_LABELS = applyFilters('wecodeart.woocommerce.reviews.rating.labels', {\n\t1: __('Not recommended', 'wca-woocommerce'),\n\t2: __('Weak', 'wca-woocommerce'),\n\t3: __('Acceptable', 'wca-woocommerce'),\n\t4: __('Good', 'wca-woocommerce'),\n\t5: __('Excelent', 'wca-woocommerce'),\n});\n\nexport default ({ rating = 0, onClick, children, className = 'justify-content-start' }) => {\n\tconst [refHover, isHovered] = useHover();\n\tconst [ratingLabel, setRatingLabel] = useState('');\n\n\tconst hoverLabel = isHovered && isHovered.closest('[aria-label]')?.getAttribute('aria-label');\n\n\tuseEffect(() => {\n\t\tif (rating) {\n\t\t\tsetRatingLabel(RATING_LABELS[rating]);\n\t\t}\n\t}, [rating]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className={`woocommerce-Reviews__rating-input d-flex align-items-center ${className}`}>\n\t\t\t\t<div className=\"woocommerce-Reviews__rating-input__stars me-2\">\n\t\t\t\t\t<div className=\"d-flex flex-row-reverse\" ref={refHover}>\n\t\t\t\t\t\t{Object.entries(RATING_LABELS).reverse().map(item => {\n\t\t\t\t\t\t\tconst [star, label] = item;\n\t\t\t\t\t\t\tconst classNames = ['woocommerce-Reviews__icon', 'woocommerce-Reviews__icon--rating', parseInt(star) === parseInt(rating) ? 'active' : ''];\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button {...{\n\t\t\t\t\t\t\t\t\tclassName: classNames.filter(Boolean).join(' '),\n\t\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\t\tonClick: (e) => onClick(parseFloat(star), e),\n\t\t\t\t\t\t\t\t\t'aria-label': label\n\t\t\t\t\t\t\t\t}}><span className=\"screen-reader-text\">{label}</span></button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"woocommerce-Reviews__rating-input__hover fw-700\">{hoverLabel || ratingLabel || __('Your rating', 'wca-woocommerce')}</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};","export default ({ rating = 0.0, percent = false, className = 'has-medium-font-size' }) => {\n\tconst generateStars = (a) => [5, 4, 3, 2, 1].map((i) => {\n\t\tconst className = ['woocommerce-Reviews__icon', 'woocommerce-Reviews__icon--rating', parseInt(a) === i ? 'active' : ''].filter(Boolean).join(' ');\n\n\t\treturn (<div key={i} className={className} role=\"icon\" />);\n\t});\n\n\treturn (\n\t\t<div className={['woocommerce-Reviews__rating', 'd-inline-block', 'align-middle', className].join(' ')}>\n\t\t\t<div className=\"woocommerce-Reviews__rating-range\">{generateStars(!percent && rating)}</div>\n\t\t\t{percent && <div {...{\n\t\t\t\tclassName: 'woocommerce-Reviews__rating-overlay has-warning-color',\n\t\t\t\tstyle: {\n\t\t\t\t\twidth: ((rating / 5) * 100).toString() + '%',\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t}\n\t\t\t}}><div className=\"woocommerce-Reviews__rating-range\">{generateStars(percent)}</div></div>}\n\t\t</div>\n\t);\n};","import RatingInput from './../shared/RatingInput';\n\nconst {\n\ti18n: { __, sprintf },\n} = wp;\n\nexport default ({ setRating, userData: { reviewer = false }, options = {} }) => {\n\tconst {\n\t\tproduct: {\n\t\t\tverify = false\n\t\t}\n\t} = options;\n\n\tconst showMessage = reviewer === false && verify;\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-new has-text-align-center has-text-align-sm-left\">{showMessage ?\n\t\t\t<>\n\t\t\t\t<p className=\"woocommerce-Reviews__summary-message\">{verify}</p>\n\t\t\t</> :\n\t\t\t<>\n\t\t\t\t<p className=\"mb-1 fw-700\">{\n\t\t\t\t\treviewer ?\n\t\t\t\t\t\tsprintf(__('Hey %s. Welcome back!', 'wca-woocommerce'), reviewer)\n\t\t\t\t\t\t: __('Do you own or used the product?', 'wca-woocommerce')\n\t\t\t\t}</p>\n\t\t\t\t<p className=\"mb-1 has-small-font-size has-cyan-bluish-gray-color\">{\n\t\t\t\t\t__('Tell your opinion by giving it a rating', 'wca-woocommerce')\n\t\t\t\t}</p>\n\t\t\t\t<RatingInput onClick={setRating} className=\"justify-content-center justify-content-sm-start mb-2\" />\n\t\t\t\t<button onClick={() => setRating(5)} className=\"wp-element-button has-primary-background-color has-small-font-size py-1\">{\n\t\t\t\t\t__('Add a review', 'wca-woocommerce')\n\t\t\t\t}</button>\n\t\t\t</>\n\t\t}</div >\n\t);\n};","const {\n\ti18n: { _n, sprintf }\n} = wp;\n\nexport default ({ amount = {\n\t1: 0,\n\t2: 0,\n\t3: 0,\n\t4: 0,\n\t5: 0,\n}, total = 0, queryArgs, setQueryArgs }) => {\n\n\tconst onClick = (e) => {\n\t\te.preventDefault();\n\t\tconst filterForms = document.forms['wca-woo-filters'];\n\t\tconst clickedValue = e.currentTarget.dataset.value;\n\t\tconst fieldElement = filterForms.elements.rating;\n\t\t\n\t\tif (clickedValue !== fieldElement.value) {\n\t\t\tfieldElement.value = clickedValue;\n\t\t\tsetQueryArgs({...queryArgs, rating: clickedValue })\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-bars d-table\" style={{ width: '100%' }}>\n\t\t\t{Array(5).fill().reverse().map((_, i) => {\n\t\t\t\tconst value = 5 - i;\n\t\t\t\tconst count = amount[value];\n\t\t\t\tconst width = (count / total * 100).toString() + '%';\n\t\t\t\tconst label = sprintf(_n('%s star', '%s stars', value, 'wca-woocommerce'), value);\n\n\t\t\t\tlet props = {\n\t\t\t\t\tkey: i,\n\t\t\t\t\thref: parseInt(count) ? 'javascript:void(0);' : null,\n\t\t\t\t\tonClick: parseInt(count) !== 0 ? onClick : null,\n\t\t\t\t\t'data-value': value,\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<a className=\"d-table-row\" {...props}>\n\t\t\t\t\t\t<span className=\"d-table-cell align-middle py-1\">{label}</span>\n\t\t\t\t\t\t<span className=\"d-table-cell align-middle py-1 px-1\" style={{ width: '100%' }}>\n\t\t\t\t\t\t\t<div className=\"rounded-pill has-accent-background-color\" style={{ width: '100%', overflow: 'hidden' }}>\n\t\t\t\t\t\t\t\t<div className=\"has-primary-background-color\" role=\"progressbar\" style={{ width, minHeight: 12 }}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"d-table-cell align-middle py-1\">({count})</span>\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};","import StarRating from './../shared/StarRating';\n\nconst {\n\ti18n: { _n, sprintf }\n} = wp;\n\nexport default ({ average = 0.0, total = 0 }) => {\n\n\tconst labelElement = _n('%s review', '%s reviews', total, 'wca-woocommerce');\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-info is-layout-flow has-text-align-center\">\n\t\t\t<h3 className=\"display-4 fw-700\" style={{ lineHeight: 1 }}>{parseFloat(average).toFixed(2)}</h3>\n\t\t\t<StarRating rating={average} percent={5} />\n\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\">{sprintf(labelElement, total)}</p>\n\t\t</div>\n\t);\n};","const {\n\ti18n: { __ },\n\telement: { useRef, useEffect }\n} = wp;\n\nexport default ({ average = 0.0, verified = 0, verifiedBadge }) => {\n\tconst verifiedRef = useRef();\n\n\t// Update once and maintain it.\n\tuseEffect(() => {\n\t\tverifiedRef.current = verified;\n\t}, [verified]);\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-stats has-text-align-center\">\n\t\t\t<div className=\"woocommerce-Reviews__summary-stats__1\">\n\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--recommend me-2\" role=\"icon\" />\n\t\t\t\t<span className=\"has-black-color\"><strong>{parseInt(((average / 5) * 100)) + '%'}</strong></span>\n\t\t\t\t<div className=\"has-small-font-size has-cyan-bluish-gray-color\">{__('of the clients recommend the product', 'wca-woocommerce')}</div>\n\t\t\t</div>\n\t\t\t{verifiedBadge && <>\n\t\t\t\t<div className=\"my-3 border-bottom\" />\n\t\t\t\t<div className=\"woocommerce-Reviews__summary-stats__2\">\n\t\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--verified me-2\" role=\"icon\" />\n\t\t\t\t\t<span className=\"has-black-color\"><strong>{verifiedRef.current ?? verified}</strong>&nbsp;&nbsp;</span>\n\t\t\t\t\t<div className=\"has-small-font-size has-cyan-bluish-gray-color\">{__('of the reviews are verified purchase', 'wca-woocommerce')}</div>\n\t\t\t\t</div>\n\t\t\t</>}\n\t\t</div>\n\t);\n};","import AddReview from './AddReview';\nimport RatingData from './RatingData';\nimport RatingBars from './RatingBars';\nimport RatingStats from './RatingStats';\n\nexport default ({ options, rating, setRating, queryArgs, setQueryArgs, userData, meta }) => {\n\tlet amount = {\n\t\t1: 0,\n\t\t2: 0,\n\t\t3: 0,\n\t\t4: 0,\n\t\t5: 0,\n\t};\n\n\tconst { product: { average, total, counts, allow }, verified: verifiedBadge } = options;\n\tconst { verified } = meta;\n\n\tamount = { ...amount, ...counts };\n\n\tconst dataProps = { amount, average, total };\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary\">\n\t\t\t<div className=\"wp-block-columns grid\">\n\t\t\t\t<div {...{ className: `span-12 span-sm-6 span-lg-${allow ? 2 : 4}` }}>\n\t\t\t\t\t<RatingData {...dataProps} />\n\t\t\t\t</div>\n\t\t\t\t{allow && <div className=\"span-12 span-sm-6 span-lg-3 order-lg-last\">\n\t\t\t\t\t<AddReview {...{ rating, setRating, userData, options }} />\n\t\t\t\t</div>}\n\t\t\t\t<div {...{ className: `span-12 span-lg-${allow ? 4 : 6}` }}>\n\t\t\t\t\t<RatingBars {...{ ...dataProps, queryArgs, setQueryArgs }} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-lg-3 align-self-center\">\n\t\t\t\t\t<RatingStats {...{ average, verified, verifiedBadge }} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};"],"names":["Summary","Filters","Listing","useApiFetch","scrollToElement","element","useState","useEffect","lazy","Suspense","wp","LeaveAReview","App","options","headline","container","product","ID","product_id","total","query","requestUrl","scroll","setScroll","rating","setRating","userData","setUserData","queryArgs","setQueryArgs","action","loading","data","reviews","meta","formData","FormData","append","r","fetch","method","body","token","status","json","reviewer","reviewer_email","atob","split","e","console","warn","scrollEl","document","querySelector","defaultProps","filtersProps","listingProps","i18n","__","_n","sprintf","totalResults","onReset","useForm","ResultsNote","counts","verified","amount","getLabel","v","handleSubmit","register","mode","onSubmit","values","result","k","Object","entries","onChange","setTimeout","forms","reset","style","pointerEvents","opacity","includedIn","x","includes","hasFilters","keys","map","filter","Boolean","pop","Array","fill","reverse","_","i","value","disabled","type","name","className","placeholder","ref","onBlur","target","search","undefined","lineHeight","formatDate","date","event","Date","year","month","day","toLocaleDateString","getCookie","cname","ca","cookie","length","c","charAt","substring","indexOf","headerEl","elementPosition","window","scrollY","getBoundingClientRect","top","scrollPosition","clientHeight","scrollTo","behavior","useRef","useReducer","wpBlockWooReviews","ACTIONS","MAKE_REQUEST","SET_META","GET_REVIEWS","GET_COMMENTS","ERROR","reducer","state","payload","error","path","hasReviews","dispatch","parse","then","catch","finally","useHover","setValue","handleMouseOver","handleMouseOut","node","current","addEventListener","removeEventListener","hooks","doAction","addComment","setAddComment","productId","errors","setLoading","message","setMessage","required","minLength","comment","ReviewItem","Pagination","Preloader","PreloaderMobile","url","isValidFragment","number","hash","location","rId","onAddComment","id","getElementById","totalPages","preloader","innerWidth","__html","review","page","setPage","p","Math","min","max","ReaderText","text","renderAdjacent","prev","goToPage","isPrevDisabled","isNextDisabled","parseFloat","classNames","isDisabled","props","href","onClick","Inner","join","generateDots","generateLink","isCurrent","generateLinks","d","range","push","unshift","Like","Comment","Replies","StarRating","applyFilters","reviewId","content","title","replies","author","authorName","avatar","authorAvatar","comments","setComments","reviewActions","key","Component","After","src","width","alt","icon","label","children","rest","Action","AddComment","allow","likes","hasLikes","allLikedReviews","isReviewLiked","setLikes","liking","setLiking","CommentsList","containerEl","currentTarget","closest","nextSibling","classList","contains","toggle","default","RATING_LABELS","refHover","isHovered","ratingLabel","setRatingLabel","hoverLabel","getAttribute","item","star","parseInt","percent","generateStars","a","toString","overflow","RatingInput","verify","showMessage","preventDefault","filterForms","clickedValue","dataset","fieldElement","elements","count","minHeight","average","labelElement","toFixed","verifiedBadge","verifiedRef","AddReview","RatingData","RatingBars","RatingStats","dataProps"],"sourceRoot":""}