{"version":3,"file":"js/App.js","mappings":"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,EAAExK,EAAE,CAAC,cAAD,EAAiB,iBAAjB;EAHnB,EADD,EAKEmK,MAAM,CAACM,OAAP,IAAkB;IAAI,KAAK,EAAC,kBAAV;IAA6B,KAAK,EAAE;MAAErH,OAAO,EAAE;IAAX;EAApC,GAClB+G,MAAM,CAACM,OAAP,CAAehH,IAAf,KAAwB,WAAxB,GAAsCzD,EAAE,CAAC,uBAAD,EAA0B,iBAA1B,CAAxC,GAAuFmK,MAAM,CAACM,OAAP,CAAeJ,OADpF,CALpB,CAFD,EAWEN,QAAQ,CAAC,iDAAD,EAAoD5I,QAApD,EAA8DgJ,MAA9D,EAAsED,SAAtE,CAXV,EAYC;IACCzG,IAAI,EAAE,QADP;IAECE,SAAS,EAAE,gDAFZ;IAGCR,QAAQ,EAAEhF,OAAO,KAAK,IAAZ,IAAoBgM,MAAM,CAACM,OAAP,KAAmB,KAAvC,IAAgDN,MAAM,CAACM;EAHlE,GAKC,gFAAOtM,OAAO,GAAG6B,EAAE,CAAC,eAAD,EAAkB,iBAAlB,CAAL,GAA4CA,EAAE,CAAC,aAAD,EAAgB,iBAAhB,CAA5D,CALD,CAZD,CANF,CADD;AA8BA,CAhED;;;;;;;;;;;;;;ACRA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAzEA;;;;;;;;;;;;;;ACAA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","sources":["webpack://wca-woocommerce/./src/js/frontend/reviews/App.js","webpack://wca-woocommerce/./src/js/frontend/reviews/filters/ResultsNote.js","webpack://wca-woocommerce/./src/js/frontend/reviews/filters/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/functions.js","webpack://wca-woocommerce/./src/js/frontend/reviews/hooks.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/comments/AddComment.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/preloaders/ReviewPreloader.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/preloaders/ReviewPreloaderMobile.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/Pagination.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/ReviewItem.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Action.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Comment.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Like.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Replies.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/Icon.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/RatingInput.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/StarRating.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/AddReview.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingBars.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingData.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingStats.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/index.js"],"sourcesContent":["import Summary from './summary';\nimport Filters from './filters';\nimport Listing from './listing/reviews';\nimport { useApiFetch } from './hooks';\nimport { scrollToElement } from './functions';\nimport { createBreakpoint } from 'react-use';\n\nconst { element: { useState, useEffect, lazy, Suspense } } = wp;\n\nconst LeaveAReview = lazy(() => import(/* webpackChunkName: 'ReviewForm' */ './form'));\n\nconst useBreakpoint = createBreakpoint({ mobile: 0, laptop: 992 });\n\nconst App = (options) => {\n\tconst {\n\t\theadline = false,\n\t\tcontainer = '#reviews',\n\t\tproduct: { ID: product_id, total },\n\t\trequestUrl,\n\t\tactions,\n\t} = options;\n\n\t// State\n\tconst [scroll, setScroll] = useState(false);\n\tconst [rating, setRating] = useState(false);\n\tconst [userData, setUserData] = useState(false);\n\tconst [queryArgs, setQueryArgs] = useState({ product_id, action: 'query' });\n\n\t// Load requested comments by filters\n\tconst { loading, data: reviews, meta } = useApiFetch({ queryArgs });\n\n\t// Set User\n\tuseEffect(() => {\n\t\tif (userData) return;\n\n\t\t(async () => {\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append('action', 'user');\n\n\t\t\ttry {\n\t\t\t\tconst r = await fetch(requestUrl, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: formData,\n\t\t\t\t});\n\n\t\t\t\tconst { token, status } = await r.json();\n\n\t\t\t\tif (status) {\n\t\t\t\t\tconst [reviewer, reviewer_email] = atob(token).split(':');\n\t\t\t\t\tsetUserData({ reviewer, reviewer_email });\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t})();\n\t}, [userData]);\n\n\t// Scroll to Comments if rating\n\tuseEffect(() => {\n\t\tif (scroll) {\n\t\t\tconst scrollEl = document.querySelector(container);\n\t\t\tscrollToElement(scrollEl);\n\t\t}\n\t\tsetScroll(true);\n\t}, [rating, scroll]);\n\n\tconst breakpoint = useBreakpoint();\n\tconst defaultProps = { options, rating, setRating, queryArgs, setQueryArgs, userData, breakpoint };\n\tconst filtersProps = { options, loading, meta, queryArgs, setQueryArgs, breakpoint };\n\tconst listingProps = { ...filtersProps, reviews, userData, actions };\n\n\treturn (\n\t\t<>\n\t\t\t{headline && <>\n\t\t\t\t<h2 className=\"woocommerce-Reviews__headline\">{headline}</h2>\n\t\t\t\t<div className=\"has-border my-spacer\" />\n\t\t\t</>}\n\t\t\t{typeof rating === 'number' && <Suspense fallback={<div>Loading...</div>}>\n\t\t\t\t<LeaveAReview {...defaultProps} />\n\t\t\t</Suspense>}\n\t\t\t{typeof rating === 'boolean' && <Summary {...{ ...defaultProps, meta }} />}\n\t\t\t{total > 0 && <>\n\t\t\t\t<Filters {...filtersProps} />\n\t\t\t\t<Listing {...listingProps} />\n\t\t\t</>}\n\t\t</>\n\t);\n};\n\nexport { App };","const {\n\ti18n: { __, _n, sprintf }\n} = wp;\n\nexport default ({ totalResults = false, onReset }) => {\n\treturn (totalResults !== false &&\n\t\t<>\n\t\t\t<div className=\"has-accent-background-color\" style={{ padding: '1rem', borderRadius: '.25rem' }}>\n\t\t\t\t<span>{sprintf(\n\t\t\t\t\t_n('We found %s result for your filters.', 'We found %s results for your filters.', totalResults, 'wca-woo-reviews'),\n\t\t\t\t\ttotalResults\n\t\t\t\t)}</span>\n\t\t\t\t<span> &nbsp; </span>\n\t\t\t\t<a href=\"javascript:void(0);\" onClick={onReset}>{__('Remove filters', 'wca-woo-reviews')}</a>\n\t\t\t</div>\n\t\t</>\n\t);\n};","import { useForm } from 'react-hook-form';\nimport ResultsNote from './ResultsNote';\nimport Icon from './../shared/Icon';\n\nconst {\n\ti18n: { __, _n, sprintf },\n\thooks: { applyFilters }\n} = wp;\n\nconst SORTING_OPTIONS = applyFilters('wecodeart.woocommerce.reviews.sorting', {\n\t'': __('Recent', 'wca-woo-reviews'),\n\t'rating': __('Rating', 'wca-woo-reviews'),\n\t'likes': __('Popularity', 'wca-woo-reviews'),\n});\n\nexport default ({ queryArgs, setQueryArgs, loading, meta: { totalResults }, options, breakpoint }) => {\n\tconst {\n\t\tproduct: {\n\t\t\tID: product_id,\n\t\t\tcounts,\n\t\t},\n\t\tactions = [],\n\t\tverified,\n\t} = options;\n\n\tlet amount = {\n\t\t5: 0,\n\t\t4: 0,\n\t\t3: 0,\n\t\t2: 0,\n\t\t1: 0,\n\t};\n\n\tamount = { ...amount, ...counts };\n\n\tconst getLabel = (v) => sprintf(_n('%s star reviews', '%s stars reviews', v, 'wca-woo-reviews'), v);\n\n\tconst { handleSubmit, register } = useForm({ mode: 'onSubmit' });\n\n\tconst onSubmit = (values) => {\n\t\tconst result = {};\n\n\t\tfor (const [k, v] of Object.entries(values)) {\n\t\t\tif (v !== '' && v !== false) result[k] = v;\n\t\t}\n\n\t\tsetQueryArgs({ product_id, ...result });\n\t};\n\n\tconst onChange = () => setTimeout(handleSubmit(onSubmit), 20);\n\n\tconst onReset = () => {\n\t\tdocument.forms['wca-woo-filters'].reset();\n\n\t\treturn onChange();\n\t};\n\n\tconst style = {};\n\n\tif (loading) {\n\t\tstyle.pointerEvents = 'none';\n\t\tstyle.opacity = .65;\n\t}\n\n\tconst includedIn = (x) => ['rating', 'verified', 'search'].includes(x);\n\tconst hasFilters = Object.keys(queryArgs).map(includedIn).filter(Boolean).pop();\n\n\tif (actions?.like === false) {\n\t\tdelete SORTING_OPTIONS.likes;\n\t}\n\n\treturn (\n\t\t<form className=\"woocommerce-Reviews__filters\" onSubmit={handleSubmit(onSubmit)} name=\"wca-woo-filters\" style={style}>\n\t\t\t<div className=\"has-border my-spacer\" />\n\t\t\t<div className=\"grid\">\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-4\">\n\t\t\t\t\t<div className=\"input-group input-group-sm\">\n\t\t\t\t\t\t<label class=\"input-group-text\" for=\"filter-orderby\">{__('Sort:', 'wca-woo-reviews')}</label>\n\t\t\t\t\t\t<select className=\"form-select\" id=\"filter-orderby\" name=\"orderby\" onChange={onChange} ref={register}>\n\t\t\t\t\t\t\t{Object.keys(SORTING_OPTIONS).map(k => <option value={k}>{SORTING_OPTIONS[k]}</option>)}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-4\">\n\t\t\t\t\t<div className=\"input-group input-group-sm\">\n\t\t\t\t\t\t<label class=\"input-group-text\" for=\"filter-stars\">{__('Filter:', 'wca-woo-reviews')}</label>\n\t\t\t\t\t\t<select className=\"form-select\" id=\"filter-stars\" name=\"rating\" onChange={onChange} ref={register}>\n\t\t\t\t\t\t\t<option value=\"\">{__('All reviews', 'wca-woo-reviews')}</option>\n\t\t\t\t\t\t\t{Array(5).fill().reverse().map((_, i) => {\n\t\t\t\t\t\t\t\tconst value = 5 - i;\n\t\t\t\t\t\t\t\treturn (<option {...{ disabled: amount[value] === 0, value }}>{getLabel(value)}</option>);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-sm-12 span-lg-4\" style={{ display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t{verified && <div className=\"input-group input-group-sm\" style={{ width: 'auto', marginRight: 15 }}>\n\t\t\t\t\t\t<input className=\"hidden\" type=\"checkbox\" name=\"verified\" id=\"filter-verified\" onChange={onChange} ref={register} />\n\t\t\t\t\t\t<label className=\"wp-element-button has-accent-background-color\" for=\"filter-verified\">\n\t\t\t\t\t\t\t<Icon icon=\"verified\" />\n\t\t\t\t\t\t\t<span style={{ marginLeft: 10, display: breakpoint === 'mobile' ? 'none' : 'inline-block' }}>{__('Verified owner', 'wca-woo-reviews')}</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>}\n\t\t\t\t\t<div className=\"input-group input-group-sm\">\n\t\t\t\t\t\t<input {...{\n\t\t\t\t\t\t\ttype: 'search',\n\t\t\t\t\t\t\tname: 'search',\n\t\t\t\t\t\t\tclassName: 'form-control',\n\t\t\t\t\t\t\tplaceholder: __('Search in reviews', 'wca-woo-reviews'),\n\t\t\t\t\t\t\tref: register,\n\t\t\t\t\t\t\tonBlur({ target: { value } }) {\n\t\t\t\t\t\t\t\tif (value === '' && queryArgs.search !== undefined) {\n\t\t\t\t\t\t\t\t\tdelete queryArgs.search;\n\t\t\t\t\t\t\t\t\tsetQueryArgs({ ...queryArgs });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}} />\n\t\t\t\t\t\t<button {...{\n\t\t\t\t\t\t\tclassName: 'wp-element-button wp-block-search__button has-accent-background-color',\n\t\t\t\t\t\t\tstyle: { lineHeight: 1 },\n\t\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span className=\"screen-reader-text sr-text sr-only\">{__('Search in reviews', 'wca-woo-reviews')}</span>\n\t\t\t\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--search\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"has-border my-spacer\" />\n\t\t\t{!loading && hasFilters ? <ResultsNote totalResults={totalResults} onReset={onReset} /> : null}\n\t\t</form>\n\t);\n};","const formatDate = (date) => {\n\tconst event = new Date(date);\n\tconst options = { year: 'numeric', month: 'long', day: 'numeric' };\n\treturn event.toLocaleDateString(undefined, options);\n};\n\nconst getCookie = (cname) => {\n\tconst name = cname + \"=\";\n\tconst ca = document.cookie.split(';');\n\n\tfor (let i = 0; i < ca.length; i++) {\n\t\tlet c = ca[i];\n\t\twhile (c.charAt(0) == ' ') c = c.substring(1);\n\t\tif (c.indexOf(name) == 0) return c.substring(name.length, c.length);\n\t}\n\n\treturn \"\";\n};\n\nconst scrollToElement = (element) => {\n\tif (element) {\n\t\tconst headerEl = document.querySelector('.wp-site-header.sticky-top');\n\t\tconst elementPosition = window.scrollY + element.getBoundingClientRect().top - 10;\n\t\tconst scrollPosition = elementPosition - (headerEl ? headerEl.clientHeight : 0);\n\t\twindow.scrollTo({ top: scrollPosition, behavior: 'smooth' });\n\t}\n};\n\nconst getInitials = (name) => {\n\tif (!name) {\n\t\treturn 'AN';\n\t}\n\n\tconst names = name.trim().split(' ');\n\tconst initials = names.map((n) => n[0].toUpperCase());\n\n\treturn initials.join('');\n};\n\nconst generateAvatarDataURL = (initials, size = 100, bgColor = '#007bff') => {\n\tconst canvas = document.createElement('canvas');\n\tcanvas.width = size;\n\tcanvas.height = size;\n\tconst ctx = canvas.getContext('2d');\n\n\t// Set background color\n\tctx.fillStyle = bgColor;\n\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\t// Set text style\n\tctx.font = `${size / 2.5}px Arial`;\n\tctx.fillStyle = '#ffffff'; // White text color\n\n\t// Calculate text metrics to center it on the canvas\n\tconst textMetrics = ctx.measureText(initials);\n\tconst x = (canvas.width - textMetrics.width) / 2;\n\tconst y = (canvas.height + size / 4) / 2.5 + size / 4 - textMetrics.actualBoundingBoxAscent / 2.5;\n\n\t// Draw initials on the canvas\n\tctx.fillText(initials, x, y);\n\n\t// Convert canvas to data URL\n\tconst dataURL = canvas.toDataURL();\n\n\treturn dataURL;\n};\n\nconst renderToString = (string = '', variables = {}) => {\n\tconst destruct = (obj, v) => v.split(/\\.|\\|/).reduce((v, k) => v?.[k], obj); // Multiple\n\tconst rxp = /{{([^}]+)}}/g;\n\tlet match;\n\n\twhile ((match = rxp.exec(string))) {\n\t\tconst expression = match[1];\n\t\tconst value = destruct(variables, expression.trim());\n\n\t\tif (value === undefined) continue;\n\n\t\tstring = string.replace(new RegExp(`{{${expression}}}`, 'g'), value);\n\t}\n\n\treturn string;\n}\n\nexport { formatDate, getCookie, scrollToElement, generateAvatarDataURL, getInitials, renderToString };","const { element: { useEffect, useState, useRef, useReducer } } = wp;\nconst { requestUrl, product: { total } } = wpBlockWooReviews;\n\n// Actions\nconst ACTIONS = {\n\tMAKE_REQUEST: 'make-request',\n\tSET_META: 'set-meta',\n\tGET_REVIEWS: 'get-reviews',\n\tGET_COMMENTS: 'get-comments',\n\tERROR: 'error'\n};\n\n// Reducer\nfunction reducer(state, action) {\n\tconst { type, payload } = action;\n\n\tswitch (type) {\n\t\tcase ACTIONS.MAKE_REQUEST:\n\t\t\treturn { ...state, loading: true, data: [], meta: {} };\n\n\t\tcase ACTIONS.SET_META:\n\t\t\tconst { meta } = payload;\n\n\t\t\treturn { ...state, meta };\n\n\t\tcase ACTIONS.GET_REVIEWS:\n\t\tcase ACTIONS.GET_COMMENTS:\n\t\t\tconst { data } = payload;\n\n\t\t\treturn { ...state, loading: false, data };\n\n\t\tcase ACTIONS.ERROR:\n\t\t\tconst { error } = payload;\n\n\t\t\treturn { ...state, loading: false, data: [], error };\n\n\t\tdefault: return state;\n\t}\n}\n\n/**\n * Function that fetches data using apiFetch, and updates the status.\n *\n * @param {string} path Query path.\n */\nfunction useApiFetch({\n\tpath = requestUrl,\n\tqueryArgs = {},\n\taction = 'GET_REVIEWS'\n}, hasReviews = total) {\n\tconst [state, dispatch] = useReducer(reducer, {\n\t\tdata: [],\n\t\tmeta: {},\n\t\tloading: false,\n\t\terror: false,\n\t});\n\n\tconst formData = new FormData();\n\tformData.append('action', 'query');\n\tObject.keys(queryArgs).map(k => formData.append(k, queryArgs[k]));\n\n\tuseEffect(() => {\n\t\tif (hasReviews === 0) return;\n\n\t\tdispatch({ type: ACTIONS.MAKE_REQUEST });\n\n\t\tfetch(path, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tparse: true,\n\t\t}).then(r => r.json()).then(({ meta, data }) => {\n\n\t\t\tdispatch({ type: ACTIONS.SET_META, payload: { meta } });\n\n\t\t\tdispatch({ type: ACTIONS[action], payload: { data } });\n\n\t\t}).catch((error) => {\n\n\t\t\tdispatch({ type: ACTIONS.ERROR, payload: { error } });\n\n\t\t}).finally(() => {\n\n\t\t});\n\t}, [queryArgs, total]);\n\n\treturn state;\n}\n\n/**\n * Function that listens for hover.\n */\nfunction useHover() {\n\tconst [value, setValue] = useState(false);\n\n\tconst ref = useRef(null);\n\n\tconst handleMouseOver = (e) => setValue(e.target);\n\tconst handleMouseOut = () => setValue(false);\n\n\tuseEffect(() => {\n\t\tconst node = ref.current;\n\t\tif (node) {\n\t\t\t// Add event listeners for mouse events\n\t\t\tnode.addEventListener('mouseover', handleMouseOver);\n\t\t\tnode.addEventListener('mouseout', handleMouseOut);\n\n\t\t\t// Add event listeners for touch events\n\t\t\tnode.addEventListener('touchstart', handleMouseOver);\n\t\t\tnode.addEventListener('touchend', handleMouseOut);\n\n\t\t\treturn () => {\n\t\t\t\t// Remove event listeners for mouse events\n\t\t\t\tnode.removeEventListener('mouseover', handleMouseOver);\n\t\t\t\tnode.removeEventListener('mouseout', handleMouseOut);\n\n\t\t\t\t// Remove event listeners for touch events\n\t\t\t\tnode.removeEventListener('touchstart', handleMouseOver);\n\t\t\t\tnode.removeEventListener('touchend', handleMouseOut);\n\t\t\t};\n\t\t}\n\t}, [ref.current]);\n\n\treturn [ref, value];\n}\n\nexport { useHover, useApiFetch };","import { useForm } from 'react-hook-form';\n\nconst {\n\ti18n: { __ },\n\thooks: { doAction },\n\telement: { useState }\n} = wp;\n\nexport default ({ addComment, setAddComment, productId, requestUrl }) => {\n\tconst { handleSubmit, register, errors = false } = useForm();\n\tconst [loading, setLoading] = useState(false);\n\tconst [message, setMessage] = useState(false);\n\n\tconst onSubmit = async (values) => {\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst formData = new FormData();\n\t\tformData.append('action', 'comment');\n\t\tformData.append('product_id', productId);\n\t\tformData.append('parent', addComment);\n\n\t\tObject.keys(values).map(k => formData.append(k, values[k]));\n\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst r = await fetch(requestUrl, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: formData,\n\t\t\t});\n\n\t\t\tconst { message } = await r.json();\n\n\t\t\treturn setMessage(message);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t\tsetTimeout(() => setAddComment(false), 5000);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{message ?\n\t\t\t\t<div className=\"has-accent-background-color my-spacer\" style={{ padding: '1rem', borderRadius: '.25rem' }}>\n\t\t\t\t\t<p>{message}</p>\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<form className=\"woocommerce-Reviews__comment\" onSubmit={handleSubmit(onSubmit)} name=\"wca-woo-comment\">\n\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newComment.top', register, errors, productId)}\n\t\t\t\t\t<div className=\"position-relative my-spacer\">\n\t\t\t\t\t\t<textarea className=\"form-control\" id=\"comment\" name=\"comment\" rows=\"7\" required=\"\" ref={register({\n\t\t\t\t\t\t\trequired: __('This cannot be empty!', 'wca-woo-reviews'),\n\t\t\t\t\t\t\tminLength: 20\n\t\t\t\t\t\t})} placeholder={__('Your comment', 'wca-woo-reviews')}></textarea>\n\t\t\t\t\t\t{errors.comment && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{\n\t\t\t\t\t\t\terrors.comment.type === 'minLength' ? __('Comment is too short.', 'wca-woo-reviews') : errors.comment.message\n\t\t\t\t\t\t}</em>}\n\t\t\t\t\t</div>\n\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newComment.bottom', register, errors, productId)}\n\t\t\t\t\t<button {...{\n\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\tclassName: 'wp-element-button has-primary-background-color',\n\t\t\t\t\t\tdisabled: loading === true || errors.comment === false || errors.comment\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<span>{loading ? __('Submitting...', 'wca-woo-reviews') : __('Add Comment', 'wca-woo-reviews')}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t}\n\t\t</>\n\t);\n};","export default `<svg\n\trole=\"img\"\n\twidth=\"1024\"\n\theight=\"150\"\n\taria-labelledby=\"loading-aria\"\n\tviewBox=\"0 0 1024 150\"\n\tpreserveAspectRatio=\"none\"\n\tstyle=\"width:100%;height:auto;\"\n>\n\t<title id=\"loading-aria\">Loading...</title>\n\t<rect\n\t\tx=\"0\"\n\t\ty=\"0\"\n\t\twidth=\"100%\"\n\t\theight=\"100%\"\n\t\tclip-path=\"url(#clip-path)\"\n\t\tstyle='fill: url(\"#fill\");'\n\t></rect>\n\t<defs>\n\t\t<clipPath id=\"clip-path\">\n\t\t\t<circle cx=\"25\" cy=\"40\" r=\"25\"></circle>\n\t\t\t<rect x=\"0\" y=\"100\" rx=\"3\" ry=\"3\" width=\"150\" height=\"8\"></rect>\n\t\t\t<rect x=\"0\" y=\"115\" rx=\"3\" ry=\"3\" width=\"75\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"15\" rx=\"3\" ry=\"3\" width=\"400\" height=\"10\"></rect>\n\t\t\t<rect x=\"265\" y=\"35\" rx=\"3\" ry=\"3\" width=\"75\" height=\"8\"></rect>\n\t\t\t<rect x=\"355\" y=\"35\" rx=\"3\" ry=\"3\" width=\"130\" height=\"8\"></rect>\n\t\t\t<rect x=\"265\" y=\"65\" rx=\"3\" ry=\"3\" width=\"750\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"80\" rx=\"3\" ry=\"3\" width=\"680\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"95\" rx=\"3\" ry=\"3\" width=\"630\" height=\"6\"></rect>\n\t\t\t<rect x=\"265\" y=\"110\" rx=\"3\" ry=\"3\" width=\"130\" height=\"6\"></rect>\n\t\t</clipPath>\n\t\t<linearGradient id=\"fill\">\n\t\t\t<stop\n\t\t\t\toffset=\"0.599964\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-2; -2; 1\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"1.59996\"\n\t\t\t\tstop-color=\"#ecebeb\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-1; -1; 2\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"2.59996\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"0; 0; 3\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t</linearGradient>\n\t</defs>\n</svg>`;","export default `<svg\n\trole=\"img\"\n\twidth=\"1024\"\n\theight=\"460\"\n\taria-labelledby=\"loading-aria\"\n\tviewBox=\"0 0 1024 450\"\n\tpreserveAspectRatio=\"none\"\n\tstyle=\"width:100%;height:auto;\"\n>\n\t<title id=\"loading-aria\">Loading...</title>\n\t<rect\n\t\tx=\"0\"\n\t\ty=\"0\"\n\t\twidth=\"100%\"\n\t\theight=\"100%\"\n\t\tclip-path=\"url(#clip-path)\"\n\t\tstyle='fill: url(\"#fill\");'\n\t></rect>\n\t<defs>\n\t\t<clipPath id=\"clip-path\">\n\t\t\t<circle cx=\"100\" cy=\"110\" r=\"100\"></circle>\n\t\t\t<rect x=\"265\" y=\"50\" rx=\"3\" ry=\"3\" width=\"380\" height=\"25\"></rect>\n\t\t\t<rect x=\"265\" y=\"100\" rx=\"3\" ry=\"3\" width=\"150\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"500\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"270\" rx=\"3\" ry=\"3\" width=\"220\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"320\" rx=\"3\" ry=\"3\" width=\"980\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"350\" rx=\"3\" ry=\"3\" width=\"880\" height=\"20\"></rect>\n\t\t\t<rect x=\"0\" y=\"400\" rx=\"3\" ry=\"3\" width=\"400\" height=\"20\"></rect>\n\t\t</clipPath>\n\t\t<linearGradient id=\"fill\">\n\t\t\t<stop\n\t\t\t\toffset=\"0.599964\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-2; -2; 1\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"1.59996\"\n\t\t\t\tstop-color=\"#ecebeb\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"-1; -1; 2\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t\t<stop\n\t\t\t\toffset=\"2.59996\"\n\t\t\t\tstop-color=\"#f3f3f3\"\n\t\t\t\tstop-opacity=\"1\"\n\t\t\t>\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"offset\"\n\t\t\t\t\tvalues=\"0; 0; 3\"\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\n\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\trepeatCount=\"indefinite\"\n\t\t\t\t></animate>\n\t\t\t</stop>\n\t\t</linearGradient>\n\t</defs>\n</svg>`;","import { scrollToElement } from './../../functions';\n\nconst {\n\ti18n: { __ },\n\telement: { useEffect, useState },\n} = wp;\n\nexport default ({ loading, queryArgs, setQueryArgs, totalPages: total }) => {\n\tconst { page = 1 } = queryArgs;\n\tconst [scroll, setScroll] = useState(false);\n\tconst setPage = (p) => setQueryArgs({ ...queryArgs, page: Math.min(Math.max(p, 1), total) });\n\n\tuseEffect(() => {\n\t\tif (scroll) {\n\t\t\tconst scrollEl = document.forms['wca-woo-filters'];\n\t\t\tscrollToElement(scrollEl);\n\t\t}\n\t\tsetScroll(true);\n\t}, [page]);\n\n\tconst ReaderText = ({ text }) => <span class=\"screen-reader-text\">{text}</span>;\n\n\tconst renderAdjacent = (prev = false) => {\n\t\tconst goToPage = prev ? page - 1 : page + 1;\n\t\tconst isPrevDisabled = [prev === true && page === 1 ? 'disabled' : ''];\n\t\tconst isNextDisabled = [prev === false && page === parseFloat(total) ? 'disabled' : ''];\n\t\tconst classNames = [\n\t\t\t'woocommerce-Reviews__pagination-item',\n\t\t\t'woocommerce-Reviews__pagination-item--' + (prev ? 'prev' : 'next'),\n\t\t\t...isPrevDisabled,\n\t\t\t...isNextDisabled\n\t\t].filter(Boolean);\n\n\t\tconst isDisabled = prev === true && page === 1 || prev === false && page === parseFloat(total);\n\n\t\tconst props = {\n\t\t\tclassName: 'woocommerce-Reviews__pagination-link',\n\t\t\thref: !isDisabled ? 'javascript:void(0);' : null,\n\t\t\tonClick: !isDisabled ? () => setPage(goToPage) : null,\n\t\t}\n\n\t\tconst Inner = () => <span aria-hidden=\"true\" dangerouslySetInnerHTML={{ __html: prev ? '&laquo;' : '&raquo;' }}></span>;\n\n\t\treturn (\n\t\t\t<li className={classNames.join(' ')}>{\n\t\t\t\tisDisabled ?\n\t\t\t\t\t<span {...props}><Inner /> <ReaderText text={__('Next page', 'wca-woo-reviews')} /></span>\n\t\t\t\t\t:\n\t\t\t\t\t<a {...props}><Inner /> <ReaderText text={__('Previous page', 'wca-woo-reviews')} /></a>\n\t\t\t}</li>\n\t\t);\n\t};\n\n\tconst generateDots = () => <li className=\"woocommerce-Reviews__pagination-item woocommerce-Reviews__pagination-item--dots\">\n\t\t<span className=\"woocommerce-Reviews__pagination-link\">...<ReaderText text={__('dots', 'wca-woo-reviews')} /></span>\n\t</li>;\n\n\tconst generateLink = (p) => {\n\t\tconst isCurrent = parseFloat(p) === page;\n\n\t\tconst classNames = [\n\t\t\t'woocommerce-Reviews__pagination-link',\n\t\t\t...[isCurrent ? 'has-primary-background-color' : ''],\n\t\t].filter(Boolean);\n\n\t\tconst props = {\n\t\t\tclassName: classNames.join(' '),\n\t\t\thref: !isCurrent ? 'javascript:void(0);' : null,\n\t\t\tonClick: !isCurrent ? () => setPage(p) : null,\n\t\t\t'aria-current': isCurrent ? 'page' : null\n\t\t};\n\n\t\treturn (\n\t\t\t<li className={[\n\t\t\t\t'woocommerce-Reviews__pagination-item',\n\t\t\t\t...[isCurrent ? 'woocommerce-Reviews__pagination-item--current' : '']\n\t\t\t].filter(Boolean).join(' ')}>{\n\t\t\t\t\tisCurrent ?\n\t\t\t\t\t\t<span {...props}><ReaderText text={__('Page', 'wca-woo-reviews')} /> {p}</span>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<a {...props}><ReaderText text={__('Page', 'wca-woo-reviews')} /> {p}</a>\n\t\t\t\t}</li>\n\t\t);\n\t};\n\n\tconst generateLinks = () => {\n\t\tlet d = 2, range = [];\n\n\t\tfor (let i = Math.max(2, page - d); i <= Math.min(total - 1, page + d); i++) range.push(generateLink(i));\n\t\tif (page + d < total - 1) range.push(generateDots());\n\t\tif (page - d > 2) range.unshift(generateDots());\n\t\trange.unshift(generateLink(1));\n\t\trange.push(generateLink(total));\n\n\t\treturn range;\n\t};\n\n\tconst style = {};\n\n\tif (loading) {\n\t\tstyle.pointerEvents = 'none';\n\t\tstyle.opacity = .65;\n\t}\n\n\treturn (\n\t\t<nav className=\"woocommerce-Reviews__pagination\" aria-label={__('Reviews pagination', 'wca-woo-reviews')}>\n\t\t\t<ul className=\"woocommerce-Reviews__pagination-list\" style={style}>\n\t\t\t\t{renderAdjacent(true)}\n\t\t\t\t{generateLinks()}\n\t\t\t\t{renderAdjacent()}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};","import { Like, Comment, Replies } from './actions';\nimport StarRating from '../../shared/StarRating';\nimport { formatDate, generateAvatarDataURL, getInitials } from './../../functions';\nimport Icon from '../../shared/Icon';\n\nconst {\n\ti18n: { __, sprintf },\n\thooks: { applyFilters },\n\telement: { useState },\n} = wp;\n\nexport default ({ review, options, userData = false, addComment, setAddComment, onAddComment }) => {\n\tconst {\n\t\tid: reviewId,\n\t\tcontent,\n\t\ttitle = '',\n\t\tdate,\n\t\trating,\n\t\treplies,\n\t\tverified,\n\t\tauthor: {\n\t\t\tname: authorName,\n\t\t\tavatar: authorAvatar = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89B8AAskB44g04okAAAAASUVORK5CYII=',\n\t\t},\n\t} = review;\n\n\tconst { actions = { like: true, comment: true }, avatar } = options;\n\n\tconst defaultProps = { review, options, userData };\n\tconst [comments, setComments] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\n\tconst defaultActions = [\n\t\t{\n\t\t\tkey: <Like.key />,\n\t\t\tComponent: <Like.Component {...defaultProps} />\n\t\t},\n\t\t{\n\t\t\tkey: <Replies.key />,\n\t\t\tComponent: <Replies.Component {...{ ...defaultProps, loading, setLoading, comments, setComments }} />,\n\t\t\tAfter: <Replies.After {...{ loading, comments: loading ? Array(replies.length).fill() : comments, avatar }} />\n\t\t},\n\t\t{\n\t\t\tkey: <Comment.key />,\n\t\t\tComponent: <Comment.Component {...{ ...defaultProps, onAddComment }} />,\n\t\t\tAfter: <Comment.After {...{ ...defaultProps, addComment, setAddComment }} />\n\t\t}\n\t];\n\n\tconst enabledActions = Object.keys(actions).filter((k) => actions[k] === true);\n\n\tlet reviewActions = applyFilters('wecodeart.woocommerce.reviews.actions', defaultActions, review, options, userData);\n\n\t// Filter the defaultActions array based on enabledActions\n\treviewActions = reviewActions.filter(({ key: { type } }) => {\n\t\tif (type === 'comments' && enabledActions.includes('comment')) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn enabledActions.includes(type);\n\t});\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__item has-border\" id={`review-${reviewId}`} key={reviewId}>\n\t\t\t<div className=\"grid\" style={{ paddingTop: '1rem', paddingBottom: '1rem' }}>\n\t\t\t\t<div className=\"span-12 span-md-2 span-lg-3\">\n\t\t\t\t\t<div className=\"grid\" style={{ alignItems: 'center' }}>\n\t\t\t\t\t\t<div className=\"span-3 span-sm-2 span-md-12\">\n\t\t\t\t\t\t\t<img {...{\n\t\t\t\t\t\t\t\twidth: 65,\n\t\t\t\t\t\t\t\tsrc: avatar === 'initials' ? generateAvatarDataURL(getInitials(authorName), 150) : authorAvatar,\n\t\t\t\t\t\t\t\talt: sprintf(__(\"%s's Avatar\", 'wca-woo-reviews'), authorName)\n\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"span-9 span-sm-10 span-md-12\">\n\t\t\t\t\t\t\t<strong style={{ display: 'block' }}>{authorName}</strong>\n\t\t\t\t\t\t\t<em className=\"has-small-font-size has-cyan-bluish-gray-color\">{formatDate(date)}</em>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-md-10 span-lg-9 is-layout-flow\">\n\t\t\t\t\t<div className=\"woocommerce-Reviews__item-meta has-small-font-size\">\n\t\t\t\t\t\t{title && <h5 className=\"woocommerce-Reviews__item-title\"><strong>{title}</strong></h5>}\n\t\t\t\t\t\t<StarRating rating={rating} className=\"has-small-font-size\" />\n\t\t\t\t\t\t{verified && <span className=\"woocommerce-Reviews__item-verified\">\n\t\t\t\t\t\t\t<Icon icon=\"verified\" />\n\t\t\t\t\t\t\t<em className=\"has-cyan-bluish-gray-color\">{__('Verified Purchase', 'wca-woo-reviews')}</em>\n\t\t\t\t\t\t</span>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"woocommerce-Reviews__item-content\" dangerouslySetInnerHTML={{ __html: content }} />\n\t\t\t\t\t{reviewActions.length > 0 && <>\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__item-actions\">{\n\t\t\t\t\t\t\treviewActions.map(({ Component = null }) => Component)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{reviewActions.reverse().map(({ After = null }) => After)}\n\t\t\t\t\t</>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import Icon from './../../../shared/Icon';\n\nexport default ({ icon = false, label, children, ...rest }) => {\n\trest = { className: 'wp-element-button has-background has-black-color has-small-font-size', ...rest };\n\t\n\treturn (\n\t\t<button {...rest}>\n\t\t\t{icon && <Icon icon={icon} />}\n\t\t\t{label && <span className=\"wp-element-button__label\">{label}</span>}\n\t\t\t{children}\n\t\t</button>\n\t);\n};","import Action from './Action';\r\nimport AddComment from '../../comments/AddComment';\r\n\r\nconst {\r\n    i18n: { __ },\r\n} = wp;\r\n\r\nconst Component = ({ review, userData, onAddComment }) => {\r\n    const { id: reviewId } = review;\r\n\r\n    if (userData) {\r\n        const onClick = () => onAddComment(reviewId);\r\n\r\n        return (<Action {...{ label: __('Add Comment', 'wca-woo-reviews'), icon: 'comment', onClick }} />);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nconst After = ({ review, options, addComment, setAddComment  }) => {\r\n    const { id: reviewId } = review;\r\n    const { product: { ID: productId }, requestUrl } = options;\r\n\r\n    if (addComment === reviewId) {\r\n        return (<AddComment {...{ addComment, setAddComment, productId, requestUrl }} />);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nexport default {\r\n    key: 'comment',\r\n    Component,\r\n    After\r\n};","import Action from './Action';\r\nimport { getCookie } from '../../../functions';\r\n\r\nconst { element: { useState } } = wp;\r\n\r\nconst Component = ({ review, options }) => {\r\n    const { id: reviewId, likes: hasLikes } = review;\r\n    const { requestUrl } = options;\r\n\r\n    const allLikedReviews = getCookie('wca_wooReviews_liked') || [];\r\n    const isReviewLiked = allLikedReviews.includes(reviewId);\r\n    const [likes, setLikes] = useState(hasLikes);\r\n    const [liking, setLiking] = useState(false);\r\n\r\n    const onClick = async () => {\r\n        if (liking) return;\r\n\r\n        setLiking(true);\r\n\r\n        const formData = new FormData();\r\n        formData.append('action', 'like');\r\n        formData.append('review_id', reviewId);\r\n\r\n        try {\r\n            const r = await fetch(requestUrl, {\r\n                method: 'POST',\r\n                body: formData,\r\n            });\r\n\r\n            const { likes } = await r.json();\r\n\r\n            setLikes(likes);\r\n        } finally {\r\n            setLiking(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Action {...{ icon: isReviewLiked ? 'liked' : 'like', disabled: liking === true, onClick }} >\r\n            <span className=\"count\">({likes})</span>\r\n        </Action>\r\n    );\r\n};\r\n\r\nexport default {\r\n    key: 'like',\r\n    Component,\r\n};","import Action from './Action';\r\nimport { scrollToElement } from '../../../functions';\r\n\r\nconst {\r\n    i18n: { __ },\r\n    element: { useState, useEffect, lazy, Suspense },\r\n} = wp;\r\n\r\nconst CommentsList = lazy(() => import(/* webpackChunkName: 'CommentList' */ '../../comments'));\r\n\r\nconst Component = ({ review, options, comments, setComments, loading, setLoading }) => {\r\n    const { replies = [], id: reviewId } = review;\r\n    const { requestUrl } = options;\r\n\r\n    const [scroll, setScroll] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (scroll) {\r\n            const containerEl = document.querySelector(`#review-${reviewId}`);\r\n            scrollToElement(containerEl);\r\n        }\r\n        setScroll(true);\r\n    }, [comments]);\r\n\r\n    if (replies.length) {\r\n        const onClick = async (e) => {\r\n            if (loading) {\r\n                return;\r\n            }\r\n\r\n            if (comments.length) {\r\n                const container = e.currentTarget.parentNode.parentNode.querySelector('.woocommerce-Reviews__listing--comments');\r\n                if (container) {\r\n                    container.style.display = container?.style?.display === 'none' ? 'block' : 'none';\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'query');\r\n            formData.append('include', replies);\r\n\r\n            setLoading(true);\r\n\r\n            try {\r\n                const r = await fetch(requestUrl, {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n\r\n                const { data } = await r.json();\r\n\r\n                return setComments(data);\r\n            } catch(e) {\r\n                console.warn(e);\r\n                setComments([]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <Action {...{ label: __('View Comments', 'wca-woo-reviews'), icon: 'comments', onClick }}>\r\n                <span className=\"count\"> ({replies.length}) </span>\r\n            </Action>\r\n        );\r\n    }\r\n};\r\n\r\nconst After = ({ loading, comments, avatar }) => {\r\n    if (comments.length) {\r\n        return (\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <CommentsList {...{ comments, loading, avatar }} />\r\n            </Suspense>\r\n        );\r\n    }\r\n};\r\n\r\nexport default {\r\n    key: 'comments',\r\n    Component,\r\n    After\r\n};","export { default as Like } from './Like';\r\nexport { default as Comment } from './Comment';\r\nexport { default as Replies } from './Replies';","import ReviewItem from './ReviewItem';\nimport Pagination from './Pagination';\nimport Preloader from '../preloaders/ReviewPreloader';\nimport PreloaderMobile from '../preloaders/ReviewPreloaderMobile';\nimport { scrollToElement } from '../../functions';\n\nconst {\n\turl: { isValidFragment },\n\telement: { useEffect, useState },\n} = wp;\n\nexport default ({ loading, reviews = [], meta, queryArgs, setQueryArgs, userData, options, breakpoint }) => {\n\tconst { amount } = options;\n\n\tconst { hash } = window.location;\n\tconst rId = isValidFragment(hash) && hash.split('-').pop();\n\tconst [addComment, setAddComment] = useState(false);\n\n\tconst onAddComment = (id) => (addComment !== id) ? setAddComment(id) : setAddComment(false);\n\n\tuseEffect(() => {\n\t\tif (loading) return;\n\t\tconst scrollEl = document.getElementById(`review-${rId}`);\n\t\tscrollToElement(scrollEl);\n\t}, [loading, rId]);\n\n\tconst { totalPages } = meta;\n\tconst preloader = breakpoint === 'mobile' ? PreloaderMobile : Preloader;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"woocommerce-Reviews__listing is-layout-flow\">\n\t\t\t\t{loading && Array(parseInt(amount)).fill().map((_, i) => <div key={i} dangerouslySetInnerHTML={{ __html: preloader }} />)}\n\t\t\t\t{!loading && reviews.map((review) => <ReviewItem {...{\n\t\t\t\t\treview,\n\t\t\t\t\tuserData,\n\t\t\t\t\taddComment,\n\t\t\t\t\tonAddComment,\n\t\t\t\t\tsetAddComment,\n\t\t\t\t\toptions\n\t\t\t\t}} />)}\n\t\t\t</div>\n\t\t\t{totalPages > 1 && <Pagination {...{ ...meta, loading, queryArgs, setQueryArgs }} />}\n\t\t</>\n\t);\n};","export default ({ icon = 'default', ...rest }) => {\n\treturn (\n\t\t<span className={`woocommerce-Reviews__icon woocommerce-Reviews__icon--${icon}`} role=\"img\" {...rest} />\n\t);\n};","import { useHover } from '../hooks';\nimport Icon from './Icon';\n\nconst {\n\ti18n: { __ },\n\thooks: { applyFilters },\n\telement: { useEffect, useState },\n} = wp;\n\nconst RATING_LABELS = applyFilters('wecodeart.woocommerce.reviews.rating.labels', {\n\t1: __('Not recommended', 'wca-woo-reviews'),\n\t2: __('Weak', 'wca-woo-reviews'),\n\t3: __('Acceptable', 'wca-woo-reviews'),\n\t4: __('Good', 'wca-woo-reviews'),\n\t5: __('Excelent', 'wca-woo-reviews'),\n});\n\nexport default ({ rating = 0, onClick, children }) => {\n\tconst [refHover, isHovered] = useHover();\n\tconst [ratingLabel, setRatingLabel] = useState('');\n\n\tconst hoverLabel = isHovered && isHovered.closest('[aria-label]')?.getAttribute('aria-label');\n\n\tuseEffect(() => {\n\t\tif (rating) {\n\t\t\tsetRatingLabel(RATING_LABELS[rating]);\n\t\t}\n\t}, [rating]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"woocommerce-Reviews__rating woocommerce-Reviews__rating--input\">\n\t\t\t\t<div className=\"woocommerce-Reviews__rating-range\" ref={refHover}>\n\t\t\t\t\t{Object.entries(RATING_LABELS).reverse().map(item => {\n\t\t\t\t\t\tconst [star, label] = item;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<button {...{\n\t\t\t\t\t\t\t\tclassName: ['has-background', parseInt(star) === parseInt(rating) ? 'active' : ''].filter(Boolean).join(' '),\n\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\tonClick: (e) => onClick(parseFloat(star), e),\n\t\t\t\t\t\t\t\t'aria-label': label\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Icon icon=\"rating\" />\n\t\t\t\t\t\t\t\t<span className=\"screen-reader-text\">{label}</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<strong className=\"woocommerce-Reviews__rating-hover\">{hoverLabel || ratingLabel || __('Your rating', 'wca-woo-reviews')}</strong>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</>\n\t);\n};","import Icon from './Icon';\n\nexport default ({ rating = 0.0, percent = false, className = 'has-medium-font-size' }) => {\n\tconst generateStars = (a) => [5, 4, 3, 2, 1].map((i) => {\n\t\tconst className = [\n\t\t\t'has-background',\n\t\t\tparseInt(a) === i ? 'active' : ''\n\t\t].filter(Boolean).join(' ');\n\n\t\treturn (\n\t\t\t<button className={className} key={i}>\n\t\t\t\t<Icon icon=\"rating\" />\n\t\t\t</button>\n\t\t);\n\t});\n\n\treturn (\n\t\t<div className={`woocommerce-Reviews__rating ${className}`}>\n\t\t\t<div className=\"woocommerce-Reviews__rating-range\">{generateStars(!percent && rating)}</div>\n\t\t\t{percent && <div {...{\n\t\t\t\tclassName: 'woocommerce-Reviews__rating-overlay',\n\t\t\t\tstyle: {\n\t\t\t\t\twidth: ((rating / 5) * 100).toString() + '%',\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t}\n\t\t\t}}><div className=\"woocommerce-Reviews__rating-range\">{generateStars(percent)}</div></div>}\n\t\t</div>\n\t);\n};","import RatingInput from './../shared/RatingInput';\n\nconst {\n\ti18n: { __, sprintf },\n} = wp;\n\nexport default ({ setRating, userData: { reviewer = false }, options = {} }) => {\n\tconst {\n\t\tproduct: {\n\t\t\tverify = false\n\t\t}\n\t} = options;\n\n\tconst showMessage = reviewer === false && verify;\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-new\">{showMessage ?\n\t\t\t<>\n\t\t\t\t<p className=\"woocommerce-Reviews__summary-message\" dangerouslySetInnerHTML={{ __html: verify }} />\n\t\t\t</> :\n\t\t\t<>\n\t\t\t\t<p className=\"has-normal-font-size\" style={{ marginBottom: 10 }}><strong>{\n\t\t\t\t\treviewer ?\n\t\t\t\t\t\tsprintf(__('Hey %s. Welcome back!', 'wca-woo-reviews'), reviewer)\n\t\t\t\t\t\t: __('Do you own or used the product?', 'wca-woo-reviews')\n\t\t\t\t}</strong></p>\n\t\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\" style={{ marginBottom: 10 }}>{\n\t\t\t\t\t__('Tell your opinion by giving it a rating', 'wca-woo-reviews')\n\t\t\t\t}</p>\n\t\t\t\t<RatingInput onClick={setRating} style={{ marginBottom: 10 }} />\n\t\t\t\t<button className=\"wp-element-button has-primary-background-color has-small-font-size\" onClick={() => setRating(5)}>{\n\t\t\t\t\t__('Add a review', 'wca-woo-reviews')\n\t\t\t\t}</button>\n\t\t\t</>\n\t\t}</div >\n\t);\n};","const {\n\ti18n: { _n, sprintf }\n} = wp;\n\nexport default ({ amount = {\n\t1: 0,\n\t2: 0,\n\t3: 0,\n\t4: 0,\n\t5: 0,\n}, total = 0, queryArgs, setQueryArgs }) => {\n\n\tconst onClick = (e) => {\n\t\te.preventDefault();\n\t\tconst filterForms = document.forms['wca-woo-filters'];\n\t\tconst clickedValue = e.currentTarget.dataset.value;\n\t\tconst fieldElement = filterForms.elements.rating;\n\n\t\tif (clickedValue !== fieldElement.value) {\n\t\t\tfieldElement.value = clickedValue;\n\t\t\tsetQueryArgs({ ...queryArgs, rating: clickedValue });\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-bars\" style={{ display: 'table', width: '100%' }}>\n\t\t\t{Array(5).fill().reverse().map((_, i) => {\n\t\t\t\tconst value = 5 - i;\n\t\t\t\tconst count = amount[value];\n\t\t\t\tconst calc  = count ? count / total * 100 : 0;\n\t\t\t\tconst width = calc.toString() + '%';\n\t\t\t\tconst label = sprintf(_n('%s star', '%s stars', value, 'wca-woo-reviews'), value);\n\n\t\t\t\tconst cellStyle = {\n\t\t\t\t\tdisplay: 'table-cell',\n\t\t\t\t\tpaddingTop: 8,\n\t\t\t\t\tpaddingBottom: 8,\n\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\tlineHeight: 1\n\t\t\t\t};\n\n\t\t\t\treturn (\n\t\t\t\t\t<a {...{\n\t\t\t\t\t\tkey: i,\n\t\t\t\t\t\thref: parseInt(count) ? 'javascript:void(0);' : null,\n\t\t\t\t\t\tonClick: parseInt(count) !== 0 ? onClick : null,\n\t\t\t\t\t\tstyle: { display: 'table-row', backgroundColor: 'transparent' },\n\t\t\t\t\t\t'data-value': value,\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<span style={cellStyle}>{label}</span>\n\t\t\t\t\t\t<span style={{ ...cellStyle, padding: 8, width: '100%' }}>\n\t\t\t\t\t\t\t<div className=\"has-accent-background-color\" style={{ width: '100%', borderRadius: 50, overflow: 'hidden' }}>\n\t\t\t\t\t\t\t\t<div className=\"has-primary-background-color\" role=\"progressbar\" style={{ width, minHeight: 12 }}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span style={cellStyle}>({count})</span>\n\t\t\t\t\t</a>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};","import StarRating from './../shared/StarRating';\n\nconst {\n\ti18n: { _n, sprintf }\n} = wp;\n\nexport default ({ average = 0.0, total = 0 }) => {\n\n\tconst labelElement = _n('%s review', '%s reviews', total, 'wca-woo-reviews');\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-info is-layout-flow\" style={{ textAlign: 'center' }}>\n\t\t\t<h3 style={{ lineHeight: 1, fontWeight: 700 }}>{parseFloat(average).toFixed(2)}</h3>\n\t\t\t<StarRating rating={average} percent={5} />\n\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\">{sprintf(labelElement, total)}</p>\n\t\t</div>\n\t);\n};","import Icon from './../shared/Icon';\n\nconst {\n\ti18n: { __ },\n\telement: { useRef, useEffect }\n} = wp;\n\nexport default ({ average = 0.0, verified = 0, verifiedBadge }) => {\n\tconst verifiedRef = useRef();\n\n\t// Update once and maintain it.\n\tuseEffect(() => {\n\t\tverifiedRef.current = verified;\n\t}, [verified]);\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary-stats\" style={{ textAlign: 'center' }}>\n\t\t\t<div className=\"woocommerce-Reviews__summary-stats__1\">\n\t\t\t\t<Icon icon=\"recommend\" style={{ marginRight: 15 }} />\n\t\t\t\t<span className=\"has-black-color\"><strong>{parseInt(((average / 5) * 100)) + '%'}</strong></span>\n\t\t\t\t<div className=\"has-small-font-size has-cyan-bluish-gray-color\">{__('of the clients recommend the product', 'wca-woo-reviews')}</div>\n\t\t\t</div>\n\t\t\t{verifiedBadge && <>\n\t\t\t\t<div className=\"my-spacer has-border\" />\n\t\t\t\t<div className=\"woocommerce-Reviews__summary-stats__2\">\n\t\t\t\t\t<Icon icon=\"verified\" style={{ marginRight: 15 }} />\n\t\t\t\t\t<span className=\"has-black-color\"><strong>{verifiedRef.current ?? verified}</strong>&nbsp;&nbsp;</span>\n\t\t\t\t\t<div className=\"has-small-font-size has-cyan-bluish-gray-color\">{__('of the reviews are verified purchases', 'wca-woo-reviews')}</div>\n\t\t\t\t</div>\n\t\t\t</>}\n\t\t</div>\n\t);\n};","import AddReview from './AddReview';\nimport RatingData from './RatingData';\nimport RatingBars from './RatingBars';\nimport RatingStats from './RatingStats';\n\nexport default ({ options, rating, setRating, queryArgs, setQueryArgs, userData, meta, breakpoint }) => {\n\tlet amount = {\n\t\t1: 0,\n\t\t2: 0,\n\t\t3: 0,\n\t\t4: 0,\n\t\t5: 0,\n\t};\n\n\tconst { product: { average, total, counts }, verified: verifiedBadge } = options;\n\tconst { verified } = meta;\n\n\tamount = { ...amount, ...counts };\n\n\tconst dataProps = { amount, average, total };\n\n\treturn (\n\t\t<div className=\"woocommerce-Reviews__summary\">\n\t\t\t<div className=\"grid\" style={{ alignItems: 'center' }}>\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-2\">\n\t\t\t\t\t<RatingData {...dataProps} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-3 start-lg-7\">\n\t\t\t\t\t<RatingStats {...{ average, verified, verifiedBadge }} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-lg-3 start-lg-10\" style={{ textAlign: breakpoint === 'mobile' ? 'center' : 'left' }}>\n\t\t\t\t\t<AddReview {...{ rating, setRating, userData, options }} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"span-12 span-lg-4 start-lg-3\" style={{ gridRowStart: breakpoint === 'mobile' ? 'initial' : 1 }}>\n\t\t\t\t\t<RatingBars {...{ ...dataProps, queryArgs, setQueryArgs }} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};"],"names":["Summary","Filters","Listing","useApiFetch","scrollToElement","createBreakpoint","element","useState","useEffect","lazy","Suspense","wp","LeaveAReview","useBreakpoint","mobile","laptop","App","options","headline","container","product","ID","product_id","total","requestUrl","actions","scroll","setScroll","rating","setRating","userData","setUserData","queryArgs","setQueryArgs","action","loading","data","reviews","meta","formData","FormData","append","r","fetch","method","body","token","status","json","reviewer","reviewer_email","atob","split","e","console","warn","scrollEl","document","querySelector","breakpoint","defaultProps","filtersProps","listingProps","i18n","__","_n","sprintf","totalResults","onReset","padding","borderRadius","useForm","ResultsNote","Icon","hooks","applyFilters","SORTING_OPTIONS","counts","verified","amount","getLabel","v","handleSubmit","register","mode","onSubmit","values","result","k","Object","entries","onChange","setTimeout","forms","reset","style","pointerEvents","opacity","includedIn","x","includes","hasFilters","keys","map","filter","Boolean","pop","like","likes","Array","fill","reverse","_","i","value","disabled","display","alignItems","width","marginRight","marginLeft","type","name","className","placeholder","ref","onBlur","target","search","undefined","lineHeight","formatDate","date","event","Date","year","month","day","toLocaleDateString","getCookie","cname","ca","cookie","length","c","charAt","substring","indexOf","headerEl","elementPosition","window","scrollY","getBoundingClientRect","top","scrollPosition","clientHeight","scrollTo","behavior","getInitials","names","trim","initials","n","toUpperCase","join","generateAvatarDataURL","size","bgColor","canvas","createElement","height","ctx","getContext","fillStyle","fillRect","font","textMetrics","measureText","y","actualBoundingBoxAscent","fillText","dataURL","toDataURL","renderToString","string","variables","destruct","obj","reduce","rxp","match","exec","expression","replace","RegExp","useRef","useReducer","wpBlockWooReviews","ACTIONS","MAKE_REQUEST","SET_META","GET_REVIEWS","GET_COMMENTS","ERROR","reducer","state","payload","error","path","hasReviews","dispatch","parse","then","catch","finally","useHover","setValue","handleMouseOver","handleMouseOut","node","current","addEventListener","removeEventListener","doAction","addComment","setAddComment","productId","errors","setLoading","message","setMessage","required","minLength","comment","totalPages","page","setPage","p","Math","min","max","ReaderText","text","renderAdjacent","prev","goToPage","isPrevDisabled","isNextDisabled","parseFloat","classNames","isDisabled","props","href","onClick","Inner","__html","generateDots","generateLink","isCurrent","generateLinks","d","range","push","unshift","Like","Comment","Replies","StarRating","review","onAddComment","id","reviewId","content","title","replies","author","authorName","avatar","authorAvatar","comments","setComments","defaultActions","key","Component","After","enabledActions","reviewActions","paddingTop","paddingBottom","src","alt","icon","label","children","rest","Action","AddComment","hasLikes","allLikedReviews","isReviewLiked","setLikes","liking","setLiking","CommentsList","containerEl","currentTarget","parentNode","default","ReviewItem","Pagination","Preloader","PreloaderMobile","url","isValidFragment","hash","location","rId","getElementById","preloader","parseInt","RATING_LABELS","refHover","isHovered","ratingLabel","setRatingLabel","hoverLabel","closest","getAttribute","item","star","percent","generateStars","a","toString","overflow","RatingInput","verify","showMessage","marginBottom","preventDefault","filterForms","clickedValue","dataset","fieldElement","elements","count","calc","cellStyle","whiteSpace","backgroundColor","minHeight","average","labelElement","textAlign","fontWeight","toFixed","verifiedBadge","verifiedRef","AddReview","RatingData","RatingBars","RatingStats","dataProps","gridRowStart"],"sourceRoot":""}