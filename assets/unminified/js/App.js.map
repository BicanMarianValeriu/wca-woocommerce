{"version":3,"file":"js/App.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAM;EAAEM,OAAO,EAAE;IAAEC,QAAF;IAAYC,SAAZ;IAAuBC,IAAvB;IAA6BC;EAA7B;AAAX,IAAuDC,EAA7D;AAEA,MAAMC,YAAY,GAAGH,IAAI,CAAC,MAAM,6KAAP,CAAzB;AAEA,MAAMI,aAAa,GAAGR,qDAAgB,CAAC;EAAES,MAAM,EAAE,CAAV;EAAaC,MAAM,EAAE;AAArB,CAAD,CAAtC;;AAEA,MAAMC,GAAG,GAAIC,OAAD,IAAa;EACxB,MAAM;IACLC,QAAQ,GAAG,KADN;IAELC,SAAS,GAAG,UAFP;IAGLC,OAAO,EAAE;MAAEC,EAAE,EAAEC,UAAN;MAAkBC;IAAlB,CAHJ;IAILC,UAJK;IAKLC;EALK,IAMFR,OANJ,CADwB,CASxB;;EACA,MAAM,CAACS,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACqB,MAAD,EAASC,SAAT,IAAsBtB,QAAQ,CAAC,KAAD,CAApC;EACA,MAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACyB,YAAD,EAAeC,eAAf,IAAkC1B,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAAC2B,SAAD,EAAYC,YAAZ,IAA4B5B,QAAQ,CAAC;IAAEe,UAAF;IAAcc,MAAM,EAAE;EAAtB,CAAD,CAA1C,CAdwB,CAgBxB;;EACA,MAAM;IAAEC,OAAF;IAAWC,IAAI,EAAEC,OAAjB;IAA0BC;EAA1B,IAAmCrC,mDAAW,CAAC;IAAE+B;EAAF,CAAD,CAApD,CAjBwB,CAmBxB;;EACA1B,SAAS,CAAC,MAAM;IACf,IAAIsB,QAAJ,EAAc;;IAEd,CAAC,YAAY;MACZ,MAAMW,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;MACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,MAA1B;;MAEA,IAAI;QACH,MAAMC,CAAC,GAAG,MAAMC,KAAK,CAACrB,UAAD,EAAa;UACjCsB,MAAM,EAAE,MADyB;UAEjCC,IAAI,EAAEN;QAF2B,CAAb,CAArB;QAKA,MAAM;UAAEO,KAAF;UAASC,MAAT;UAAiBC;QAAjB,IAA2B,MAAMN,CAAC,CAACO,IAAF,EAAvC;;QAEA,IAAIF,MAAJ,EAAY;UACX,MAAM,CAACG,QAAD,EAAWC,cAAX,IAA6BC,IAAI,CAACN,KAAD,CAAJ,CAAYO,KAAZ,CAAkB,GAAlB,CAAnC;UACAxB,WAAW,CAAC;YAAEqB,QAAF;YAAYC,cAAZ;YAA4BH;UAA5B,CAAD,CAAX;UACAjB,eAAe,CAACiB,KAAD,CAAf;QACA;MAED,CAdD,CAcE,OAAOM,CAAP,EAAU;QACXC,OAAO,CAACC,IAAR,CAAaF,CAAb;MACA;IACD,CArBD;EAsBA,CAzBQ,EAyBN,CAAC1B,QAAD,CAzBM,CAAT,CApBwB,CA+CxB;;EACAtB,SAAS,CAAC,MAAM;IACf,IAAIkB,MAAJ,EAAY;MACX,MAAMiC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB1C,SAAvB,CAAjB;MACAf,2DAAe,CAACuD,QAAD,CAAf;IACA;;IACDhC,SAAS,CAAC,IAAD,CAAT;EACA,CANQ,EAMN,CAACC,MAAD,CANM,CAAT;EAQA,MAAMkC,UAAU,GAAGjD,aAAa,EAAhC;EACA,MAAMkD,YAAY,GAAG;IAAE9C,OAAF;IAAWW,MAAX;IAAmBC,SAAnB;IAA8BK,SAA9B;IAAyCC,YAAzC;IAAuDL,QAAvD;IAAiEgC;EAAjE,CAArB;EACA,MAAME,YAAY,GAAG;IAAE/C,OAAF;IAAWoB,OAAX;IAAoBG,IAApB;IAA0BN,SAA1B;IAAqCC,YAArC;IAAmD2B;EAAnD,CAArB;EACA,MAAMG,YAAY,GAAG,EAAE,GAAGD,YAAL;IAAmBzB,OAAnB;IAA4BP,YAA5B;IAA0CC,eAA1C;IAA2DH,QAA3D;IAAqEL;EAArE,CAArB;EAEA,OACC,kIACEP,QAAQ,IAAI,kIACZ;IAAI,SAAS,EAAC;EAAd,GAA+CA,QAA/C,CADY,EAEZ;IAAK,SAAS,EAAC;EAAf,EAFY,CADd,EAKE,OAAOU,MAAP,KAAkB,QAAlB,IAA8B,kEAAC,QAAD;IAAU,QAAQ,EAAE;EAApB,GAC9B,kEAAC,YAAD,EAAkBmC,YAAlB,CAD8B,CALhC,EAQE,OAAOnC,MAAP,KAAkB,SAAlB,IAA+B,kEAAC,gDAAD,iFAAkBmC,YAAlB;IAAgCvB;EAAhC,GARjC,EASEjB,KAAK,GAAG,CAAR,IAAa,kIACb,kEAAC,gDAAD,EAAayC,YAAb,CADa,EAEb,kEAAC,wDAAD,EAAaC,YAAb,CAFa,CATf,CADD;AAgBA,CA7ED;;;;;;;;;;;;;;;;;;;ACbA,MAAM;EACLC,IAAI,EAAE;IAAEC,EAAF;IAAMC,EAAN;IAAUC;EAAV;AADD,IAEF1D,EAFJ;AAIA,iEAAe,QAAuC;EAAA,IAAtC;IAAE2D,YAAY,GAAG,KAAjB;IAAwBC;EAAxB,CAAsC;EACrD,OAAQD,YAAY,KAAK,KAAjB,IACP,kIACC;IAAK,SAAS,EAAC,6BAAf;IAA6C,KAAK,EAAE;MAAEE,OAAO,EAAE,MAAX;MAAmBC,YAAY,EAAE;IAAjC;EAApD,GACC,gFAAOJ,OAAO,CACbD,EAAE,CAAC,sCAAD,EAAyC,uCAAzC,EAAkFE,YAAlF,EAAgG,iBAAhG,CADW,EAEbA,YAFa,CAAd,CADD,EAKC,yFALD,EAMC;IAAG,IAAI,EAAC,qBAAR;IAA8B,OAAO,EAAEC;EAAvC,GAAiDJ,EAAE,CAAC,gBAAD,EAAmB,iBAAnB,CAAnD,CAND,CADD,CADD;AAYA,CAbD;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AAEA,MAAM;EACLD,IAAI,EAAE;IAAEC,EAAF;IAAMC,EAAN;IAAUC;EAAV,CADD;EAELQ,KAAK,EAAE;IAAEC;EAAF;AAFF,IAGFnE,EAHJ;AAKA,MAAMoE,eAAe,GAAGD,YAAY,CAAC,uCAAD,EAA0C;EAC7E,IAAIX,EAAE,CAAC,QAAD,EAAW,iBAAX,CADuE;EAE7E,UAAUA,EAAE,CAAC,QAAD,EAAW,iBAAX,CAFiE;EAG7E,SAASA,EAAE,CAAC,YAAD,EAAe,iBAAf;AAHkE,CAA1C,CAApC;AAMA,iEAAe,QAAuF;EAAA,IAAtF;IAAEjC,SAAF;IAAaC,YAAb;IAA2BE,OAA3B;IAAoCG,IAAI,EAAE;MAAE8B;IAAF,CAA1C;IAA4DrD,OAA5D;IAAqE6C;EAArE,CAAsF;EACrG,MAAM;IACL1C,OAAO,EAAE;MACRC,EAAE,EAAEC,UADI;MAER0D;IAFQ,CADJ;IAKLvD,OAAO,GAAG,EALL;IAMLwD;EANK,IAOFhE,OAPJ;EASA,IAAIiE,MAAM,GAAG;IACZ,GAAG,CADS;IAEZ,GAAG,CAFS;IAGZ,GAAG,CAHS;IAIZ,GAAG,CAJS;IAKZ,GAAG;EALS,CAAb;EAQAA,MAAM,GAAG,EAAE,GAAGA,MAAL;IAAa,GAAGF;EAAhB,CAAT;;EAEA,MAAMG,QAAQ,GAAIC,CAAD,IAAOf,OAAO,CAACD,EAAE,CAAC,iBAAD,EAAoB,kBAApB,EAAwCgB,CAAxC,EAA2C,iBAA3C,CAAH,EAAkEA,CAAlE,CAA/B;;EAEA,MAAM;IAAEC,YAAF;IAAgBC,QAAhB;IAA0BC,KAAK,EAAEC;EAAjC,IAA+Cd,wDAAO,CAAC;IAAEe,IAAI,EAAE;EAAR,CAAD,CAA5D;;EAEA,MAAMC,QAAQ,GAAIC,MAAD,IAAY;IAC5B,MAAMC,MAAM,GAAG,EAAf;;IAEA,KAAK,MAAM,CAACC,CAAD,EAAIT,CAAJ,CAAX,IAAqBU,MAAM,CAACC,OAAP,CAAeJ,MAAf,CAArB,EAA6C;MAC5C,IAAIP,CAAC,KAAK,EAAN,IAAYA,CAAC,KAAK,KAAtB,EAA6BQ,MAAM,CAACC,CAAD,CAAN,GAAYT,CAAZ;IAC7B;;IAEDjD,YAAY,CAAC;MAAEb,UAAF;MAAc,GAAGsE;IAAjB,CAAD,CAAZ;EACA,CARD;;EAUA,MAAMI,QAAQ,GAAG,MAAMC,UAAU,CAACZ,YAAY,CAACK,QAAD,CAAb,EAAyB,EAAzB,CAAjC;;EAEA,MAAMnB,OAAO,GAAG,MAAM;IACrBiB,SAAS;IAET,OAAOQ,QAAQ,EAAf;EACA,CAJD;;EAMA,MAAME,KAAK,GAAG,EAAd;;EAEA,IAAI7D,OAAJ,EAAa;IACZ6D,KAAK,CAACC,aAAN,GAAsB,MAAtB;IACAD,KAAK,CAACE,OAAN,GAAgB,GAAhB;EACA;;EAED,MAAMC,UAAU,GAAIC,CAAD,IAAO,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,EAAiCC,QAAjC,CAA0CD,CAA1C,CAA1B;;EACA,MAAME,UAAU,GAAGV,MAAM,CAACW,IAAP,CAAYvE,SAAZ,EAAuBwE,GAAvB,CAA2BL,UAA3B,EAAuCM,MAAvC,CAA8CC,OAA9C,EAAuDC,GAAvD,EAAnB;;EAEA,IAAIpF,OAAO,EAAEqF,IAAT,KAAkB,KAAtB,EAA6B;IAC5B,OAAO/B,eAAe,CAACgC,KAAvB;EACA;;EAED,OACC;IAAM,SAAS,EAAC,8BAAhB;IAA+C,QAAQ,EAAE1B,YAAY,CAACK,QAAD,CAArE;IAAiF,IAAI,EAAC,iBAAtF;IAAwG,KAAK,EAAEQ;EAA/G,GACC;IAAK,SAAS,EAAC;EAAf,EADD,EAEC;IAAK,SAAS,EAAC;EAAf,GACC;IAAK,SAAS,EAAC;EAAf,GACC;IAAK,SAAS,EAAC;EAAf,GACC;IAAO,KAAK,EAAC,kBAAb;IAAgC,GAAG,EAAC;EAApC,GAAsD/B,EAAE,CAAC,OAAD,EAAU,iBAAV,CAAxD,CADD,EAEC;IAAQ,SAAS,EAAC,aAAlB;IAAgC,EAAE,EAAC;EAAnC,GAAwDmB,QAAQ,CAAC,SAAD,EAAY;IAAEU;EAAF,CAAZ,CAAhE,GACEF,MAAM,CAACW,IAAP,CAAY1B,eAAZ,EAA6B2B,GAA7B,CAAiCb,CAAC,IAAI;IAAQ,KAAK,EAAEA;EAAf,GAAmBd,eAAe,CAACc,CAAD,CAAlC,CAAtC,CADF,CAFD,CADD,CADD,EASC;IAAK,SAAS,EAAC;EAAf,GACC;IAAK,SAAS,EAAC;EAAf,GACC;IAAO,KAAK,EAAC,kBAAb;IAAgC,GAAG,EAAC;EAApC,GAAoD1B,EAAE,CAAC,SAAD,EAAY,iBAAZ,CAAtD,CADD,EAEC;IAAQ,SAAS,EAAC,aAAlB;IAAgC,EAAE,EAAC;EAAnC,GAAsDmB,QAAQ,CAAC,QAAD,EAAW;IAAEU;EAAF,CAAX,CAA9D,GACC;IAAQ,KAAK,EAAC;EAAd,GAAkB7B,EAAE,CAAC,aAAD,EAAgB,iBAAhB,CAApB,CADD,EAEE6C,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,GAAgBC,OAAhB,GAA0BR,GAA1B,CAA8B,CAACS,CAAD,EAAIC,CAAJ,KAAU;IACxC,MAAMC,KAAK,GAAG,IAAID,CAAlB;IACA,OAAQ;MAAcE,QAAQ,EAAEpC,MAAM,CAACmC,KAAD,CAAN,KAAkB,CAA1C;MAA6CA;IAA7C,GAAuDlC,QAAQ,CAACkC,KAAD,CAA/D,CAAR;EACA,CAHA,CAFF,CAFD,CADD,CATD,EAqBC;IAAK,SAAS,EAAC,8BAAf;IAA8C,KAAK,EAAE;MAAEE,OAAO,EAAE,MAAX;MAAmBC,UAAU,EAAE;IAA/B;EAArD,GACEvC,QAAQ,IAAI;IAAK,SAAS,EAAC,4BAAf;IAA4C,KAAK,EAAE;MAAEwC,KAAK,EAAE,MAAT;MAAiBC,WAAW,EAAE;IAA9B;EAAnD,GACZ;IAAO,SAAS,EAAC,QAAjB;IAA0B,IAAI,EAAC,UAA/B;IAA0C,EAAE,EAAC;EAA7C,GAAmEpC,QAAQ,CAAC,UAAD,EAAa;IAAEU;EAAF,CAAb,CAA3E,EADY,EAEZ;IAAO,SAAS,EAAC,+CAAjB;IAAiE,GAAG,EAAC;EAArE,GACC,kEAAC,oDAAD;IAAM,IAAI,EAAC;EAAX,EADD,EAEC;IAAM,KAAK,EAAE;MAAE2B,UAAU,EAAE,EAAd;MAAkBJ,OAAO,EAAEzD,UAAU,KAAK,QAAf,GAA0B,MAA1B,GAAmC;IAA9D;EAAb,GAA8FK,EAAE,CAAC,gBAAD,EAAmB,iBAAnB,CAAhG,CAFD,CAFY,CADd,EAQC;IAAK,SAAS,EAAC;EAAf,GACC;IAAO,SAAS,EAAC,cAAjB;IAAgC,IAAI,EAAC,QAArC;IAA8C,WAAW,EAAEA,EAAE,CAAC,mBAAD,EAAsB,iBAAtB;EAA7D,GACKmB,QAAQ,CAAC,QAAD,EAAW;IACtBsC,MAAM,QAAwB;MAAA,IAAvB;QAAEC,MAAM,EAAE;UAAER;QAAF;MAAV,CAAuB;;MAC7B,IAAIA,KAAK,KAAK,EAAV,IAAgBnF,SAAS,CAAC4F,MAAV,KAAqBC,SAAzC,EAAoD;QACnD,OAAO7F,SAAS,CAAC4F,MAAjB;QACA3F,YAAY,CAAC,EAAE,GAAGD;QAAL,CAAD,CAAZ;MACA;IACD;;EANqB,CAAX,CADb,EADD,EAWC;IACC8F,SAAS,EAAE,uEADZ;IAEC9B,KAAK,EAAE;MAAE+B,UAAU,EAAE;IAAd,CAFR;IAGCC,IAAI,EAAE;EAHP,GAKC;IAAM,SAAS,EAAC;EAAhB,GAAsD/D,EAAE,CAAC,mBAAD,EAAsB,iBAAtB,CAAxD,CALD,EAMC;IAAM,SAAS,EAAC;EAAhB,EAND,CAXD,CARD,CArBD,CAFD,EAqDC;IAAK,SAAS,EAAC;EAAf,EArDD,EAsDE,CAAC9B,OAAD,IAAYmE,UAAZ,GAAyB,kEAAC,oDAAD;IAAa,YAAY,EAAElC,YAA3B;IAAyC,OAAO,EAAEC;EAAlD,EAAzB,GAAyF,IAtD3F,CADD;AA0DA,CAlHD;;;;;;;;;;;;;;;;;;ACfA,MAAM4D,UAAU,GAAIC,IAAD,IAAU;EAC5B,MAAMC,KAAK,GAAG,IAAIC,IAAJ,CAASF,IAAT,CAAd;EACA,MAAMnH,OAAO,GAAG;IAAEsH,IAAI,EAAE,SAAR;IAAmBC,KAAK,EAAE,MAA1B;IAAkCC,GAAG,EAAE;EAAvC,CAAhB;EACA,OAAOJ,KAAK,CAACK,kBAAN,CAAyBX,SAAzB,EAAoC9G,OAApC,CAAP;AACA,CAJD;;AAMA,MAAMb,eAAe,GAAIE,OAAD,IAAa;EACpC,IAAIA,OAAJ,EAAa;IACZ,MAAMqI,QAAQ,GAAG/E,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,CAAjB;IACA,MAAM+E,eAAe,GAAGC,MAAM,CAACC,OAAP,GAAiBxI,OAAO,CAACyI,qBAAR,GAAgCC,GAAjD,GAAuD,EAA/E;IACA,MAAMC,cAAc,GAAGL,eAAe,IAAID,QAAQ,GAAGA,QAAQ,CAACO,YAAZ,GAA2B,CAAvC,CAAtC;IACAL,MAAM,CAACM,QAAP,CAAgB;MAAEH,GAAG,EAAEC,cAAP;MAAuBG,QAAQ,EAAE;IAAjC,CAAhB;EACA;AACD,CAPD;;AASA,MAAMC,WAAW,GAAIC,IAAD,IAAU;EAC7B,IAAI,CAACA,IAAL,EAAW;IACV,OAAO,IAAP;EACA;;EAED,MAAMC,KAAK,GAAGD,IAAI,CAACE,IAAL,GAAYjG,KAAZ,CAAkB,GAAlB,CAAd;EACA,MAAMkG,QAAQ,GAAGF,KAAK,CAAC7C,GAAN,CAAWgD,CAAD,IAAOA,CAAC,CAAC,CAAD,CAAD,CAAKC,WAAL,EAAjB,CAAjB;EAEA,OAAOF,QAAQ,CAACG,IAAT,CAAc,EAAd,CAAP;AACA,CATD;;AAWA,MAAMC,qBAAqB,GAAG,UAACJ,QAAD,EAA+C;EAAA,IAApCK,IAAoC,uEAA7B,GAA6B;EAAA,IAAxBC,OAAwB,uEAAd,SAAc;EAC5E,MAAMC,MAAM,GAAGpG,QAAQ,CAACqG,aAAT,CAAuB,QAAvB,CAAf;EACAD,MAAM,CAACvC,KAAP,GAAeqC,IAAf;EACAE,MAAM,CAACE,MAAP,GAAgBJ,IAAhB;EACA,MAAMK,GAAG,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAZ,CAJ4E,CAM5E;;EACAD,GAAG,CAACE,SAAJ,GAAgBN,OAAhB;EACAI,GAAG,CAACG,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBN,MAAM,CAACvC,KAA1B,EAAiCuC,MAAM,CAACE,MAAxC,EAR4E,CAU5E;;EACAC,GAAG,CAACI,IAAJ,GAAY,GAAET,IAAI,GAAG,GAAI,UAAzB;EACAK,GAAG,CAACE,SAAJ,GAAgB,SAAhB,CAZ4E,CAYjD;EAE3B;;EACA,MAAMG,WAAW,GAAGL,GAAG,CAACM,WAAJ,CAAgBhB,QAAhB,CAApB;EACA,MAAMnD,CAAC,GAAG,CAAC0D,MAAM,CAACvC,KAAP,GAAe+C,WAAW,CAAC/C,KAA5B,IAAqC,CAA/C;EACA,MAAMiD,CAAC,GAAG,CAACV,MAAM,CAACE,MAAP,GAAgBJ,IAAI,GAAG,CAAxB,IAA6B,GAA7B,GAAmCA,IAAI,GAAG,CAA1C,GAA8CU,WAAW,CAACG,uBAAZ,GAAsC,GAA9F,CAjB4E,CAmB5E;;EACAR,GAAG,CAACS,QAAJ,CAAanB,QAAb,EAAuBnD,CAAvB,EAA0BoE,CAA1B,EApB4E,CAsB5E;;EACA,MAAMG,OAAO,GAAGb,MAAM,CAACc,SAAP,EAAhB;EAEA,OAAOD,OAAP;AACA,CA1BD;;AA4BA,MAAME,cAAc,GAAG,YAAiC;EAAA,IAAhCC,MAAgC,uEAAvB,EAAuB;EAAA,IAAnBC,SAAmB,uEAAP,EAAO;;EACvD,MAAMC,QAAQ,GAAG,CAACC,GAAD,EAAM/F,CAAN,KAAYA,CAAC,CAAC7B,KAAF,CAAQ,OAAR,EAAiB6H,MAAjB,CAAwB,CAAChG,CAAD,EAAIS,CAAJ,KAAUT,CAAC,GAAGS,CAAH,CAAnC,EAA0CsF,GAA1C,CAA7B,CADuD,CACsB;;;EAC7E,MAAME,GAAG,GAAG,cAAZ;EACA,IAAIC,KAAJ;;EAEA,OAAQA,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASP,MAAT,CAAhB,EAAmC;IAClC,MAAMQ,UAAU,GAAGF,KAAK,CAAC,CAAD,CAAxB;IACA,MAAMjE,KAAK,GAAG6D,QAAQ,CAACD,SAAD,EAAYO,UAAU,CAAChC,IAAX,EAAZ,CAAtB;IAEA,IAAInC,KAAK,KAAKU,SAAd,EAAyB;IAEzBiD,MAAM,GAAGA,MAAM,CAACS,OAAP,CAAe,IAAIC,MAAJ,CAAY,KAAIF,UAAW,IAA3B,EAAgC,GAAhC,CAAf,EAAqDnE,KAArD,CAAT;EACA;;EAED,OAAO2D,MAAP;AACA,CAfD;;;;;;;;;;;;;;;;;ACtDA,MAAM;EAAE1K,OAAO,EAAE;IAAEE,SAAF;IAAaD,QAAb;IAAuBoL,MAAvB;IAA+BC;EAA/B;AAAX,IAA2DjL,EAAjE;AACA,MAAM;EAAEa,UAAF;EAAcJ,OAAO,EAAE;IAAEG;EAAF;AAAvB,IAAqCsK,iBAA3C,EAEA;;AACA,MAAMC,OAAO,GAAG;EACfC,YAAY,EAAE,cADC;EAEfC,QAAQ,EAAE,UAFK;EAGfC,WAAW,EAAE,aAHE;EAIfC,YAAY,EAAE,cAJC;EAKfC,KAAK,EAAE;AALQ,CAAhB,EAQA;;AACA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBjK,MAAxB,EAAgC;EAC/B,MAAM;IAAE8F,IAAF;IAAQoE;EAAR,IAAoBlK,MAA1B;;EAEA,QAAQ8F,IAAR;IACC,KAAK4D,OAAO,CAACC,YAAb;MACC,OAAO,EAAE,GAAGM,KAAL;QAAYhK,OAAO,EAAE,IAArB;QAA2BC,IAAI,EAAE,EAAjC;QAAqCE,IAAI,EAAE;MAA3C,CAAP;;IAED,KAAKsJ,OAAO,CAACE,QAAb;MACC,MAAM;QAAExJ;MAAF,IAAW8J,OAAjB;MAEA,OAAO,EAAE,GAAGD,KAAL;QAAY7J;MAAZ,CAAP;;IAED,KAAKsJ,OAAO,CAACG,WAAb;IACA,KAAKH,OAAO,CAACI,YAAb;MACC,MAAM;QAAE5J;MAAF,IAAWgK,OAAjB;MAEA,OAAO,EAAE,GAAGD,KAAL;QAAYhK,OAAO,EAAE,KAArB;QAA4BC;MAA5B,CAAP;;IAED,KAAKwJ,OAAO,CAACK,KAAb;MACC,MAAM;QAAEI;MAAF,IAAYD,OAAlB;MAEA,OAAO,EAAE,GAAGD,KAAL;QAAYhK,OAAO,EAAE,KAArB;QAA4BC,IAAI,EAAE,EAAlC;QAAsCiK;MAAtC,CAAP;;IAED;MAAS,OAAOF,KAAP;EApBV;AAsBA;AAED;AACA;AACA;AACA;AACA;;;AACA,SAASlM,WAAT,OAIuB;EAAA,IAJF;IACpBqM,IAAI,GAAGhL,UADa;IAEpBU,SAAS,GAAG,EAFQ;IAGpBE,MAAM,GAAG;EAHW,CAIE;EAAA,IAApBqK,UAAoB,uEAAPlL,KAAO;EACtB,MAAM,CAAC8K,KAAD,EAAQK,QAAR,IAAoBd,UAAU,CAACQ,OAAD,EAAU;IAC7C9J,IAAI,EAAE,EADuC;IAE7CE,IAAI,EAAE,EAFuC;IAG7CH,OAAO,EAAE,KAHoC;IAI7CkK,KAAK,EAAE;EAJsC,CAAV,CAApC;EAOA,MAAM9J,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,OAA1B;EACAmD,MAAM,CAACW,IAAP,CAAYvE,SAAZ,EAAuBwE,GAAvB,CAA2Bb,CAAC,IAAIpD,QAAQ,CAACE,MAAT,CAAgBkD,CAAhB,EAAmB3D,SAAS,CAAC2D,CAAD,CAA5B,CAAhC;EAEArF,SAAS,CAAC,MAAM;IACf,IAAIiM,UAAU,KAAK,CAAnB,EAAsB;IAEtBC,QAAQ,CAAC;MAAExE,IAAI,EAAE4D,OAAO,CAACC;IAAhB,CAAD,CAAR;IAEAlJ,KAAK,CAAC2J,IAAD,EAAO;MACX1J,MAAM,EAAE,MADG;MAEXC,IAAI,EAAEN,QAFK;MAGXkK,KAAK,EAAE;IAHI,CAAP,CAAL,CAIGC,IAJH,CAIQhK,CAAC,IAAIA,CAAC,CAACO,IAAF,EAJb,EAIuByJ,IAJvB,CAI4B,SAAoB;MAAA,IAAnB;QAAEpK,IAAF;QAAQF;MAAR,CAAmB;MAE/CoK,QAAQ,CAAC;QAAExE,IAAI,EAAE4D,OAAO,CAACE,QAAhB;QAA0BM,OAAO,EAAE;UAAE9J;QAAF;MAAnC,CAAD,CAAR;MAEAkK,QAAQ,CAAC;QAAExE,IAAI,EAAE4D,OAAO,CAAC1J,MAAD,CAAf;QAAyBkK,OAAO,EAAE;UAAEhK;QAAF;MAAlC,CAAD,CAAR;IAEA,CAVD,EAUGuK,KAVH,CAUUN,KAAD,IAAW;MAEnBG,QAAQ,CAAC;QAAExE,IAAI,EAAE4D,OAAO,CAACK,KAAhB;QAAuBG,OAAO,EAAE;UAAEC;QAAF;MAAhC,CAAD,CAAR;IAEA,CAdD,EAcGO,OAdH,CAcW,MAAM,CAEhB,CAhBD;EAiBA,CAtBQ,EAsBN,CAAC5K,SAAD,EAAYX,KAAZ,CAtBM,CAAT;EAwBA,OAAO8K,KAAP;AACA;AAED;AACA;AACA;;;AACA,SAASU,QAAT,GAAoB;EACnB,MAAM,CAAC1F,KAAD,EAAQ2F,QAAR,IAAoBzM,QAAQ,CAAC,KAAD,CAAlC;EAEA,MAAM0M,GAAG,GAAGtB,MAAM,CAAC,IAAD,CAAlB;;EAEA,MAAMuB,eAAe,GAAI1J,CAAD,IAAOwJ,QAAQ,CAACxJ,CAAC,CAACqE,MAAH,CAAvC;;EACA,MAAMsF,cAAc,GAAG,MAAMH,QAAQ,CAAC,KAAD,CAArC;;EAEAxM,SAAS,CAAC,MAAM;IACf,MAAM4M,IAAI,GAAGH,GAAG,CAACI,OAAjB;;IACA,IAAID,IAAJ,EAAU;MACT;MACAA,IAAI,CAACE,gBAAL,CAAsB,WAAtB,EAAmCJ,eAAnC;MACAE,IAAI,CAACE,gBAAL,CAAsB,UAAtB,EAAkCH,cAAlC,EAHS,CAKT;;MACAC,IAAI,CAACE,gBAAL,CAAsB,YAAtB,EAAoCJ,eAApC;MACAE,IAAI,CAACE,gBAAL,CAAsB,UAAtB,EAAkCH,cAAlC;MAEA,OAAO,MAAM;QACZ;QACAC,IAAI,CAACG,mBAAL,CAAyB,WAAzB,EAAsCL,eAAtC;QACAE,IAAI,CAACG,mBAAL,CAAyB,UAAzB,EAAqCJ,cAArC,EAHY,CAKZ;;QACAC,IAAI,CAACG,mBAAL,CAAyB,YAAzB,EAAuCL,eAAvC;QACAE,IAAI,CAACG,mBAAL,CAAyB,UAAzB,EAAqCJ,cAArC;MACA,CARD;IASA;EACD,CArBQ,EAqBN,CAACF,GAAG,CAACI,OAAL,CArBM,CAAT;EAuBA,OAAO,CAACJ,GAAD,EAAM5F,KAAN,CAAP;AACA;;;;;;;;;;;;;;;;;;;;;;AC3HD;AAEA,MAAM;EACLnD,IAAI,EAAE;IAAEC;EAAF,CADD;EAELU,KAAK,EAAE;IAAE2I;EAAF,CAFF;EAGLlN,OAAO,EAAE;IAAEC;EAAF;AAHJ,IAIFI,EAJJ;AAMA,iEAAe,QAA0D;EAAA,IAAzD;IAAE8M,UAAF;IAAcC,aAAd;IAA6BC,SAA7B;IAAwCnM;EAAxC,CAAyD;EACxE,MAAM,CAACa,OAAD,EAAUuL,UAAV,IAAwBrN,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACsN,OAAD,EAAUC,UAAV,IAAwBvN,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM;IAAE8E,YAAF;IAAgBC,QAAhB;IAA0ByI,SAAS,EAAE;MAAEC;IAAF;EAArC,IAAoDtJ,wDAAO,CAAC;IACjEe,IAAI,EAAE,UAD2D;IAEjEwI,aAAa,EAAE;MACdC,OAAO,EAAE;IADK;EAFkD,CAAD,CAAjE;;EAOA,MAAMxI,QAAQ,GAAG,MAAOC,MAAP,IAAkB;IAClC,IAAItD,OAAJ,EAAa;MACZ;IACA;;IAED,MAAMI,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;IACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,SAA1B;IACAF,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BgL,SAA9B;IACAlL,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B8K,UAA1B;IAEA3H,MAAM,CAACW,IAAP,CAAYd,MAAZ,EAAoBe,GAApB,CAAwBb,CAAC,IAAIpD,QAAQ,CAACE,MAAT,CAAgBkD,CAAhB,EAAmBF,MAAM,CAACE,CAAD,CAAzB,CAA7B;IAEA+H,UAAU,CAAC,IAAD,CAAV;;IAEA,IAAI;MACH,MAAMhL,CAAC,GAAG,MAAMC,KAAK,CAACrB,UAAD,EAAa;QACjCsB,MAAM,EAAE,MADyB;QAEjCC,IAAI,EAAEN;MAF2B,CAAb,CAArB;MAKA,MAAM;QAAEoL;MAAF,IAAc,MAAMjL,CAAC,CAACO,IAAF,EAA1B;MAEA,OAAO2K,UAAU,CAACD,OAAD,CAAjB;IACA,CATD,SASU;MACTD,UAAU,CAAC,KAAD,CAAV;MACA3H,UAAU,CAAC,MAAMyH,aAAa,CAAC,KAAD,CAApB,EAA6B,IAA7B,CAAV;IACA;EACD,CA3BD;;EA6BAjK,OAAO,CAAC0K,GAAR,CAAYH,MAAZ;EAEA,OACC,kIACEH,OAAO,GACP;IAAK,SAAS,EAAC,uCAAf;IAAuD,KAAK,EAAE;MAAErJ,OAAO,EAAE,MAAX;MAAmBC,YAAY,EAAE;IAAjC;EAA9D,GACC,6EAAIoJ,OAAJ,CADD,CADO,GAKP;IAAM,SAAS,EAAC,8BAAhB;IAA+C,QAAQ,EAAExI,YAAY,CAACK,QAAD,CAArE;IAAiF,IAAI,EAAC;EAAtF,GACE8H,QAAQ,CAAC,8CAAD,EAAiDlI,QAAjD,EAA2D0I,MAA3D,EAAmEL,SAAnE,CADV,EAEC;IAAK,SAAS,EAAC;EAAf,GACC;IAAU,SAAS,EAAC,cAApB;IAAmC,EAAE,EAAC,SAAtC;IAAgD,IAAI,EAAC,GAArD;IAAyD,WAAW,EAAExJ,EAAE,CAAC,cAAD,EAAiB,iBAAjB;EAAxE,GACKmB,QAAQ,CAAC,SAAD,EAAY;IACvB8I,QAAQ,EAAEjK,EAAE,CAAC,uBAAD,EAA0B,iBAA1B,CADW;IAEvBkK,SAAS,EAAE;EAFY,CAAZ,CADb,EADD,EAOEL,MAAM,CAACE,OAAP,IAAkB;IAAI,KAAK,EAAC,kBAAV;IAA6B,KAAK,EAAE;MAAE3G,OAAO,EAAE;IAAX;EAApC,GAClByG,MAAM,CAACE,OAAP,CAAehG,IAAf,KAAwB,WAAxB,GAAsC/D,EAAE,CAAC,uBAAD,EAA0B,iBAA1B,CAAxC,GAAuF6J,MAAM,CAACE,OAAP,CAAeL,OADpF,CAPpB,CAFD,EAaEL,QAAQ,CAAC,iDAAD,EAAoDlI,QAApD,EAA8D0I,MAA9D,EAAsEL,SAAtE,CAbV,EAcC;IACCzF,IAAI,EAAE,QADP;IAECF,SAAS,EAAE,gDAFZ;IAGCV,QAAQ,EAAEjF,OAAO,KAAK,IAAZ,IAAoB2L,MAAM,CAACE,OAAP,KAAmB,KAAvC,IAAgDF,MAAM,CAACE;EAHlE,GAKC,gFAAO7L,OAAO,GAAG8B,EAAE,CAAC,eAAD,EAAkB,iBAAlB,CAAL,GAA4CA,EAAE,CAAC,aAAD,EAAgB,iBAAhB,CAA5D,CALD,CAdD,CANF,CADD;AAgCA,CAzED;;;;;;;;;;;;;;ACRA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAzEA;;;;;;;;;;;;;;ACAA,iEAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAvEA;;;;;;;;;;;;;;;;;;ACAA;AAEA,MAAM;EACLD,IAAI,EAAE;IAAEC;EAAF,CADD;EAEL7D,OAAO,EAAE;IAAEE,SAAF;IAAaD;EAAb;AAFJ,IAGFI,EAHJ;AAKA,iEAAe,QAA6D;EAAA,IAA5D;IAAE0B,OAAF;IAAWH,SAAX;IAAsBC,YAAtB;IAAoCmM,UAAU,EAAE/M;EAAhD,CAA4D;EAC3E,MAAM;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","sources":["webpack://wca-woocommerce/./src/js/frontend/reviews/App.js","webpack://wca-woocommerce/./src/js/frontend/reviews/filters/ResultsNote.js","webpack://wca-woocommerce/./src/js/frontend/reviews/filters/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/functions.js","webpack://wca-woocommerce/./src/js/frontend/reviews/hooks.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/comments/AddComment.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/preloaders/ReviewPreloader.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/preloaders/ReviewPreloaderMobile.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/Pagination.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/ReviewItem.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Action.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Comment.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Like.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/Replies.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/actions/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/listing/reviews/index.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/Icon.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/RatingInput.js","webpack://wca-woocommerce/./src/js/frontend/reviews/shared/StarRating.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/AddReview.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingBars.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingData.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/RatingStats.js","webpack://wca-woocommerce/./src/js/frontend/reviews/summary/index.js"],"sourcesContent":["import Summary from './summary';\r\nimport Filters from './filters';\r\nimport Listing from './listing/reviews';\r\nimport { useApiFetch } from './hooks';\r\nimport { scrollToElement } from './functions';\r\nimport { createBreakpoint } from 'react-use';\r\n\r\nconst { element: { useState, useEffect, lazy, Suspense } } = wp;\r\n\r\nconst LeaveAReview = lazy(() => import(/* webpackChunkName: 'ReviewForm' */ './form'));\r\n\r\nconst useBreakpoint = createBreakpoint({ mobile: 0, laptop: 992 });\r\n\r\nconst App = (options) => {\r\n\tconst {\r\n\t\theadline = false,\r\n\t\tcontainer = '#reviews',\r\n\t\tproduct: { ID: product_id, total },\r\n\t\trequestUrl,\r\n\t\tactions,\r\n\t} = options;\r\n\r\n\t// State\r\n\tconst [scroll, setScroll] = useState(false);\r\n\tconst [rating, setRating] = useState(false);\r\n\tconst [userData, setUserData] = useState(false);\r\n\tconst [likedReviews, setLikedReviews] = useState([]);\r\n\tconst [queryArgs, setQueryArgs] = useState({ product_id, action: 'query' });\r\n\r\n\t// Load requested comments by filters\r\n\tconst { loading, data: reviews, meta } = useApiFetch({ queryArgs });\r\n\r\n\t// Set User\r\n\tuseEffect(() => {\r\n\t\tif (userData) return;\r\n\r\n\t\t(async () => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('action', 'user');\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst r = await fetch(requestUrl, {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tbody: formData,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst { token, status, liked } = await r.json();\r\n\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tconst [reviewer, reviewer_email] = atob(token).split(':');\r\n\t\t\t\t\tsetUserData({ reviewer, reviewer_email, liked });\r\n\t\t\t\t\tsetLikedReviews(liked);\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.warn(e);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, [userData]);\r\n\r\n\t// Scroll to Comments if rating\r\n\tuseEffect(() => {\r\n\t\tif (scroll) {\r\n\t\t\tconst scrollEl = document.querySelector(container);\r\n\t\t\tscrollToElement(scrollEl);\r\n\t\t}\r\n\t\tsetScroll(true);\r\n\t}, [rating]);\r\n\r\n\tconst breakpoint = useBreakpoint();\r\n\tconst defaultProps = { options, rating, setRating, queryArgs, setQueryArgs, userData, breakpoint };\r\n\tconst filtersProps = { options, loading, meta, queryArgs, setQueryArgs, breakpoint };\r\n\tconst listingProps = { ...filtersProps, reviews, likedReviews, setLikedReviews, userData, actions };\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{headline && <>\r\n\t\t\t\t<h2 className=\"woocommerce-Reviews__headline\">{headline}</h2>\r\n\t\t\t\t<div className=\"has-border my-spacer\" />\r\n\t\t\t</>}\r\n\t\t\t{typeof rating === 'number' && <Suspense fallback={<div>Loading...</div>}>\r\n\t\t\t\t<LeaveAReview {...defaultProps} />\r\n\t\t\t</Suspense>}\r\n\t\t\t{typeof rating === 'boolean' && <Summary {...{ ...defaultProps, meta }} />}\r\n\t\t\t{total > 0 && <>\r\n\t\t\t\t<Filters {...filtersProps} />\r\n\t\t\t\t<Listing {...listingProps} />\r\n\t\t\t</>}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport { App };","const {\r\n\ti18n: { __, _n, sprintf }\r\n} = wp;\r\n\r\nexport default ({ totalResults = false, onReset }) => {\r\n\treturn (totalResults !== false &&\r\n\t\t<>\r\n\t\t\t<div className=\"has-accent-background-color\" style={{ padding: '1rem', borderRadius: '.25rem' }}>\r\n\t\t\t\t<span>{sprintf(\r\n\t\t\t\t\t_n('We found %s result for your filters.', 'We found %s results for your filters.', totalResults, 'wca-woocommerce'),\r\n\t\t\t\t\ttotalResults\r\n\t\t\t\t)}</span>\r\n\t\t\t\t<span> &nbsp; </span>\r\n\t\t\t\t<a href=\"javascript:void(0);\" onClick={onReset}>{__('Remove filters', 'wca-woocommerce')}</a>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};","import { useForm } from 'react-hook-form';\r\nimport ResultsNote from './ResultsNote';\r\nimport Icon from './../shared/Icon';\r\n\r\nconst {\r\n\ti18n: { __, _n, sprintf },\r\n\thooks: { applyFilters }\r\n} = wp;\r\n\r\nconst SORTING_OPTIONS = applyFilters('wecodeart.woocommerce.reviews.sorting', {\r\n\t'': __('Recent', 'wca-woocommerce'),\r\n\t'rating': __('Rating', 'wca-woocommerce'),\r\n\t'likes': __('Popularity', 'wca-woocommerce'),\r\n});\r\n\r\nexport default ({ queryArgs, setQueryArgs, loading, meta: { totalResults }, options, breakpoint }) => {\r\n\tconst {\r\n\t\tproduct: {\r\n\t\t\tID: product_id,\r\n\t\t\tcounts,\r\n\t\t},\r\n\t\tactions = [],\r\n\t\tverified,\r\n\t} = options;\r\n\r\n\tlet amount = {\r\n\t\t5: 0,\r\n\t\t4: 0,\r\n\t\t3: 0,\r\n\t\t2: 0,\r\n\t\t1: 0,\r\n\t};\r\n\r\n\tamount = { ...amount, ...counts };\r\n\r\n\tconst getLabel = (v) => sprintf(_n('%s star reviews', '%s stars reviews', v, 'wca-woocommerce'), v);\r\n\r\n\tconst { handleSubmit, register, reset: resetForm } = useForm({ mode: 'onSubmit' });\r\n\r\n\tconst onSubmit = (values) => {\r\n\t\tconst result = {};\r\n\r\n\t\tfor (const [k, v] of Object.entries(values)) {\r\n\t\t\tif (v !== '' && v !== false) result[k] = v;\r\n\t\t}\r\n\r\n\t\tsetQueryArgs({ product_id, ...result });\r\n\t};\r\n\r\n\tconst onChange = () => setTimeout(handleSubmit(onSubmit), 20);\r\n\r\n\tconst onReset = () => {\r\n\t\tresetForm();\r\n\r\n\t\treturn onChange();\r\n\t};\r\n\r\n\tconst style = {};\r\n\r\n\tif (loading) {\r\n\t\tstyle.pointerEvents = 'none';\r\n\t\tstyle.opacity = .65;\r\n\t}\r\n\r\n\tconst includedIn = (x) => ['rating', 'verified', 'search'].includes(x);\r\n\tconst hasFilters = Object.keys(queryArgs).map(includedIn).filter(Boolean).pop();\r\n\r\n\tif (actions?.like === false) {\r\n\t\tdelete SORTING_OPTIONS.likes;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form className=\"woocommerce-Reviews__filters\" onSubmit={handleSubmit(onSubmit)} name=\"wca-woo-filters\" style={style}>\r\n\t\t\t<div className=\"has-border my-spacer\" />\r\n\t\t\t<div className=\"grid\">\r\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-4\">\r\n\t\t\t\t\t<div className=\"input-group input-group-sm\">\r\n\t\t\t\t\t\t<label class=\"input-group-text\" for=\"filter-orderby\">{__('Sort:', 'wca-woocommerce')}</label>\r\n\t\t\t\t\t\t<select className=\"form-select\" id=\"filter-orderby\" {...register('orderby', { onChange })}>\r\n\t\t\t\t\t\t\t{Object.keys(SORTING_OPTIONS).map(k => <option value={k}>{SORTING_OPTIONS[k]}</option>)}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-4\">\r\n\t\t\t\t\t<div className=\"input-group input-group-sm\">\r\n\t\t\t\t\t\t<label class=\"input-group-text\" for=\"filter-stars\">{__('Filter:', 'wca-woocommerce')}</label>\r\n\t\t\t\t\t\t<select className=\"form-select\" id=\"filter-stars\" {...register('rating', { onChange })}>\r\n\t\t\t\t\t\t\t<option value=\"\">{__('All reviews', 'wca-woocommerce')}</option>\r\n\t\t\t\t\t\t\t{Array(5).fill().reverse().map((_, i) => {\r\n\t\t\t\t\t\t\t\tconst value = 5 - i;\r\n\t\t\t\t\t\t\t\treturn (<option {...{ disabled: amount[value] === 0, value }}>{getLabel(value)}</option>);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"span-12 span-sm-12 span-lg-4\" style={{ display: 'flex', alignItems: 'center' }}>\r\n\t\t\t\t\t{verified && <div className=\"input-group input-group-sm\" style={{ width: 'auto', marginRight: 15 }}>\r\n\t\t\t\t\t\t<input className=\"hidden\" type=\"checkbox\" id=\"filter-verified\" {...register('verified', { onChange })} />\r\n\t\t\t\t\t\t<label className=\"wp-element-button has-accent-background-color\" for=\"filter-verified\">\r\n\t\t\t\t\t\t\t<Icon icon=\"verified\" />\r\n\t\t\t\t\t\t\t<span style={{ marginLeft: 10, display: breakpoint === 'mobile' ? 'none' : 'inline-block' }}>{__('Verified owner', 'wca-woocommerce')}</span>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t\t<div className=\"input-group input-group-sm\">\r\n\t\t\t\t\t\t<input className=\"form-control\" type=\"search\" placeholder={__('Search in reviews', 'wca-woocommerce')}\r\n\t\t\t\t\t\t\t{...register('search', {\r\n\t\t\t\t\t\t\t\tonBlur({ target: { value } }) {\r\n\t\t\t\t\t\t\t\t\tif (value === '' && queryArgs.search !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\tdelete queryArgs.search;\r\n\t\t\t\t\t\t\t\t\t\tsetQueryArgs({ ...queryArgs });\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button {...{\r\n\t\t\t\t\t\t\tclassName: 'wp-element-button wp-block-search__button has-accent-background-color',\r\n\t\t\t\t\t\t\tstyle: { lineHeight: 1 },\r\n\t\t\t\t\t\t\ttype: 'submit',\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<span className=\"screen-reader-text sr-text sr-only\">{__('Search in reviews', 'wca-woocommerce')}</span>\r\n\t\t\t\t\t\t\t<span className=\"woocommerce-Reviews__icon woocommerce-Reviews__icon--search\" />\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"has-border my-spacer\" />\r\n\t\t\t{!loading && hasFilters ? <ResultsNote totalResults={totalResults} onReset={onReset} /> : null}\r\n\t\t</form>\r\n\t);\r\n};","const formatDate = (date) => {\r\n\tconst event = new Date(date);\r\n\tconst options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n\treturn event.toLocaleDateString(undefined, options);\r\n};\r\n\r\nconst scrollToElement = (element) => {\r\n\tif (element) {\r\n\t\tconst headerEl = document.querySelector('.wp-site-header.sticky-top');\r\n\t\tconst elementPosition = window.scrollY + element.getBoundingClientRect().top - 10;\r\n\t\tconst scrollPosition = elementPosition - (headerEl ? headerEl.clientHeight : 0);\r\n\t\twindow.scrollTo({ top: scrollPosition, behavior: 'smooth' });\r\n\t}\r\n};\r\n\r\nconst getInitials = (name) => {\r\n\tif (!name) {\r\n\t\treturn 'AN';\r\n\t}\r\n\r\n\tconst names = name.trim().split(' ');\r\n\tconst initials = names.map((n) => n[0].toUpperCase());\r\n\r\n\treturn initials.join('');\r\n};\r\n\r\nconst generateAvatarDataURL = (initials, size = 100, bgColor = '#007bff') => {\r\n\tconst canvas = document.createElement('canvas');\r\n\tcanvas.width = size;\r\n\tcanvas.height = size;\r\n\tconst ctx = canvas.getContext('2d');\r\n\r\n\t// Set background color\r\n\tctx.fillStyle = bgColor;\r\n\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t// Set text style\r\n\tctx.font = `${size / 2.5}px Arial`;\r\n\tctx.fillStyle = '#ffffff'; // White text color\r\n\r\n\t// Calculate text metrics to center it on the canvas\r\n\tconst textMetrics = ctx.measureText(initials);\r\n\tconst x = (canvas.width - textMetrics.width) / 2;\r\n\tconst y = (canvas.height + size / 4) / 2.5 + size / 4 - textMetrics.actualBoundingBoxAscent / 2.5;\r\n\r\n\t// Draw initials on the canvas\r\n\tctx.fillText(initials, x, y);\r\n\r\n\t// Convert canvas to data URL\r\n\tconst dataURL = canvas.toDataURL();\r\n\r\n\treturn dataURL;\r\n};\r\n\r\nconst renderToString = (string = '', variables = {}) => {\r\n\tconst destruct = (obj, v) => v.split(/\\.|\\|/).reduce((v, k) => v?.[k], obj); // Multiple\r\n\tconst rxp = /{{([^}]+)}}/g;\r\n\tlet match;\r\n\r\n\twhile ((match = rxp.exec(string))) {\r\n\t\tconst expression = match[1];\r\n\t\tconst value = destruct(variables, expression.trim());\r\n\r\n\t\tif (value === undefined) continue;\r\n\r\n\t\tstring = string.replace(new RegExp(`{{${expression}}}`, 'g'), value);\r\n\t}\r\n\r\n\treturn string;\r\n}\r\n\r\nexport { formatDate, scrollToElement, generateAvatarDataURL, getInitials, renderToString };","const { element: { useEffect, useState, useRef, useReducer } } = wp;\r\nconst { requestUrl, product: { total } } = wpBlockWooReviews;\r\n\r\n// Actions\r\nconst ACTIONS = {\r\n\tMAKE_REQUEST: 'make-request',\r\n\tSET_META: 'set-meta',\r\n\tGET_REVIEWS: 'get-reviews',\r\n\tGET_COMMENTS: 'get-comments',\r\n\tERROR: 'error'\r\n};\r\n\r\n// Reducer\r\nfunction reducer(state, action) {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase ACTIONS.MAKE_REQUEST:\r\n\t\t\treturn { ...state, loading: true, data: [], meta: {} };\r\n\r\n\t\tcase ACTIONS.SET_META:\r\n\t\t\tconst { meta } = payload;\r\n\r\n\t\t\treturn { ...state, meta };\r\n\r\n\t\tcase ACTIONS.GET_REVIEWS:\r\n\t\tcase ACTIONS.GET_COMMENTS:\r\n\t\t\tconst { data } = payload;\r\n\r\n\t\t\treturn { ...state, loading: false, data };\r\n\r\n\t\tcase ACTIONS.ERROR:\r\n\t\t\tconst { error } = payload;\r\n\r\n\t\t\treturn { ...state, loading: false, data: [], error };\r\n\r\n\t\tdefault: return state;\r\n\t}\r\n}\r\n\r\n/**\r\n * Function that fetches data using apiFetch, and updates the status.\r\n *\r\n * @param {string} path Query path.\r\n */\r\nfunction useApiFetch({\r\n\tpath = requestUrl,\r\n\tqueryArgs = {},\r\n\taction = 'GET_REVIEWS'\r\n}, hasReviews = total) {\r\n\tconst [state, dispatch] = useReducer(reducer, {\r\n\t\tdata: [],\r\n\t\tmeta: {},\r\n\t\tloading: false,\r\n\t\terror: false,\r\n\t});\r\n\r\n\tconst formData = new FormData();\r\n\tformData.append('action', 'query');\r\n\tObject.keys(queryArgs).map(k => formData.append(k, queryArgs[k]));\r\n\r\n\tuseEffect(() => {\r\n\t\tif (hasReviews === 0) return;\r\n\r\n\t\tdispatch({ type: ACTIONS.MAKE_REQUEST });\r\n\r\n\t\tfetch(path, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tparse: true,\r\n\t\t}).then(r => r.json()).then(({ meta, data }) => {\r\n\r\n\t\t\tdispatch({ type: ACTIONS.SET_META, payload: { meta } });\r\n\r\n\t\t\tdispatch({ type: ACTIONS[action], payload: { data } });\r\n\r\n\t\t}).catch((error) => {\r\n\r\n\t\t\tdispatch({ type: ACTIONS.ERROR, payload: { error } });\r\n\r\n\t\t}).finally(() => {\r\n\r\n\t\t});\r\n\t}, [queryArgs, total]);\r\n\r\n\treturn state;\r\n}\r\n\r\n/**\r\n * Function that listens for hover.\r\n */\r\nfunction useHover() {\r\n\tconst [value, setValue] = useState(false);\r\n\r\n\tconst ref = useRef(null);\r\n\r\n\tconst handleMouseOver = (e) => setValue(e.target);\r\n\tconst handleMouseOut = () => setValue(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst node = ref.current;\r\n\t\tif (node) {\r\n\t\t\t// Add event listeners for mouse events\r\n\t\t\tnode.addEventListener('mouseover', handleMouseOver);\r\n\t\t\tnode.addEventListener('mouseout', handleMouseOut);\r\n\r\n\t\t\t// Add event listeners for touch events\r\n\t\t\tnode.addEventListener('touchstart', handleMouseOver);\r\n\t\t\tnode.addEventListener('touchend', handleMouseOut);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\t// Remove event listeners for mouse events\r\n\t\t\t\tnode.removeEventListener('mouseover', handleMouseOver);\r\n\t\t\t\tnode.removeEventListener('mouseout', handleMouseOut);\r\n\r\n\t\t\t\t// Remove event listeners for touch events\r\n\t\t\t\tnode.removeEventListener('touchstart', handleMouseOver);\r\n\t\t\t\tnode.removeEventListener('touchend', handleMouseOut);\r\n\t\t\t};\r\n\t\t}\r\n\t}, [ref.current]);\r\n\r\n\treturn [ref, value];\r\n}\r\n\r\nexport { useHover, useApiFetch };","import { useForm } from 'react-hook-form';\r\n\r\nconst {\r\n\ti18n: { __ },\r\n\thooks: { doAction },\r\n\telement: { useState }\r\n} = wp;\r\n\r\nexport default ({ addComment, setAddComment, productId, requestUrl }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [message, setMessage] = useState(false);\r\n\tconst { handleSubmit, register, formState: { errors } } = useForm({\r\n\t\tmode: 'onSubmit',\r\n\t\tdefaultValues: {\r\n\t\t\tcomment: ''\r\n\t\t}\r\n\t});\r\n\r\n\tconst onSubmit = async (values) => {\r\n\t\tif (loading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('action', 'comment');\r\n\t\tformData.append('product_id', productId);\r\n\t\tformData.append('parent', addComment);\r\n\r\n\t\tObject.keys(values).map(k => formData.append(k, values[k]));\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst r = await fetch(requestUrl, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: formData,\r\n\t\t\t});\r\n\r\n\t\t\tconst { message } = await r.json();\r\n\r\n\t\t\treturn setMessage(message);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetTimeout(() => setAddComment(false), 5000);\r\n\t\t}\r\n\t};\r\n\r\n\tconsole.log(errors);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{message ?\r\n\t\t\t\t<div className=\"has-accent-background-color my-spacer\" style={{ padding: '1rem', borderRadius: '.25rem' }}>\r\n\t\t\t\t\t<p>{message}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t:\r\n\t\t\t\t<form className=\"woocommerce-Reviews__comment\" onSubmit={handleSubmit(onSubmit)} name=\"wca-woo-comment\">\r\n\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newComment.top', register, errors, productId)}\r\n\t\t\t\t\t<div className=\"position-relative my-spacer\">\r\n\t\t\t\t\t\t<textarea className=\"form-control\" id=\"comment\" rows=\"7\" placeholder={__('Your comment', 'wca-woocommerce')}\r\n\t\t\t\t\t\t\t{...register('comment', {\r\n\t\t\t\t\t\t\t\trequired: __('This cannot be empty!', 'wca-woocommerce'),\r\n\t\t\t\t\t\t\t\tminLength: 20\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{errors.comment && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{\r\n\t\t\t\t\t\t\terrors.comment.type === 'minLength' ? __('Comment is too short.', 'wca-woocommerce') : errors.comment.message\r\n\t\t\t\t\t\t}</em>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newComment.bottom', register, errors, productId)}\r\n\t\t\t\t\t<button {...{\r\n\t\t\t\t\t\ttype: 'submit',\r\n\t\t\t\t\t\tclassName: 'wp-element-button has-primary-background-color',\r\n\t\t\t\t\t\tdisabled: loading === true || errors.comment === false || errors.comment\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<span>{loading ? __('Submitting...', 'wca-woocommerce') : __('Add Comment', 'wca-woocommerce')}</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};","export default `<svg\r\n\trole=\"img\"\r\n\twidth=\"1024\"\r\n\theight=\"150\"\r\n\taria-labelledby=\"loading-aria\"\r\n\tviewBox=\"0 0 1024 150\"\r\n\tpreserveAspectRatio=\"none\"\r\n\tstyle=\"width:100%;height:auto;\"\r\n>\r\n\t<title id=\"loading-aria\">Loading...</title>\r\n\t<rect\r\n\t\tx=\"0\"\r\n\t\ty=\"0\"\r\n\t\twidth=\"100%\"\r\n\t\theight=\"100%\"\r\n\t\tclip-path=\"url(#clip-path)\"\r\n\t\tstyle='fill: url(\"#fill\");'\r\n\t></rect>\r\n\t<defs>\r\n\t\t<clipPath id=\"clip-path\">\r\n\t\t\t<circle cx=\"25\" cy=\"40\" r=\"25\"></circle>\r\n\t\t\t<rect x=\"0\" y=\"100\" rx=\"3\" ry=\"3\" width=\"150\" height=\"8\"></rect>\r\n\t\t\t<rect x=\"0\" y=\"115\" rx=\"3\" ry=\"3\" width=\"75\" height=\"6\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"15\" rx=\"3\" ry=\"3\" width=\"400\" height=\"10\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"35\" rx=\"3\" ry=\"3\" width=\"75\" height=\"8\"></rect>\r\n\t\t\t<rect x=\"355\" y=\"35\" rx=\"3\" ry=\"3\" width=\"130\" height=\"8\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"65\" rx=\"3\" ry=\"3\" width=\"750\" height=\"6\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"80\" rx=\"3\" ry=\"3\" width=\"680\" height=\"6\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"95\" rx=\"3\" ry=\"3\" width=\"630\" height=\"6\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"110\" rx=\"3\" ry=\"3\" width=\"130\" height=\"6\"></rect>\r\n\t\t</clipPath>\r\n\t\t<linearGradient id=\"fill\">\r\n\t\t\t<stop\r\n\t\t\t\toffset=\"0.599964\"\r\n\t\t\t\tstop-color=\"#f3f3f3\"\r\n\t\t\t\tstop-opacity=\"1\"\r\n\t\t\t>\r\n\t\t\t\t<animate\r\n\t\t\t\t\tattributeName=\"offset\"\r\n\t\t\t\t\tvalues=\"-2; -2; 1\"\r\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\r\n\t\t\t\t\tdur=\"2s\"\r\n\t\t\t\t\trepeatCount=\"indefinite\"\r\n\t\t\t\t></animate>\r\n\t\t\t</stop>\r\n\t\t\t<stop\r\n\t\t\t\toffset=\"1.59996\"\r\n\t\t\t\tstop-color=\"#ecebeb\"\r\n\t\t\t\tstop-opacity=\"1\"\r\n\t\t\t>\r\n\t\t\t\t<animate\r\n\t\t\t\t\tattributeName=\"offset\"\r\n\t\t\t\t\tvalues=\"-1; -1; 2\"\r\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\r\n\t\t\t\t\tdur=\"2s\"\r\n\t\t\t\t\trepeatCount=\"indefinite\"\r\n\t\t\t\t></animate>\r\n\t\t\t</stop>\r\n\t\t\t<stop\r\n\t\t\t\toffset=\"2.59996\"\r\n\t\t\t\tstop-color=\"#f3f3f3\"\r\n\t\t\t\tstop-opacity=\"1\"\r\n\t\t\t>\r\n\t\t\t\t<animate\r\n\t\t\t\t\tattributeName=\"offset\"\r\n\t\t\t\t\tvalues=\"0; 0; 3\"\r\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\r\n\t\t\t\t\tdur=\"2s\"\r\n\t\t\t\t\trepeatCount=\"indefinite\"\r\n\t\t\t\t></animate>\r\n\t\t\t</stop>\r\n\t\t</linearGradient>\r\n\t</defs>\r\n</svg>`;","export default `<svg\r\n\trole=\"img\"\r\n\twidth=\"1024\"\r\n\theight=\"460\"\r\n\taria-labelledby=\"loading-aria\"\r\n\tviewBox=\"0 0 1024 450\"\r\n\tpreserveAspectRatio=\"none\"\r\n\tstyle=\"width:100%;height:auto;\"\r\n>\r\n\t<title id=\"loading-aria\">Loading...</title>\r\n\t<rect\r\n\t\tx=\"0\"\r\n\t\ty=\"0\"\r\n\t\twidth=\"100%\"\r\n\t\theight=\"100%\"\r\n\t\tclip-path=\"url(#clip-path)\"\r\n\t\tstyle='fill: url(\"#fill\");'\r\n\t></rect>\r\n\t<defs>\r\n\t\t<clipPath id=\"clip-path\">\r\n\t\t\t<circle cx=\"100\" cy=\"110\" r=\"100\"></circle>\r\n\t\t\t<rect x=\"265\" y=\"50\" rx=\"3\" ry=\"3\" width=\"380\" height=\"25\"></rect>\r\n\t\t\t<rect x=\"265\" y=\"100\" rx=\"3\" ry=\"3\" width=\"150\" height=\"20\"></rect>\r\n\t\t\t<rect x=\"0\" y=\"240\" rx=\"3\" ry=\"3\" width=\"500\" height=\"20\"></rect>\r\n\t\t\t<rect x=\"0\" y=\"270\" rx=\"3\" ry=\"3\" width=\"220\" height=\"20\"></rect>\r\n\t\t\t<rect x=\"0\" y=\"320\" rx=\"3\" ry=\"3\" width=\"980\" height=\"20\"></rect>\r\n\t\t\t<rect x=\"0\" y=\"350\" rx=\"3\" ry=\"3\" width=\"880\" height=\"20\"></rect>\r\n\t\t\t<rect x=\"0\" y=\"400\" rx=\"3\" ry=\"3\" width=\"400\" height=\"20\"></rect>\r\n\t\t</clipPath>\r\n\t\t<linearGradient id=\"fill\">\r\n\t\t\t<stop\r\n\t\t\t\toffset=\"0.599964\"\r\n\t\t\t\tstop-color=\"#f3f3f3\"\r\n\t\t\t\tstop-opacity=\"1\"\r\n\t\t\t>\r\n\t\t\t\t<animate\r\n\t\t\t\t\tattributeName=\"offset\"\r\n\t\t\t\t\tvalues=\"-2; -2; 1\"\r\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\r\n\t\t\t\t\tdur=\"2s\"\r\n\t\t\t\t\trepeatCount=\"indefinite\"\r\n\t\t\t\t></animate>\r\n\t\t\t</stop>\r\n\t\t\t<stop\r\n\t\t\t\toffset=\"1.59996\"\r\n\t\t\t\tstop-color=\"#ecebeb\"\r\n\t\t\t\tstop-opacity=\"1\"\r\n\t\t\t>\r\n\t\t\t\t<animate\r\n\t\t\t\t\tattributeName=\"offset\"\r\n\t\t\t\t\tvalues=\"-1; -1; 2\"\r\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\r\n\t\t\t\t\tdur=\"2s\"\r\n\t\t\t\t\trepeatCount=\"indefinite\"\r\n\t\t\t\t></animate>\r\n\t\t\t</stop>\r\n\t\t\t<stop\r\n\t\t\t\toffset=\"2.59996\"\r\n\t\t\t\tstop-color=\"#f3f3f3\"\r\n\t\t\t\tstop-opacity=\"1\"\r\n\t\t\t>\r\n\t\t\t\t<animate\r\n\t\t\t\t\tattributeName=\"offset\"\r\n\t\t\t\t\tvalues=\"0; 0; 3\"\r\n\t\t\t\t\tkeyTimes=\"0; 0.25; 1\"\r\n\t\t\t\t\tdur=\"2s\"\r\n\t\t\t\t\trepeatCount=\"indefinite\"\r\n\t\t\t\t></animate>\r\n\t\t\t</stop>\r\n\t\t</linearGradient>\r\n\t</defs>\r\n</svg>`;","import { scrollToElement } from './../../functions';\r\n\r\nconst {\r\n\ti18n: { __ },\r\n\telement: { useEffect, useState },\r\n} = wp;\r\n\r\nexport default ({ loading, queryArgs, setQueryArgs, totalPages: total }) => {\r\n\tconst { page = 1 } = queryArgs;\r\n\tconst [scroll, setScroll] = useState(false);\r\n\tconst setPage = (p) => setQueryArgs({ ...queryArgs, page: Math.min(Math.max(p, 1), total) });\r\n\r\n\tuseEffect(() => {\r\n\t\tif (scroll) {\r\n\t\t\tconst scrollEl = document.forms['wca-woo-filters'];\r\n\t\t\tscrollToElement(scrollEl);\r\n\t\t}\r\n\t\tsetScroll(true);\r\n\t}, [page]);\r\n\r\n\tconst ReaderText = ({ text }) => <span class=\"screen-reader-text\">{text}</span>;\r\n\r\n\tconst renderAdjacent = (prev = false) => {\r\n\t\tconst goToPage = prev ? page - 1 : page + 1;\r\n\t\tconst isPrevDisabled = [prev === true && page === 1 ? 'disabled' : ''];\r\n\t\tconst isNextDisabled = [prev === false && page === parseFloat(total) ? 'disabled' : ''];\r\n\t\tconst classNames = [\r\n\t\t\t'woocommerce-Reviews__pagination-item',\r\n\t\t\t'woocommerce-Reviews__pagination-item--' + (prev ? 'prev' : 'next'),\r\n\t\t\t...isPrevDisabled,\r\n\t\t\t...isNextDisabled\r\n\t\t].filter(Boolean);\r\n\r\n\t\tconst isDisabled = prev === true && page === 1 || prev === false && page === parseFloat(total);\r\n\r\n\t\tconst props = {\r\n\t\t\tclassName: 'woocommerce-Reviews__pagination-link',\r\n\t\t\thref: !isDisabled ? 'javascript:void(0);' : null,\r\n\t\t\tonClick: !isDisabled ? () => setPage(goToPage) : null,\r\n\t\t}\r\n\r\n\t\tconst Inner = () => <span aria-hidden=\"true\" dangerouslySetInnerHTML={{ __html: prev ? '&laquo;' : '&raquo;' }}></span>;\r\n\r\n\t\treturn (\r\n\t\t\t<li className={classNames.join(' ')}>{\r\n\t\t\t\tisDisabled ?\r\n\t\t\t\t\t<span {...props}><Inner /> <ReaderText text={__('Next page', 'wca-woocommerce')} /></span>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<a {...props}><Inner /> <ReaderText text={__('Previous page', 'wca-woocommerce')} /></a>\r\n\t\t\t}</li>\r\n\t\t);\r\n\t};\r\n\r\n\tconst generateDots = () => <li className=\"woocommerce-Reviews__pagination-item woocommerce-Reviews__pagination-item--dots\">\r\n\t\t<span className=\"woocommerce-Reviews__pagination-link\">...<ReaderText text={__('dots', 'wca-woocommerce')} /></span>\r\n\t</li>;\r\n\r\n\tconst generateLink = (p) => {\r\n\t\tconst isCurrent = parseFloat(p) === page;\r\n\r\n\t\tconst classNames = [\r\n\t\t\t'woocommerce-Reviews__pagination-link',\r\n\t\t\t...[isCurrent ? 'has-primary-background-color' : ''],\r\n\t\t].filter(Boolean);\r\n\r\n\t\tconst props = {\r\n\t\t\tclassName: classNames.join(' '),\r\n\t\t\thref: !isCurrent ? 'javascript:void(0);' : null,\r\n\t\t\tonClick: !isCurrent ? () => setPage(p) : null,\r\n\t\t\t'aria-current': isCurrent ? 'page' : null\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<li className={[\r\n\t\t\t\t'woocommerce-Reviews__pagination-item',\r\n\t\t\t\t...[isCurrent ? 'woocommerce-Reviews__pagination-item--current' : '']\r\n\t\t\t].filter(Boolean).join(' ')}>{\r\n\t\t\t\t\tisCurrent ?\r\n\t\t\t\t\t\t<span {...props}><ReaderText text={__('Page', 'wca-woocommerce')} /> {p}</span>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<a {...props}><ReaderText text={__('Page', 'wca-woocommerce')} /> {p}</a>\r\n\t\t\t\t}</li>\r\n\t\t);\r\n\t};\r\n\r\n\tconst generateLinks = () => {\r\n\t\tlet d = 2, range = [];\r\n\r\n\t\tfor (let i = Math.max(2, page - d); i <= Math.min(total - 1, page + d); i++) range.push(generateLink(i));\r\n\t\tif (page + d < total - 1) range.push(generateDots());\r\n\t\tif (page - d > 2) range.unshift(generateDots());\r\n\t\trange.unshift(generateLink(1));\r\n\t\trange.push(generateLink(total));\r\n\r\n\t\treturn range;\r\n\t};\r\n\r\n\tconst style = {};\r\n\r\n\tif (loading) {\r\n\t\tstyle.pointerEvents = 'none';\r\n\t\tstyle.opacity = .65;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<nav className=\"woocommerce-Reviews__pagination\" aria-label={__('Reviews pagination', 'wca-woocommerce')}>\r\n\t\t\t<ul className=\"woocommerce-Reviews__pagination-list\" style={style}>\r\n\t\t\t\t{renderAdjacent(true)}\r\n\t\t\t\t{generateLinks()}\r\n\t\t\t\t{renderAdjacent()}\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n};","import { Like, Comment, Replies } from './actions';\r\nimport StarRating from '../../shared/StarRating';\r\nimport { formatDate, generateAvatarDataURL, getInitials } from './../../functions';\r\nimport Icon from '../../shared/Icon';\r\n\r\nconst {\r\n\ti18n: { __, sprintf },\r\n\thooks: { applyFilters },\r\n\telement: { useState },\r\n} = wp;\r\n\r\nexport default ({ review, options, userData = false, addComment, setAddComment, onAddComment, likedReviews, setLikedReviews }) => {\r\n\tconst {\r\n\t\tid: reviewId,\r\n\t\tcontent,\r\n\t\ttitle = '',\r\n\t\tdate,\r\n\t\trating,\r\n\t\treplies,\r\n\t\tverified,\r\n\t\tauthor: {\r\n\t\t\tname: authorName,\r\n\t\t\tavatar: authorAvatar = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89B8AAskB44g04okAAAAASUVORK5CYII=',\r\n\t\t},\r\n\t} = review;\r\n\r\n\tconst { actions = { like: true, comment: true }, avatar } = options;\r\n\r\n\tconst defaultProps = { review, options, userData };\r\n\tconst [comments, setComments] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst defaultActions = [\r\n\t\t{\r\n\t\t\tkey: <Like.key />,\r\n\t\t\tComponent: <Like.Component {...{ ...defaultProps, likedReviews, setLikedReviews }} />\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: <Replies.key />,\r\n\t\t\tComponent: <Replies.Component {...{ ...defaultProps, loading, setLoading, comments, setComments }} />,\r\n\t\t\tAfter: <Replies.After {...{ loading, comments: loading ? Array(replies.length).fill() : comments, avatar }} />\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: <Comment.key />,\r\n\t\t\tComponent: <Comment.Component {...{ ...defaultProps, onAddComment }} />,\r\n\t\t\tAfter: <Comment.After {...{ ...defaultProps, addComment, setAddComment }} />\r\n\t\t}\r\n\t];\r\n\r\n\tconst enabledActions = Object.keys(actions).filter((k) => actions[k] === true);\r\n\r\n\tlet reviewActions = applyFilters('wecodeart.woocommerce.reviews.actions', defaultActions, review, options, userData);\r\n\r\n\t// Filter the defaultActions array based on enabledActions\r\n\treviewActions = reviewActions.filter(({ key: { type } }) => {\r\n\t\tif (type === 'comments' && enabledActions.includes('comment')) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn enabledActions.includes(type);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__item has-border\" id={`review-${reviewId}`} key={reviewId}>\r\n\t\t\t<div className=\"grid\" style={{ paddingTop: '1rem', paddingBottom: '1rem' }}>\r\n\t\t\t\t<div className=\"span-12 span-md-2 span-lg-3\">\r\n\t\t\t\t\t<div className=\"grid\" style={{ alignItems: 'center' }}>\r\n\t\t\t\t\t\t<div className=\"span-3 span-sm-2 span-md-12\">\r\n\t\t\t\t\t\t\t<img {...{\r\n\t\t\t\t\t\t\t\twidth: 65,\r\n\t\t\t\t\t\t\t\tsrc: avatar === 'initials' ? generateAvatarDataURL(getInitials(authorName), 150) : authorAvatar,\r\n\t\t\t\t\t\t\t\talt: sprintf(__(\"%s's Avatar\", 'wca-woocommerce'), authorName)\r\n\t\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"span-9 span-sm-10 span-md-12\">\r\n\t\t\t\t\t\t\t<strong style={{ display: 'block' }}>{authorName}</strong>\r\n\t\t\t\t\t\t\t<em className=\"has-small-font-size has-cyan-bluish-gray-color\">{formatDate(date)}</em>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"span-12 span-md-10 span-lg-9 is-layout-flow\">\r\n\t\t\t\t\t<div className=\"woocommerce-Reviews__item-meta has-small-font-size\">\r\n\t\t\t\t\t\t{title && <h5 className=\"woocommerce-Reviews__item-title\"><strong>{title}</strong></h5>}\r\n\t\t\t\t\t\t<StarRating rating={rating} className=\"has-small-font-size\" />\r\n\t\t\t\t\t\t{verified && <span className=\"woocommerce-Reviews__item-verified\">\r\n\t\t\t\t\t\t\t<Icon icon=\"verified\" />\r\n\t\t\t\t\t\t\t<em className=\"has-cyan-bluish-gray-color\">{__('Verified Purchase', 'wca-woocommerce')}</em>\r\n\t\t\t\t\t\t</span>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"woocommerce-Reviews__item-content\" dangerouslySetInnerHTML={{ __html: content }} />\r\n\t\t\t\t\t{reviewActions.length > 0 && <>\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__item-actions\">{\r\n\t\t\t\t\t\t\treviewActions.map(({ Component = null }) => Component)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{reviewActions.reverse().map(({ After = null }) => After)}\r\n\t\t\t\t\t</>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};","import Icon from './../../../shared/Icon';\r\n\r\nexport default ({ icon = false, label, children, ...rest }) => {\r\n\trest = { className: 'wp-element-button has-background has-black-color has-small-font-size', ...rest };\r\n\t\r\n\treturn (\r\n\t\t<button {...rest}>\r\n\t\t\t{icon && <Icon icon={icon} />}\r\n\t\t\t{label && <span className=\"wp-element-button__label\">{label}</span>}\r\n\t\t\t{children}\r\n\t\t</button>\r\n\t);\r\n};","import Action from './Action';\r\nimport AddComment from '../../comments/AddComment';\r\n\r\nconst {\r\n    i18n: { __ },\r\n} = wp;\r\n\r\nconst Component = ({ review, userData, onAddComment }) => {\r\n    if (userData) {\r\n        const { id: reviewId } = review;\r\n        const onClick = () => onAddComment(reviewId);\r\n\r\n        return (<Action {...{ label: __('Add Comment', 'wca-woocommerce'), icon: 'comment', onClick }} />);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nconst After = ({ review, options, addComment, setAddComment  }) => {\r\n    const { id: reviewId } = review;\r\n    const { product: { ID: productId }, requestUrl } = options;\r\n\r\n    if (addComment === reviewId) {\r\n        return (<AddComment {...{ addComment, setAddComment, productId, requestUrl }} />);\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nexport default {\r\n    key: 'comment',\r\n    Component,\r\n    After\r\n};","import Action from './Action';\r\n\r\nconst { element: { useState } } = wp;\r\n\r\nconst Component = ({ review, options, likedReviews, setLikedReviews, userData }) => {\r\n    const { id: reviewId, likes: hasLikes } = review;\r\n    const { requestUrl } = options;\r\n\r\n    const isReviewLiked = likedReviews.includes(parseInt(reviewId));\r\n    const [likes, setLikes] = useState(hasLikes);\r\n    const [liking, setLiking] = useState(false);\r\n\r\n    let actionProps = {\r\n        icon: isReviewLiked ? 'liked' : 'like',\r\n        disabled: liking === true,\r\n    };\r\n\r\n    if (userData) {\r\n        const onClick = async () => {\r\n            if (liking) return;\r\n\r\n            setLiking(true);\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'like');\r\n            formData.append('review_id', reviewId);\r\n\r\n            try {\r\n                const r = await fetch(requestUrl, {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n\r\n                const { likes } = await r.json();\r\n\r\n                setLikes(likes);\r\n                const newLiked = isReviewLiked ? likedReviews.filter(i => parseInt(i) !== parseInt(reviewId)) : [...likedReviews, reviewId];\r\n                setLikedReviews(newLiked);\r\n            } finally {\r\n                setLiking(false);\r\n            }\r\n        };\r\n\r\n        actionProps = { ...actionProps, onClick };\r\n    }\r\n\r\n    return (\r\n        <Action {...actionProps} >\r\n            <span className=\"count\">({likes})</span>\r\n        </Action>\r\n    );\r\n};\r\n\r\nexport default {\r\n    key: 'like',\r\n    Component,\r\n};","import Action from './Action';\r\nimport { scrollToElement } from '../../../functions';\r\n\r\nconst {\r\n    i18n: { __ },\r\n    element: { useState, useEffect, lazy, Suspense },\r\n} = wp;\r\n\r\nconst CommentsList = lazy(() => import(/* webpackChunkName: 'CommentList' */ '../../comments'));\r\n\r\nconst Component = ({ review, options, comments, setComments, loading, setLoading }) => {\r\n    const { replies = [], id: reviewId } = review;\r\n    const { requestUrl } = options;\r\n\r\n    const [scroll, setScroll] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (scroll) {\r\n            const containerEl = document.querySelector(`#review-${reviewId}`);\r\n            scrollToElement(containerEl);\r\n        }\r\n        setScroll(true);\r\n    }, [comments]);\r\n\r\n    if (replies.length) {\r\n        const onClick = async (e) => {\r\n            if (loading) {\r\n                return;\r\n            }\r\n\r\n            if (comments.length) {\r\n                const container = e.currentTarget.parentNode.parentNode.querySelector('.woocommerce-Reviews__listing--comments');\r\n                if (container) {\r\n                    container.style.display = container?.style?.display === 'none' ? 'block' : 'none';\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'query');\r\n            formData.append('include', replies);\r\n\r\n            setLoading(true);\r\n\r\n            try {\r\n                const r = await fetch(requestUrl, {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n\r\n                const { data } = await r.json();\r\n\r\n                return setComments(data);\r\n            } catch(e) {\r\n                console.warn(e);\r\n                setComments([]);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <Action {...{ label: __('View Comments', 'wca-woocommerce'), icon: 'comments', onClick }}>\r\n                <span className=\"count\"> ({replies.length}) </span>\r\n            </Action>\r\n        );\r\n    }\r\n};\r\n\r\nconst After = ({ loading, comments, avatar }) => {\r\n    if (comments.length) {\r\n        return (\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <CommentsList {...{ comments, loading, avatar }} />\r\n            </Suspense>\r\n        );\r\n    }\r\n};\r\n\r\nexport default {\r\n    key: 'comments',\r\n    Component,\r\n    After\r\n};","export { default as Like } from './Like';\r\nexport { default as Comment } from './Comment';\r\nexport { default as Replies } from './Replies';","import ReviewItem from './ReviewItem';\r\nimport Pagination from './Pagination';\r\nimport Preloader from '../preloaders/ReviewPreloader';\r\nimport PreloaderMobile from '../preloaders/ReviewPreloaderMobile';\r\nimport { scrollToElement } from '../../functions';\r\n\r\nconst {\r\n\turl: { isValidFragment },\r\n\telement: { useEffect, useState },\r\n} = wp;\r\n\r\nexport default ({ loading, reviews = [], likedReviews = [], setLikedReviews, meta, queryArgs, setQueryArgs, userData, options, breakpoint }) => {\r\n\tconst { amount } = options;\r\n\r\n\tconst { hash } = window.location;\r\n\tconst rId = isValidFragment(hash) && hash.split('-').pop();\r\n\tconst [addComment, setAddComment] = useState(false);\r\n\r\n\tconst onAddComment = (id) => (addComment !== id) ? setAddComment(id) : setAddComment(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) return;\r\n\t\tconst scrollEl = document.getElementById(`review-${rId}`);\r\n\t\tscrollToElement(scrollEl);\r\n\t}, [loading, rId]);\r\n\r\n\tconst { totalPages } = meta;\r\n\tconst preloader = breakpoint === 'mobile' ? PreloaderMobile : Preloader;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"woocommerce-Reviews__listing is-layout-flow\">\r\n\t\t\t\t{loading && Array(parseInt(amount)).fill().map((_, i) => <div key={i} dangerouslySetInnerHTML={{ __html: preloader }} />)}\r\n\t\t\t\t{!loading && reviews.map((review) => <ReviewItem {...{\r\n\t\t\t\t\treview,\r\n\t\t\t\t\tlikedReviews,\r\n\t\t\t\t\tsetLikedReviews,\r\n\t\t\t\t\tuserData,\r\n\t\t\t\t\taddComment,\r\n\t\t\t\t\tonAddComment,\r\n\t\t\t\t\tsetAddComment,\r\n\t\t\t\t\toptions\r\n\t\t\t\t}} />)}\r\n\t\t\t</div>\r\n\t\t\t{totalPages > 1 && <Pagination {...{ ...meta, loading, queryArgs, setQueryArgs }} />}\r\n\t\t</>\r\n\t);\r\n};","export default ({ icon = 'default', ...rest }) => {\r\n\treturn (\r\n\t\t<span className={`woocommerce-Reviews__icon woocommerce-Reviews__icon--${icon}`} role=\"img\" {...rest} />\r\n\t);\r\n};","import { useHover } from '../hooks';\r\nimport Icon from './Icon';\r\n\r\nconst {\r\n\ti18n: { __ },\r\n\thooks: { applyFilters },\r\n\telement: { useEffect, useState },\r\n} = wp;\r\n\r\nconst RATING_LABELS = applyFilters('wecodeart.woocommerce.reviews.rating.labels', {\r\n\t1: __('Not recommended', 'wca-woocommerce'),\r\n\t2: __('Weak', 'wca-woocommerce'),\r\n\t3: __('Acceptable', 'wca-woocommerce'),\r\n\t4: __('Good', 'wca-woocommerce'),\r\n\t5: __('Excelent', 'wca-woocommerce'),\r\n});\r\n\r\nexport default ({ rating = 0, onClick, children }) => {\r\n\tconst [refHover, isHovered] = useHover();\r\n\tconst [ratingLabel, setRatingLabel] = useState('');\r\n\r\n\tconst hoverLabel = isHovered && isHovered.closest('[aria-label]')?.getAttribute('aria-label');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (rating) {\r\n\t\t\tsetRatingLabel(RATING_LABELS[rating]);\r\n\t\t}\r\n\t}, [rating]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"woocommerce-Reviews__rating woocommerce-Reviews__rating--input\">\r\n\t\t\t\t<div className=\"woocommerce-Reviews__rating-range\" ref={refHover}>\r\n\t\t\t\t\t{Object.entries(RATING_LABELS).reverse().map(item => {\r\n\t\t\t\t\t\tconst [star, label] = item;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<button {...{\r\n\t\t\t\t\t\t\t\tclassName: ['has-background', parseInt(star) === parseInt(rating) ? 'active' : ''].filter(Boolean).join(' '),\r\n\t\t\t\t\t\t\t\ttype: 'button',\r\n\t\t\t\t\t\t\t\tonClick: (e) => onClick(parseFloat(star), e),\r\n\t\t\t\t\t\t\t\t'aria-label': label\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<Icon icon=\"rating\" />\r\n\t\t\t\t\t\t\t\t<span className=\"screen-reader-text\">{label}</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<strong className=\"woocommerce-Reviews__rating-hover\">{hoverLabel || ratingLabel || __('Your rating', 'wca-woocommerce')}</strong>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};","import Icon from './Icon';\r\n\r\nexport default ({ rating = 0.0, percent = false, className = 'has-medium-font-size' }) => {\r\n\tconst generateStars = (a) => [5, 4, 3, 2, 1].map((i) => {\r\n\t\tconst className = [\r\n\t\t\t'has-background',\r\n\t\t\tparseInt(a) === i ? 'active' : ''\r\n\t\t].filter(Boolean).join(' ');\r\n\r\n\t\treturn (\r\n\t\t\t<button className={className} key={i}>\r\n\t\t\t\t<Icon icon=\"rating\" />\r\n\t\t\t</button>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className={`woocommerce-Reviews__rating ${className}`}>\r\n\t\t\t<div className=\"woocommerce-Reviews__rating-range\">{generateStars(!percent && rating)}</div>\r\n\t\t\t{percent && <div {...{\r\n\t\t\t\tclassName: 'woocommerce-Reviews__rating-overlay',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\twidth: ((rating / 5) * 100).toString() + '%',\r\n\t\t\t\t\toverflow: 'hidden'\r\n\t\t\t\t}\r\n\t\t\t}}><div className=\"woocommerce-Reviews__rating-range\">{generateStars(percent)}</div></div>}\r\n\t\t</div>\r\n\t);\r\n};","import RatingInput from './../shared/RatingInput';\r\n\r\nconst {\r\n\ti18n: { __, sprintf },\r\n} = wp;\r\n\r\nexport default ({ setRating, userData: { reviewer = false }, options = {} }) => {\r\n\tconst {\r\n\t\tproduct: {\r\n\t\t\tverify = false\r\n\t\t}\r\n\t} = options;\r\n\r\n\tconst showMessage = reviewer === false && verify;\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__summary-new\">{showMessage ?\r\n\t\t\t<>\r\n\t\t\t\t<p className=\"woocommerce-Reviews__summary-message\" dangerouslySetInnerHTML={{ __html: verify }} />\r\n\t\t\t</> :\r\n\t\t\t<>\r\n\t\t\t\t<p className=\"has-normal-font-size\" style={{ marginBottom: 10 }}><strong>{\r\n\t\t\t\t\treviewer ?\r\n\t\t\t\t\t\tsprintf(__('Hey %s. Welcome back!', 'wca-woocommerce'), reviewer)\r\n\t\t\t\t\t\t: __('Do you own or used the product?', 'wca-woocommerce')\r\n\t\t\t\t}</strong></p>\r\n\t\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\" style={{ marginBottom: 10 }}>{\r\n\t\t\t\t\t__('Tell your opinion by giving it a rating', 'wca-woocommerce')\r\n\t\t\t\t}</p>\r\n\t\t\t\t<RatingInput onClick={setRating} style={{ marginBottom: 10 }} />\r\n\t\t\t\t<button className=\"wp-element-button has-primary-background-color has-small-font-size\" onClick={() => setRating(5)}>{\r\n\t\t\t\t\t__('Add a review', 'wca-woocommerce')\r\n\t\t\t\t}</button>\r\n\t\t\t</>\r\n\t\t}</div >\r\n\t);\r\n};","const {\r\n\ti18n: { _n, sprintf }\r\n} = wp;\r\n\r\nexport default ({ amount = {\r\n\t1: 0,\r\n\t2: 0,\r\n\t3: 0,\r\n\t4: 0,\r\n\t5: 0,\r\n}, total = 0, queryArgs, setQueryArgs }) => {\r\n\r\n\tconst onClick = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst filterForms = document.forms['wca-woo-filters'];\r\n\t\tconst clickedValue = e.currentTarget.dataset.value;\r\n\t\tconst fieldElement = filterForms.elements.rating;\r\n\r\n\t\tif (clickedValue !== fieldElement.value) {\r\n\t\t\tfieldElement.value = clickedValue;\r\n\t\t\tsetQueryArgs({ ...queryArgs, rating: clickedValue });\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__summary-bars\" style={{ display: 'table', width: '100%' }}>\r\n\t\t\t{Array(5).fill().reverse().map((_, i) => {\r\n\t\t\t\tconst value = 5 - i;\r\n\t\t\t\tconst count = amount[value];\r\n\t\t\t\tconst calc  = count ? count / total * 100 : 0;\r\n\t\t\t\tconst width = calc.toString() + '%';\r\n\t\t\t\tconst label = sprintf(_n('%s star', '%s stars', value, 'wca-woocommerce'), value);\r\n\r\n\t\t\t\tconst cellStyle = {\r\n\t\t\t\t\tdisplay: 'table-cell',\r\n\t\t\t\t\tpaddingTop: 8,\r\n\t\t\t\t\tpaddingBottom: 8,\r\n\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\tlineHeight: 1\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<a {...{\r\n\t\t\t\t\t\tkey: i,\r\n\t\t\t\t\t\thref: parseInt(count) ? 'javascript:void(0);' : null,\r\n\t\t\t\t\t\tonClick: parseInt(count) !== 0 ? onClick : null,\r\n\t\t\t\t\t\tstyle: { display: 'table-row', backgroundColor: 'transparent' },\r\n\t\t\t\t\t\t'data-value': value,\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<span style={cellStyle}>{label}</span>\r\n\t\t\t\t\t\t<span style={{ ...cellStyle, padding: 8, width: '100%' }}>\r\n\t\t\t\t\t\t\t<div className=\"has-accent-background-color\" style={{ width: '100%', borderRadius: 50, overflow: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t<div className=\"has-primary-background-color\" role=\"progressbar\" style={{ width, minHeight: 12 }}></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span style={cellStyle}>({count})</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};","import StarRating from './../shared/StarRating';\r\n\r\nconst {\r\n\ti18n: { _n, sprintf }\r\n} = wp;\r\n\r\nexport default ({ average = 0.0, total = 0 }) => {\r\n\r\n\tconst labelElement = _n('%s review', '%s reviews', total, 'wca-woocommerce');\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__summary-info is-layout-flow\" style={{ textAlign: 'center' }}>\r\n\t\t\t<h3 style={{ lineHeight: 1, fontWeight: 700 }}>{parseFloat(average).toFixed(2)}</h3>\r\n\t\t\t<StarRating rating={average} percent={5} />\r\n\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\">{sprintf(labelElement, total)}</p>\r\n\t\t</div>\r\n\t);\r\n};","import Icon from './../shared/Icon';\r\n\r\nconst {\r\n\ti18n: { __ },\r\n\telement: { useRef, useEffect }\r\n} = wp;\r\n\r\nexport default ({ average = 0.0, verified = 0, verifiedBadge }) => {\r\n\tconst verifiedRef = useRef();\r\n\r\n\t// Update once and maintain it.\r\n\tuseEffect(() => {\r\n\t\tverifiedRef.current = verified;\r\n\t}, [verified]);\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__summary-stats\">\r\n\t\t\t<div className=\"woocommerce-Reviews__summary-stats__1\">\r\n\t\t\t\t<Icon icon=\"recommend\" style={{ marginRight: 15 }} />\r\n\t\t\t\t<span className=\"has-black-color\"><strong>{parseInt(((average / 5) * 100)) + '%'}</strong></span>\r\n\t\t\t\t<div className=\"has-small-font-size has-cyan-bluish-gray-color\">{__('of the clients recommend the product', 'wca-woocommerce')}</div>\r\n\t\t\t</div>\r\n\t\t\t{verifiedBadge && <>\r\n\t\t\t\t<div className=\"my-spacer has-border\" />\r\n\t\t\t\t<div className=\"woocommerce-Reviews__summary-stats__2\">\r\n\t\t\t\t\t<Icon icon=\"verified\" style={{ marginRight: 15 }} />\r\n\t\t\t\t\t<span className=\"has-black-color\"><strong>{verifiedRef.current ?? verified}</strong>&nbsp;&nbsp;</span>\r\n\t\t\t\t\t<div className=\"has-small-font-size has-cyan-bluish-gray-color\">{__('of the reviews are verified purchases', 'wca-woocommerce')}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>}\r\n\t\t</div>\r\n\t);\r\n};","import AddReview from './AddReview';\r\nimport RatingData from './RatingData';\r\nimport RatingBars from './RatingBars';\r\nimport RatingStats from './RatingStats';\r\n\r\nexport default ({ options, rating, setRating, queryArgs, setQueryArgs, userData, meta, breakpoint }) => {\r\n\tlet amount = {\r\n\t\t1: 0,\r\n\t\t2: 0,\r\n\t\t3: 0,\r\n\t\t4: 0,\r\n\t\t5: 0,\r\n\t};\r\n\r\n\tconst { product: { average, total, counts }, verified: verifiedBadge } = options;\r\n\tconst { verified } = meta;\r\n\r\n\tamount = { ...amount, ...counts };\r\n\r\n\tconst dataProps = { amount, average, total };\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__summary\">\r\n\t\t\t<div className=\"grid\">\r\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-2\">\r\n\t\t\t\t\t<RatingData {...dataProps} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"span-12 span-sm-6 span-lg-3 start-lg-7\">\r\n\t\t\t\t\t<RatingStats {...{ average, verified, verifiedBadge }} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"span-12 span-lg-3 start-lg-10\">\r\n\t\t\t\t\t<AddReview {...{ rating, setRating, userData, options }} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"span-12 span-lg-4 start-lg-3\" style={{ gridRowStart: breakpoint === 'mobile' ? 'initial' : 1 }}>\r\n\t\t\t\t\t<RatingBars {...{ ...dataProps, queryArgs, setQueryArgs }} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};"],"names":["Summary","Filters","Listing","useApiFetch","scrollToElement","createBreakpoint","element","useState","useEffect","lazy","Suspense","wp","LeaveAReview","useBreakpoint","mobile","laptop","App","options","headline","container","product","ID","product_id","total","requestUrl","actions","scroll","setScroll","rating","setRating","userData","setUserData","likedReviews","setLikedReviews","queryArgs","setQueryArgs","action","loading","data","reviews","meta","formData","FormData","append","r","fetch","method","body","token","status","liked","json","reviewer","reviewer_email","atob","split","e","console","warn","scrollEl","document","querySelector","breakpoint","defaultProps","filtersProps","listingProps","i18n","__","_n","sprintf","totalResults","onReset","padding","borderRadius","useForm","ResultsNote","Icon","hooks","applyFilters","SORTING_OPTIONS","counts","verified","amount","getLabel","v","handleSubmit","register","reset","resetForm","mode","onSubmit","values","result","k","Object","entries","onChange","setTimeout","style","pointerEvents","opacity","includedIn","x","includes","hasFilters","keys","map","filter","Boolean","pop","like","likes","Array","fill","reverse","_","i","value","disabled","display","alignItems","width","marginRight","marginLeft","onBlur","target","search","undefined","className","lineHeight","type","formatDate","date","event","Date","year","month","day","toLocaleDateString","headerEl","elementPosition","window","scrollY","getBoundingClientRect","top","scrollPosition","clientHeight","scrollTo","behavior","getInitials","name","names","trim","initials","n","toUpperCase","join","generateAvatarDataURL","size","bgColor","canvas","createElement","height","ctx","getContext","fillStyle","fillRect","font","textMetrics","measureText","y","actualBoundingBoxAscent","fillText","dataURL","toDataURL","renderToString","string","variables","destruct","obj","reduce","rxp","match","exec","expression","replace","RegExp","useRef","useReducer","wpBlockWooReviews","ACTIONS","MAKE_REQUEST","SET_META","GET_REVIEWS","GET_COMMENTS","ERROR","reducer","state","payload","error","path","hasReviews","dispatch","parse","then","catch","finally","useHover","setValue","ref","handleMouseOver","handleMouseOut","node","current","addEventListener","removeEventListener","doAction","addComment","setAddComment","productId","setLoading","message","setMessage","formState","errors","defaultValues","comment","log","required","minLength","totalPages","page","setPage","p","Math","min","max","forms","ReaderText","text","renderAdjacent","prev","goToPage","isPrevDisabled","isNextDisabled","parseFloat","classNames","isDisabled","props","href","onClick","Inner","__html","generateDots","generateLink","isCurrent","generateLinks","d","range","push","unshift","Like","Comment","Replies","StarRating","review","onAddComment","id","reviewId","content","title","replies","author","authorName","avatar","authorAvatar","comments","setComments","defaultActions","key","Component","After","length","enabledActions","reviewActions","paddingTop","paddingBottom","src","alt","icon","label","children","rest","Action","AddComment","hasLikes","isReviewLiked","parseInt","setLikes","liking","setLiking","actionProps","newLiked","CommentsList","containerEl","currentTarget","parentNode","default","ReviewItem","Pagination","Preloader","PreloaderMobile","url","isValidFragment","hash","location","rId","getElementById","preloader","RATING_LABELS","refHover","isHovered","ratingLabel","setRatingLabel","hoverLabel","closest","getAttribute","item","star","percent","generateStars","a","toString","overflow","RatingInput","verify","showMessage","marginBottom","preventDefault","filterForms","clickedValue","dataset","fieldElement","elements","count","calc","cellStyle","whiteSpace","backgroundColor","minHeight","average","labelElement","textAlign","fontWeight","toFixed","verifiedBadge","verifiedRef","AddReview","RatingData","RatingBars","RatingStats","dataProps","gridRowStart"],"sourceRoot":""}