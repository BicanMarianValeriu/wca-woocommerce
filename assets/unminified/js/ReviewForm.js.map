{"version":3,"file":"js/ReviewForm.js","mappings":"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","sources":["webpack://wca-woocommerce/./src/js/frontend/reviews/form/Notification.js","webpack://wca-woocommerce/./src/js/frontend/reviews/form/SuggestTitle.js","webpack://wca-woocommerce/./src/js/frontend/reviews/form/index.js"],"sourcesContent":["import { renderToString as _render } from './../functions';\r\n\r\nconst { Template = { renderToString: _render } } = window.wecodeart || {};\r\n\r\nexport default ({ userData = {}, note, options }) => {\r\n\tconst { product: { title: productTitle } } = options;\r\n\tconst { reviewer: userName = 'visitor' } = userData;\r\n\r\n\treturn (note && <div {...{\r\n\t\tclassName: 'woocommerce-Reviews__respond-note',\r\n\t\tdangerouslySetInnerHTML: { __html: Template.renderToString(note, { userName, productTitle }) },\r\n\t}} />);\r\n};","const {\r\n\ti18n: { __ },\r\n\thooks: { applyFilters },\r\n\telement: { useEffect, useState },\r\n} = wp;\r\n\r\nconst RATING_SUGGESTIONS = applyFilters('wecodeart.woocommerce.reviews.rating.suggestions', {\r\n\t1: [__('Not recommended', 'wca-woo-reviews'), __('Very weak', 'wca-woo-reviews'), __('Not happy', 'wca-woo-reviews')],\r\n\t2: [__('Weak', 'wca-woo-reviews'), __('I don\\'t like it', 'wca-woo-reviews'), __('Disappointing', 'wca-woo-reviews')],\r\n\t3: [__('Decent', 'wca-woo-reviews'), __('Acceptable', 'wca-woo-reviews'), __('Ok', 'wca-woo-reviews')],\r\n\t4: [__('Happy', 'wca-woo-reviews'), __('I like it', 'wca-woo-reviews'), __('Is worth it', 'wca-woo-reviews'), __('Good', 'wca-woo-reviews')],\r\n\t5: [__('Excelent', 'wca-woo-reviews'), __('Very satisfied', 'wca-woo-reviews'), __('Recommended', 'wca-woo-reviews'), __('Cool', 'wca-woo-reviews')],\r\n});\r\n\r\nexport default ({ rating: star = 5 }) => {\r\n\r\n\tconst [current, setCurrent] = useState(RATING_SUGGESTIONS[star]);\r\n\r\n\tuseEffect(() => setCurrent(RATING_SUGGESTIONS[star]), [star]);\r\n\r\n\tconst onClick = (e) => document.forms['wca-woo-addreview'].elements['title'].value = e.currentTarget.textContent;\r\n\r\n\tconst Button = ({ key, label }) => {\r\n\t\tconst props = { type: 'button', className: 'wp-element-button has-accent-background-color has-black-color', key, onClick };\r\n\t\treturn (<button {...props}>{label}</button>);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__suggestions\" style={{ display: 'flex', flexWrap: 'wrap', alignItems: 'center', gap: '.5rem' }}>\r\n\t\t\t{current.map((x, y) => <Button key={y} label={x} />)}\r\n\t\t</div>\r\n\t);\r\n};","import { useForm } from 'react-hook-form';\r\nimport SuggestTitle from './SuggestTitle';\r\nimport Notification from './Notification';\r\nimport RatingInput from './../shared/RatingInput';\r\n\r\nconst {\r\n\ti18n: { __ },\r\n\thooks: { doAction },\r\n\telement: { useState },\r\n} = wp;\r\n\r\nexport default ({ rating, setRating, queryArgs, setQueryArgs, userData = false, options, breakpoint }) => {\r\n\tconst { product: { ID: productId }, terms, note, requestUrl } = options;\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [message, setMessage] = useState(false);\r\n\r\n\tconst { handleSubmit, register, errors } = useForm();\r\n\r\n\tconst onSubmit = async (values, e) => {\r\n\t\tif (loading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconsole.log(values);\r\n\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('action', 'review');\r\n\t\tformData.append('product_id', productId);\r\n\r\n\t\tObject.keys(values).map(k => formData.append(k, values[k]));\r\n\r\n\t\tif (userData) {\r\n\t\t\tObject.keys(userData).map(k => formData.append(k, userData[k]));\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst r = await fetch(requestUrl, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: formData,\r\n\t\t\t});\r\n\r\n\t\t\tconst { message } = await r.json();\r\n\r\n\t\t\tsetMessage(message);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn(e);\r\n\t\t\tsetMessage(e);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t\t// Reset Rating\r\n\t\t\tsetTimeout(() => setRating(false), 3000);\r\n\t\t\t// Scroll to notification\r\n\t\t\te.target.querySelector('#review-success').scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n\t\t\t// Reset Reviews\r\n\t\t\te.target.reset();\r\n\t\t\tsetQueryArgs({ ...queryArgs });\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"woocommerce-Reviews__respond\">\r\n\t\t\t<div className=\"grid\">\r\n\t\t\t\t{note && <div className=\"span-12 span-lg-4 start-lg-9\">\r\n\t\t\t\t\t<Notification {...{ userData, note, options }} />\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"span-12 span-lg-7\" style={{ gridRow: breakpoint === 'mobile' ? 'initial' : 1 }}>\r\n\t\t\t\t\t<form className=\"woocommerce-Reviews__respond-form\" name=\"wca-woo-addreview\" onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newReview.top', register, errors, options)}\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<RatingInput {...{ rating, onClick: setRating }}>\r\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rating\" value={rating} ref={register({\r\n\t\t\t\t\t\t\t\t\t\tvalidate: value => value !== 0,\r\n\t\t\t\t\t\t\t\t\t\trequired: __('This cannot be empty!', 'wca-woo-reviews'),\r\n\t\t\t\t\t\t\t\t\t\tminLength: 1,\r\n\t\t\t\t\t\t\t\t\t\tmaxLength: 5\r\n\t\t\t\t\t\t\t\t\t})} />\r\n\t\t\t\t\t\t\t\t</RatingInput>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!userData && <div className=\"woocommerce-Reviews__respond-field grid\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer span-12 span-md-6\">\r\n\t\t\t\t\t\t\t\t<label for=\"reviewer\">{__('Name', 'wca-woo-reviews')}:</label>\r\n\t\t\t\t\t\t\t\t<input className=\"form-control\" type=\"text\" name=\"reviewer\" id=\"reviewer\" ref={register({\r\n\t\t\t\t\t\t\t\t\trequired: __('What is your name?', 'wca-woo-reviews'),\r\n\t\t\t\t\t\t\t\t\tvalidate: value => value !== 'admin' || __('Nice Try', 'wca-woo-reviews'),\r\n\t\t\t\t\t\t\t\t})} placeholder={__('Name', 'wca-woo-reviews')} />\r\n\t\t\t\t\t\t\t\t{errors.reviewer && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{errors.reviewer.message}</em>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer span-12 span-md-6\">\r\n\t\t\t\t\t\t\t\t<label for=\"reviewer_email\">{__('Email', 'wca-woo-reviews')}:</label>\r\n\t\t\t\t\t\t\t\t<input className=\"form-control\" type=\"email\" name=\"reviewer_email\" id=\"reviewer_email\" ref={register({\r\n\t\t\t\t\t\t\t\t\trequired: __('What is your email address?', 'wca-woo-reviews'),\r\n\t\t\t\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\t\t\t\tvalue: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n\t\t\t\t\t\t\t\t\t\tmessage: __('Invalid email address.', 'wca-woo-reviews')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})} placeholder={__('Email', 'wca-woo-reviews')} />\r\n\t\t\t\t\t\t\t\t{errors.reviewer_email && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{errors.reviewer_email.message}</em>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<label for=\"review_title\">{__('Review title (optional)', 'wca-woo-reviews')}:</label>\r\n\t\t\t\t\t\t\t\t<input className=\"form-control\" type=\"text\" name=\"title\" id=\"review_title\" ref={register}\r\n\t\t\t\t\t\t\t\t\tplaceholder={__('Use a suggestion or write your own title', 'wca-woo-reviews')} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<SuggestTitle rating={rating} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<label for=\"review\">{__('Review', 'wca-woo-reviews')}:</label>\r\n\t\t\t\t\t\t\t\t<textarea className=\"form-control\" id=\"review\" name=\"review\" rows=\"7\" required=\"\" ref={register({\r\n\t\t\t\t\t\t\t\t\trequired: __('This cannot be empty!', 'wca-woo-reviews'),\r\n\t\t\t\t\t\t\t\t\tminLength: 20\r\n\t\t\t\t\t\t\t\t})} placeholder={__('Describe your experience with the product', 'wca-woo-reviews')} ></textarea>\r\n\t\t\t\t\t\t\t\t{errors.review && <em class=\"invalid-feedback\" style={{ display: 'block' }}>{\r\n\t\t\t\t\t\t\t\t\terrors.review.type === 'minLength' ? __('Please be more descriptive.', 'wca-woo-reviews') : errors.review.message\r\n\t\t\t\t\t\t\t\t}</em>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{doAction('wecodeart.woocommerce.reviews.newReview.bottom', register, errors, options)}\r\n\t\t\t\t\t\t{terms && <div className=\"woocommerce-Reviews__respond-field woocommerce-Reviews__respond-field--terms\">\r\n\t\t\t\t\t\t\t<div className=\"mb-spacer\">\r\n\t\t\t\t\t\t\t\t<p className=\"has-small-font-size has-cyan-bluish-gray-color\" dangerouslySetInnerHTML={{ __html: terms }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t<div className=\"woocommerce-Reviews__respond-field\">\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"wp-element-button has-primary-background-color\" {...{ disabled: loading === true }}>{\r\n\t\t\t\t\t\t\t\t__('Add Review', 'wca-woo-reviews')\r\n\t\t\t\t\t\t\t}</button>\r\n\t\t\t\t\t\t\t<span> &nbsp; </span>\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0);\" onClick={() => setRating(false)} className=\"wp-element-link\">{\r\n\t\t\t\t\t\t\t\t__('Cancel', 'wca-woo-reviews')\r\n\t\t\t\t\t\t\t}</a>\r\n\t\t\t\t\t\t\t{message && <div id=\"review-success\" className=\"has-accent-background-color\" style={{ padding: '1rem', marginTop: '1rem', borderRadius: '.25rem' }}>{message}</div>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form >\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};"],"names":["renderToString","_render","Template","window","wecodeart","userData","note","options","product","title","productTitle","reviewer","userName","className","dangerouslySetInnerHTML","__html","i18n","__","hooks","applyFilters","element","useEffect","useState","wp","RATING_SUGGESTIONS","rating","star","current","setCurrent","onClick","e","document","forms","elements","value","currentTarget","textContent","Button","key","label","props","type","display","flexWrap","alignItems","gap","map","x","y","useForm","SuggestTitle","Notification","RatingInput","doAction","setRating","queryArgs","setQueryArgs","breakpoint","ID","productId","terms","requestUrl","loading","setLoading","message","setMessage","handleSubmit","register","errors","onSubmit","values","console","log","formData","FormData","append","Object","keys","k","r","fetch","method","body","json","warn","setTimeout","target","querySelector","scrollIntoView","behavior","block","reset","gridRow","validate","required","minLength","maxLength","pattern","reviewer_email","review","disabled","padding","marginTop","borderRadius"],"sourceRoot":""}