"use strict";(globalThis.webpackChunkwca_woocommerce=globalThis.webpackChunkwca_woocommerce||[]).push([[948],{292:(e,a,o)=>{o.r(a),o.d(a,{default:()=>E});var c=o(462),r=o(307),t=o(536);const{i18n:{__},hooks:{applyFilters:m},element:{useEffect:s,useState:l}}=wp,i=m("wecodeart.woocommerce.reviews.rating.suggestions",{1:[__("Not recommended","wca-woocommerce"),__("Very weak","wca-woocommerce"),__("Not happy","wca-woocommerce")],2:[__("Weak","wca-woocommerce"),__("I don't like it","wca-woocommerce"),__("Disappointing","wca-woocommerce")],3:[__("Decent","wca-woocommerce"),__("Acceptable","wca-woocommerce"),__("Ok","wca-woocommerce")],4:[__("Happy","wca-woocommerce"),__("I like it","wca-woocommerce"),__("Is worth it","wca-woocommerce"),__("Good","wca-woocommerce")],5:[__("Excelent","wca-woocommerce"),__("Very satisfied","wca-woocommerce"),__("Recommended","wca-woocommerce"),__("Cool","wca-woocommerce")]}),n=({rating:e=5,setTitle:a})=>{const[o,c]=l(i[e]);s((()=>c(i[e])),[e]);const t=e=>{const o=e.currentTarget.textContent;a(o),document.forms["wca-woo-addreview"].elements.title.value=o},m=({key:e,label:a})=>{const o={type:"button",className:"wp-element-button has-accent-background-color has-black-color",key:e,onClick:t};return(0,r.createElement)("button",o,a)};return(0,r.createElement)("div",{className:"woocommerce-Reviews__suggestions",style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:".5rem"}},o.map(((e,a)=>(0,r.createElement)(m,{key:a,label:e}))))};var w=o(332);const{Template:d={renderToString:w.Dq}}=window.wecodeart||{},p=({userData:e={},note:a,options:o})=>{const{product:{title:c}}=o,{reviewer:t="visitor"}=e;return a&&(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-note",dangerouslySetInnerHTML:{__html:d.renderToString(a,{userName:t,productTitle:c})}})};var v=o(620);const{i18n:{__:u},hooks:{doAction:b},element:{useState:g}}=wp,E=({rating:e,setRating:a,queryArgs:o,setQueryArgs:m,userData:s=!1,options:l,breakpoint:i})=>{const{product:{ID:w},terms:d,note:E,requestUrl:y}=l,[_,h]=g(!1),[N,f]=g(!1),{handleSubmit:k,register:R,reset:T,formState:{errors:S},setValue:x}=(0,t.cI)({mode:"onSubmit"});return(0,r.createElement)("div",{className:"woocommerce-Reviews__respond"},(0,r.createElement)("div",{className:"grid"},E&&(0,r.createElement)("div",{className:"span-12 span-lg-4 start-lg-9"},(0,r.createElement)(p,{userData:s,note:E,options:l})),(0,r.createElement)("div",{className:"span-12 span-lg-7",style:{gridRow:"mobile"===i?"initial":1}},(0,r.createElement)("form",{className:"woocommerce-Reviews__respond-form",name:"wca-woo-addreview",onSubmit:k((async(e,c)=>{if(_)return;const r=new FormData;r.append("action","review"),r.append("product_id",w),Object.keys(e).map((a=>r.append(a,e[a]))),s&&Object.keys(s).map((e=>r.append(e,s[e]))),h(!0);try{const e=await fetch(y,{method:"POST",body:r}),{message:a}=await e.json();f(a)}catch(c){console.warn(c),f(c)}finally{h(!1),setTimeout((()=>a(!1)),3e3),T(),m({...o})}}))},b("wecodeart.woocommerce.reviews.newReview.top",R,S,l),(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,r.createElement)("div",{className:"mb-spacer"},(0,r.createElement)(v.Z,{rating:e,onClick:a},(0,r.createElement)("input",(0,c.Z)({type:"hidden",name:"rating",value:e},R("rating",{validate:e=>0!==e,minLength:1,maxLength:5})))))),!s&&(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-field grid"},(0,r.createElement)("div",{className:"mb-spacer span-12 span-md-6"},(0,r.createElement)("label",{for:"reviewer"},u("Name","wca-woocommerce"),":"),(0,r.createElement)("input",(0,c.Z)({className:"form-control",type:"text",id:"reviewer",placeholder:u("Name","wca-woocommerce")},R("reviewer",{required:u("What is your name?","wca-woocommerce"),validate:e=>"admin"!==e||u("Nice Try","wca-woocommerce")}))),S.reviewer&&(0,r.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},S.reviewer.message)),(0,r.createElement)("div",{className:"mb-spacer span-12 span-md-6"},(0,r.createElement)("label",{for:"reviewer_email"},u("Email","wca-woocommerce"),":"),(0,r.createElement)("input",(0,c.Z)({className:"form-control",type:"email",id:"reviewer_email",placeholder:u("Email","wca-woocommerce")},R("reviewer_email",{required:u("What is your email address?","wca-woocommerce"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:u("Invalid email address.","wca-woocommerce")}}))),S.reviewer_email&&(0,r.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},S.reviewer_email.message))),(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,r.createElement)("div",{className:"mb-spacer"},(0,r.createElement)("label",{for:"review_title"},u("Review title (optional)","wca-woocommerce"),":"),(0,r.createElement)("input",(0,c.Z)({className:"form-control",type:"text",id:"review_title",placeholder:u("Use a suggestion or write your own title","wca-woocommerce")},R("title")))),(0,r.createElement)("div",{className:"mb-spacer"},(0,r.createElement)(n,{rating:e,setTitle:e=>x("title",e)}))),(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,r.createElement)("div",{className:"mb-spacer"},(0,r.createElement)("label",{for:"review"},u("Review","wca-woocommerce"),":"),(0,r.createElement)("textarea",(0,c.Z)({className:"form-control",id:"review",rows:"7",required:"",placeholder:u("Describe your experience with the product","wca-woocommerce")},R("review",{required:u("This cannot be empty!","wca-woocommerce"),minLength:20}))),S.review&&(0,r.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},"minLength"===S.review.type?u("Please be more descriptive.","wca-woocommerce"):S.review.message))),b("wecodeart.woocommerce.reviews.newReview.bottom",R,S,l),d&&(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-field woocommerce-Reviews__respond-field--terms"},(0,r.createElement)("div",{className:"mb-spacer"},(0,r.createElement)("p",{className:"has-small-font-size has-cyan-bluish-gray-color",dangerouslySetInnerHTML:{__html:d}}))),(0,r.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,r.createElement)("button",{type:"submit",className:"wp-element-button has-primary-background-color",disabled:!0===_},u("Add Review","wca-woocommerce")),(0,r.createElement)("span",null," Â  "),(0,r.createElement)("a",{href:"javascript:void(0);",onClick:()=>a(!1),className:"wp-element-link"},u("Cancel","wca-woocommerce")),N&&(0,r.createElement)("div",{className:"has-accent-background-color",style:{padding:"1rem",marginTop:"1rem",borderRadius:".25rem"}},N))))))}}}]);