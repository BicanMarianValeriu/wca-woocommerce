"use strict";(globalThis.webpackChunkwca_woocommerce=globalThis.webpackChunkwca_woocommerce||[]).push([[948],{292:(e,a,r)=>{r.r(a),r.d(a,{default:()=>g});var t=r(307),o=r(283);const{i18n:{__},hooks:{applyFilters:s},element:{useEffect:c,useState:i}}=wp,l=s("wecodeart.woocommerce.reviews.rating.suggestions",{1:[__("Not recommended","wca-woo-reviews"),__("Very weak","wca-woo-reviews"),__("Not happy","wca-woo-reviews")],2:[__("Weak","wca-woo-reviews"),__("I don't like it","wca-woo-reviews"),__("Disappointing","wca-woo-reviews")],3:[__("Decent","wca-woo-reviews"),__("Acceptable","wca-woo-reviews"),__("Ok","wca-woo-reviews")],4:[__("Happy","wca-woo-reviews"),__("I like it","wca-woo-reviews"),__("Is worth it","wca-woo-reviews"),__("Good","wca-woo-reviews")],5:[__("Excelent","wca-woo-reviews"),__("Very satisfied","wca-woo-reviews"),__("Recommended","wca-woo-reviews"),__("Cool","wca-woo-reviews")]}),n=e=>{let{rating:a=5}=e;const[r,o]=i(l[a]);c((()=>o(l[a])),[a]);const s=e=>document.forms["wca-woo-addreview"].elements.title.value=e.currentTarget.textContent,n=e=>{let{key:a,label:r}=e;const o={type:"button",className:"wp-element-button has-accent-background-color has-black-color",key:a,onClick:s};return(0,t.createElement)("button",o,r)};return(0,t.createElement)("div",{className:"woocommerce-Reviews__suggestions",style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:".5rem"}},r.map(((e,a)=>(0,t.createElement)(n,{key:a,label:e}))))};var w=r(332);const{Template:m={renderToString:w.Dq}}=window.wecodeart||{},d=e=>{let{userData:a={},note:r,options:o}=e;const{product:{title:s}}=o,{reviewer:c="visitor"}=a;return r&&(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-note",dangerouslySetInnerHTML:{__html:m.renderToString(r,{userName:c,productTitle:s})}})};var v=r(620);const{i18n:{__:p},hooks:{doAction:u},element:{useState:b}}=wp,g=e=>{let{rating:a,setRating:r,queryArgs:s,setQueryArgs:c,userData:i=!1,options:l,breakpoint:w}=e;const{product:{ID:m},terms:g,note:y,requestUrl:E}=l,[_,h]=b(!1),[f,N]=b(!1),{handleSubmit:k,register:R,errors:T}=(0,o.cI)();return(0,t.createElement)("div",{className:"woocommerce-Reviews__respond"},(0,t.createElement)("div",{className:"grid"},y&&(0,t.createElement)("div",{className:"span-12 span-lg-4 start-lg-9"},(0,t.createElement)(d,{userData:i,note:y,options:l})),(0,t.createElement)("div",{className:"span-12 span-lg-7",style:{gridRow:"mobile"===w?"initial":1}},(0,t.createElement)("form",{className:"woocommerce-Reviews__respond-form",name:"wca-woo-addreview",onSubmit:k((async(e,a)=>{if(_)return;console.log(e);const t=new FormData;t.append("action","review"),t.append("product_id",m),Object.keys(e).map((a=>t.append(a,e[a]))),i&&Object.keys(i).map((e=>t.append(e,i[e]))),h(!0);try{const e=await fetch(E,{method:"POST",body:t}),{message:o}=await e.json();N(o)}catch(a){console.warn(a),N(a)}finally{h(!1),setTimeout((()=>r(!1)),3e3),a.target.querySelector("#review-success").scrollIntoView({behavior:"smooth",block:"end"}),a.target.reset(),c({...s})}}))},u("wecodeart.woocommerce.reviews.newReview.top",R,T,l),(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,t.createElement)("div",{className:"mb-spacer"},(0,t.createElement)(v.Z,{rating:a,onClick:r},(0,t.createElement)("input",{type:"hidden",name:"rating",value:a,ref:R({validate:e=>0!==e,required:p("This cannot be empty!","wca-woo-reviews"),minLength:1,maxLength:5})})))),!i&&(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-field grid"},(0,t.createElement)("div",{className:"mb-spacer span-12 span-md-6"},(0,t.createElement)("label",{for:"reviewer"},p("Name","wca-woo-reviews"),":"),(0,t.createElement)("input",{className:"form-control",type:"text",name:"reviewer",id:"reviewer",ref:R({required:p("What is your name?","wca-woo-reviews"),validate:e=>"admin"!==e||p("Nice Try","wca-woo-reviews")}),placeholder:p("Name","wca-woo-reviews")}),T.reviewer&&(0,t.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},T.reviewer.message)),(0,t.createElement)("div",{className:"mb-spacer span-12 span-md-6"},(0,t.createElement)("label",{for:"reviewer_email"},p("Email","wca-woo-reviews"),":"),(0,t.createElement)("input",{className:"form-control",type:"email",name:"reviewer_email",id:"reviewer_email",ref:R({required:p("What is your email address?","wca-woo-reviews"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:p("Invalid email address.","wca-woo-reviews")}}),placeholder:p("Email","wca-woo-reviews")}),T.reviewer_email&&(0,t.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},T.reviewer_email.message))),(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,t.createElement)("div",{className:"mb-spacer"},(0,t.createElement)("label",{for:"review_title"},p("Review title (optional)","wca-woo-reviews"),":"),(0,t.createElement)("input",{className:"form-control",type:"text",name:"title",id:"review_title",ref:R,placeholder:p("Use a suggestion or write your own title","wca-woo-reviews")})),(0,t.createElement)("div",{className:"mb-spacer"},(0,t.createElement)(n,{rating:a}))),(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,t.createElement)("div",{className:"mb-spacer"},(0,t.createElement)("label",{for:"review"},p("Review","wca-woo-reviews"),":"),(0,t.createElement)("textarea",{className:"form-control",id:"review",name:"review",rows:"7",required:"",ref:R({required:p("This cannot be empty!","wca-woo-reviews"),minLength:20}),placeholder:p("Describe your experience with the product","wca-woo-reviews")}),T.review&&(0,t.createElement)("em",{class:"invalid-feedback",style:{display:"block"}},"minLength"===T.review.type?p("Please be more descriptive.","wca-woo-reviews"):T.review.message))),u("wecodeart.woocommerce.reviews.newReview.bottom",R,T,l),g&&(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-field woocommerce-Reviews__respond-field--terms"},(0,t.createElement)("div",{className:"mb-spacer"},(0,t.createElement)("p",{className:"has-small-font-size has-cyan-bluish-gray-color",dangerouslySetInnerHTML:{__html:g}}))),(0,t.createElement)("div",{className:"woocommerce-Reviews__respond-field"},(0,t.createElement)("button",{type:"submit",className:"wp-element-button has-primary-background-color",disabled:!0===_},p("Add Review","wca-woo-reviews")),(0,t.createElement)("span",null," Â  "),(0,t.createElement)("a",{href:"javascript:void(0);",onClick:()=>r(!1),className:"wp-element-link"},p("Cancel","wca-woo-reviews")),f&&(0,t.createElement)("div",{id:"review-success",className:"has-accent-background-color",style:{padding:"1rem",marginTop:"1rem",borderRadius:".25rem"}},f))))))}}}]);