(()=>{"use strict";const e=window.wp.element,{i18n:{__,sprintf:t},hooks:{addFilter:o},components:{Placeholder:n,DropdownMenu:a,ToggleControl:c,Card:r,CardHeader:l,CardBody:m,Dashicon:i,Spinner:s,Button:d},element:{useState:p,useEffect:w}}=wp,{missing:u=[]}=wecodeartWooCommerce;o("wecodeart.admin.tabs.plugins","wecodeart/woocommerce/admin/panel",(function(t){return[...t,{name:"wca-woocommerce",title:__("WooCommerce","wca-woocommerce"),render:t=>(0,e.createElement)(h,t)}]}));const h=o=>{const{settings:w,saveSettings:h,isRequesting:g,createNotice:E}=o;if(g||!w)return(0,e.createElement)(n,{icon:(0,e.createElement)(s,null),label:__("Loading","wca-woocommerce"),instructions:__("Please wait, loading settings...","wca-woocommerce")});const[y,b]=p(null),[f,_]=p(u),v=(e=>{let{woocommerce:t}=e;return t})(w),[C,x]=p(v),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b(!1),e||(e=__("Settings saved.","wca-woocommerce")),E("success",e)};return(0,e.createElement)(e.Fragment,null,f.length?(0,e.createElement)("div",{className:"components-notice is-warning flex-column align-items-start m-0 mb-3"},(0,e.createElement)("h3",{className:"my-3"},__("Your current theme is missing the following WooCommerce templates:","wecodeart")),(0,e.createElement)("ul",{className:"my-0"},f.map((t=>{let{title:o,description:n}=t;return(0,e.createElement)("li",null,(0,e.createElement)("strong",null,o),": ",n)}))),(0,e.createElement)("p",null,(0,e.createElement)(d,{className:"button",isPrimary:!0,icon:y&&(0,e.createElement)(s,null),onClick:()=>{b(!0);const e=new FormData;return e.append("action","wca_manage_woo_data"),e.append("type","copy"),e.append("slugs",JSON.stringify(f.map((e=>{let{slug:t}=e;return t})))),fetch(ajaxurl,{method:"POST",body:e}).then((e=>e.json())).then((e=>{let{data:{message:t="",success:o=[]}={}}=e;o.length&&_([...f.filter((e=>{let{slug:t}=e;return!o.includes(t)}))]),S(t)}))},disabled:y},y?"":__("Install Templates","wecodeart")))):null,(0,e.createElement)(r,{className:"border shadow-none"},(0,e.createElement)(l,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},__("Optimization","wca-woocommerce"))),(0,e.createElement)(m,null,(0,e.createElement)(c,{label:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,e.createElement)("span",null,__("Remove legacy CSS?","wca-woocommerce")),(0,e.createElement)(a,{label:__("More Information","wca-woocommerce"),icon:(0,e.createElement)(i,{icon:"info",style:{color:"var(--wca--header--color)"}}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)("p",{style:{minWidth:250,margin:0}},__("These styles primarily cater to legacy themes, whereas WooCommerce blocks now have their own styles.","wca-woocommerce")))))),help:t(__("Default WooCommerce style will be %s.","wca-woocommerce"),C.remove_style?__("removed","wca-woocommerce"):__("loaded","wca-woocommerce")),checked:C.remove_style,onChange:e=>x({...C,remove_style:e})}),(0,e.createElement)(c,{label:__("Replace Select2 CSS?","wca-woocommerce"),help:__("Replace Select2 stylesheet with an optimized version for our theme.","wca-woocommerce"),checked:C.replace_select2_style,onChange:e=>x({...C,replace_select2_style:e})}))),(0,e.createElement)(r,{className:"border border-top-0 shadow-none"},(0,e.createElement)(l,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},__("Functionality","wca-woocommerce"))),(0,e.createElement)(m,null,(0,e.createElement)(c,{label:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,e.createElement)("span",null,__("Enable product price extras?","wca-woocommerce")),(0,e.createElement)(a,{label:__("More Information","wca-woocommerce"),icon:(0,e.createElement)(i,{icon:"info",style:{color:"var(--wca--header--color)"}}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)("p",{style:{minWidth:250,margin:0}},__("A new field has been introduced in the product administration page for both normal and variation products.","wca-woocommerce")))))),help:__("Enhance the Product Price block by integrating a tooltip that showcases the recommended price set by the producer.","wca-woocommerce"),checked:C.product_price_extra,onChange:e=>x({...C,product_price_extra:e})}),(0,e.createElement)(c,{label:__("Enable product rating extras?","wca-woocommerce"),help:__("Enhance the Product Rating block by incorporating enhanced and visually captivating rating information.","wca-woocommerce"),checked:C.product_rating_extra,onChange:e=>x({...C,product_rating_extra:e})}))),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(d,{className:"button",isPrimary:!0,isLarge:!0,icon:y&&(0,e.createElement)(s,null),onClick:()=>{b(!0),h({woocommerce:C},(()=>S()))},disabled:y},y?"":__("Save","wecodeart")))}})();