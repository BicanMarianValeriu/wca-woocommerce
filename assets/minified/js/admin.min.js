(()=>{"use strict";const e=window.wp.element,{i18n:{__},components:{Spinner:t,Button:o},element:{useState:n}}=wp,{missing:c=[]}=wecodeartWooCommerce,a=a=>{let{loading:r,setLoading:l,handleNotice:m}=a;const[i,s]=n(c);return 0===i.length?null:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"components-notice is-warning flex-column align-items-start m-0 mb-3"},(0,e.createElement)("h3",{className:"my-3"},__("Your current theme is missing the following WooCommerce templates:","wca-woocommerce")),(0,e.createElement)("ul",{className:"my-0"},i.map((t=>{let{title:o,description:n}=t;return(0,e.createElement)("li",null,(0,e.createElement)("strong",null,o),": ",n)}))),(0,e.createElement)("p",null,(0,e.createElement)(o,{className:"button",isPrimary:!0,icon:r&&(0,e.createElement)(t,null),onClick:()=>{l(!0);const e=new FormData;return e.append("action","wca_manage_woo_data"),e.append("type","copy"),e.append("slugs",JSON.stringify(i.map((e=>{let{slug:t}=e;return t})))),fetch(ajaxurl,{method:"POST",body:e}).then((e=>e.json())).then((e=>{let{data:{message:t="",success:o=[]}={}}=e;o.length&&s([...i.filter((e=>{let{slug:t}=e;return!o.includes(t)}))]),m(t)}))},disabled:r},r?"":__("Install Templates","wca-woocommerce")))))},{i18n:{__:r,sprintf:l},hooks:{addFilter:m},components:{Placeholder:i,DropdownMenu:s,RangeControl:d,ToggleControl:u,Card:p,CardHeader:w,CardBody:g,Dashicon:h,Spinner:E,Button:y},element:{useState:b}}=wp;m("wecodeart.admin.tabs.plugins","wecodeart/woocommerce/admin/panel",(function(t){return[...t,{name:"wca-woocommerce",title:r("WooCommerce","wca-woocommerce"),render:t=>(0,e.createElement)(_,t)}]}));const _=t=>{const{settings:o,saveSettings:n,isRequesting:c,createNotice:m}=t;if(c||!o)return(0,e.createElement)(i,{icon:(0,e.createElement)(E,null),label:r("Loading","wca-woocommerce"),instructions:r("Please wait, loading settings...","wca-woocommerce")});const[_,f]=b(null),C=(e=>{let{woocommerce:t}=e;return t})(o),[v,x]=b(C),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return f(!1),e||(e=r("Settings saved.","wca-woocommerce")),m("success",e)};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,{loading:_,setLoading:f,handleNotice:S}),(0,e.createElement)(p,{className:"border shadow-none"},(0,e.createElement)(w,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},r("Optimization","wca-woocommerce"))),(0,e.createElement)(g,null,(0,e.createElement)(u,{label:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,e.createElement)("span",null,r("Remove legacy CSS?","wca-woocommerce")),(0,e.createElement)(s,{label:r("More Information","wca-woocommerce"),icon:(0,e.createElement)(h,{icon:"info",style:{color:"var(--wca--header--color)"}}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)("p",{style:{minWidth:250,margin:0}},r("These styles primarily cater to legacy themes, whereas WooCommerce blocks now have their own styles.","wca-woocommerce")))))),help:l(r("Default WooCommerce style will be %s.","wca-woocommerce"),r(v?.remove_style?"removed":"loaded","wca-woocommerce")),checked:v?.remove_style,onChange:e=>x({...v,remove_style:e})}),(0,e.createElement)(u,{label:r("Replace Select2 CSS?","wca-woocommerce"),help:r("Replace Select2 stylesheet with an optimized version for our theme.","wca-woocommerce"),checked:v?.replace_select2_style,onChange:e=>x({...v,replace_select2_style:e})}))),(0,e.createElement)(p,{className:"border border-top-0 shadow-none"},(0,e.createElement)(w,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},r("Functionality","wca-woocommerce"))),(0,e.createElement)(g,null,(0,e.createElement)(u,{label:(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,e.createElement)("span",null,r("Enable product price extras?","wca-woocommerce")),(0,e.createElement)(s,{label:r("More Information","wca-woocommerce"),icon:(0,e.createElement)(h,{icon:"info",style:{color:"var(--wca--header--color)"}}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)("p",{style:{minWidth:250,margin:0}},r("A new field has been introduced in the product administration page for both normal and variation products.","wca-woocommerce")))))),help:r("Enhance the Product Price block by integrating a tooltip that showcases the recommended price set by the producer.","wca-woocommerce"),checked:v?.product_price_extra,onChange:e=>x({...v,product_price_extra:e})}),(0,e.createElement)(u,{label:r("Enable product rating extras?","wca-woocommerce"),help:r("Enhance the Product Rating block(s) by incorporating enhanced and visually captivating rating information.","wca-woocommerce"),checked:v?.product_rating_extra,onChange:e=>x({...v,product_rating_extra:e})}),(0,e.createElement)(u,{label:r("Enable customer account extras?","wca-woocommerce"),help:r("Enhance the Customer Account block by adding a dropdown with WooCommerce's account page endpoints.","wca-woocommerce"),checked:v?.customer_account_extra,onChange:e=>x({...v,customer_account_extra:e})}),(0,e.createElement)(d,{label:r("Product gallery columns","wca-woocommerce"),value:v?.product_gallery_cols,onChange:e=>x({...v,product_gallery_cols:e}),min:3,max:8}))),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(y,{className:"button",isPrimary:!0,isLarge:!0,icon:_&&(0,e.createElement)(E,null),onClick:()=>{f(!0),n({woocommerce:v},(()=>S()))},disabled:_},_?"":r("Save","wecodeart")))}})();